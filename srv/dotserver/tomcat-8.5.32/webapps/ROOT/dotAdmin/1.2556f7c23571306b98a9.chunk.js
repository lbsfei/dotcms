webpackJsonp([1],{"+JSr":function(e,t){e.exports='<i class="fa field__icon" [ngClass]="fieldService.getIcon(field.clazz)"></i>\n\n<div class="field__properties">\n    <div class="field__name">{{ field.name }} <span class="field__variable">({{ field.variable }})</span></div>\n    <div class="field__attribute" innerHTML="{{ fieldAttributes }}"></div>\n</div>\n\n<div class="field__actions">\n    <dot-icon-button-tooltip *ngIf="!field.fixed"\n        class="field__actions-delete"\n        icon="fa-trash"\n        [tooltipText]="i18nMessages[\'contenttypes.action.delete\']"\n        (click)="removeItem($event)">\n    </dot-icon-button-tooltip>\n    <dot-icon-button-tooltip \n        class="field__actions-edit"\n        icon="fa-edit"\n        [tooltipText]="i18nMessages[\'contenttypes.action.edit\']"\n        (click)="this.onClick($event)">\n    </dot-icon-button-tooltip>\n</div>'},"/Lkn":function(e,t,n){"use strict";var o=n("pICe");t.dragula=o.dragula;var i=n("Kg3V");t.DragulaDirective=i.DragulaDirective;var r=n("sY2v");t.DragulaService=r.DragulaService;var s=n("NijM");t.DragulaModule=s.DragulaModule},"2Mh4":function(e,t,n){"use strict";n("Xu08");var o=n("tDhJ");n.d(t,"FieldRow",function(){return o.a});var i=n("eu0V");n.n(i);n.o(i,"ContentTypeField")&&n.d(t,"ContentTypeField",function(){return i.ContentTypeField});var r=n("x33D");n.n(r);n.o(r,"ContentTypeField")&&n.d(t,"ContentTypeField",function(){return r.ContentTypeField});var s=n("Zu8n");n.n(s);n.o(s,"ContentTypeField")&&n.d(t,"ContentTypeField",function(){return s.ContentTypeField})},"3mjL":function(e,t){e.exports='<div [formGroup]="group">\n    <label class="form__label">{{ i18nMessages[\'contenttypes.field.properties.hint.label\'] }}</label>\n    <input \n        pInputText \n        type="text" \n        [formControlName]="property.name">\n</div>'},"4CSn":function(e,t){e.exports='<div [formGroup]="group" *ngIf="radioInputs">\n    <label class="form__label">{{ i18nMessages[\'contenttypes.field.properties.data_type.label\'] }}</label>\n    <p-radioButton *ngFor="let radio of radioInputs"\n        [label]="i18nMessages[radio.text]" \n        name="dataType" \n        [value]="radio.value" \n        [formControlName]="property.name">\n    </p-radioButton>\n</div>'},"5RPL":function(e,t,n){"use strict";var o=n("/oeL"),i=n("bm2B"),r=n("I3wY"),s=n("iISA"),a=n("2Mh4"),c=n("D1QE"),l=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),d=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(e){function t(t,n,i){var r=e.call(this,["contenttypes.field.properties.name.label","contenttypes.field.properties.category.label","contenttypes.field.properties.required.label","contenttypes.field.properties.user_searchable.label","contenttypes.field.properties.system_indexed.label","contenttypes.field.properties.listed.label","contenttypes.field.properties.unique.label","contenttypes.field.properties.default_value.label","contenttypes.field.properties.hint.label","contenttypes.field.properties.validation_regex.label","contenttypes.field.properties.data_type.label","contenttypes.field.properties.value.label","contenttypes.field.properties.data_type.values.binary","contenttypes.field.properties.data_type.values.text","contenttypes.field.properties.data_type.values.boolean","contenttypes.field.properties.data_type.values.date","contenttypes.field.properties.data_type.values.decimal","contenttypes.field.properties.data_type.values.number","contenttypes.field.properties.data_type.values.large_text","contenttypes.field.properties.data_type.values.system","contenttypes.field.properties.category.error.required","contenttypes.field.properties.default_value..error.format","contenttypes.field.properties.name.error.required","contenttypes.field.properties.validation_regex.values.select","contenttypes.field.properties.validation_regex.values.no_html","contenttypes.field.properties.validation_regex.values.us_phone","contenttypes.field.properties.validation_regex.values.us_zip_code","contenttypes.field.properties.validation_regex.values.letters_only","contenttypes.field.properties.validation_regex.values.numbers_only","contenttypes.field.properties.validation_regex.values.email","contenttypes.field.properties.validation_regex.values.alphanumeric","contenttypes.field.properties.validation_regex.values.url_pattern"],n)||this;return r.fb=t,r.dotMessageService=n,r.fieldPropertyService=i,r.saveField=new o.EventEmitter,r.fieldProperties=[],r.checkboxFields=["indexed","listed","required","searchable","unique"],r}return l(t,e),t.prototype.ngOnChanges=function(e){if(e.formFieldData.currentValue&&this.formFieldData){this.updateFormFieldData();var t=this.fieldPropertyService.getProperties(this.formFieldData.clazz);this.initFormGroup(t),this.sortProperties(t)}},t.prototype.ngOnInit=function(){this.initFormGroup()},t.prototype.saveFieldProperties=function(){var e=this;this.form.valid?this.saveField.emit(this.form.value):this.fieldProperties.forEach(function(t){return e.form.get(t).markAsTouched()})},t.prototype.destroy=function(){this.fieldProperties=[];var e=this.propertiesContainer.nativeElement;e.childNodes.forEach(function(t){t.tagName&&e.removeChild(t)})},t.prototype.initFormGroup=function(e){var t=this,n={};e&&(e.filter(function(e){return t.fieldPropertyService.existsComponent(e)}).forEach(function(e){n[e]=[{value:t.formFieldData[e]||t.fieldPropertyService.getDefaultValue(e,t.formFieldData.clazz),disabled:t.formFieldData.id&&t.isPropertyDisabled(e)},t.fieldPropertyService.getValidations(e)]}),n.clazz=this.formFieldData.clazz),this.form=this.fb.group(n),this.setAutoCheckValues()},t.prototype.isPropertyDisabled=function(e){return this.fieldPropertyService.isDisabledInEditMode(e)||this.formFieldData.fixed&&this.fieldPropertyService.isDisabledInFixed(e)},t.prototype.sortProperties=function(e){var t=this;this.fieldProperties=e.filter(function(e){return t.fieldPropertyService.existsComponent(e)}).sort(function(e,n){return t.fieldPropertyService.getOrder(e)-t.fieldPropertyService.getOrder(n)})},t.prototype.setAutoCheckValues=function(){var e=this;[this.form.get("searchable"),this.form.get("listed"),this.form.get("unique")].filter(function(e){return!!e}).forEach(function(t){e.handleCheckValues(t)})},t.prototype.handleCheckValues=function(e){var t=this;e.value&&(e===this.form.get("unique")&&this.handleDisabledRequired(!0),this.handleDisabledIndexed(!0)),e.valueChanges.subscribe(function(n){e===t.form.get("unique")?t.handleUniqueValuesChecked(n):t.setIndexedValueChecked(n)})},t.prototype.setIndexedValueChecked=function(e){this.form.get("indexed")&&e&&this.form.get("indexed").setValue(e),this.handleDisabledIndexed(e)},t.prototype.handleUniqueValuesChecked=function(e){this.setIndexedValueChecked(e),this.form.get("required")&&e&&this.form.get("required").setValue(e),this.handleDisabledRequired(e),this.handleDisabledIndexed(!0)},t.prototype.handleDisabledIndexed=function(e){this.form.get("indexed")&&(e?this.form.get("indexed").disable():this.form.get("indexed").enable())},t.prototype.handleDisabledRequired=function(e){this.form.get("required")&&(e?this.form.get("required").disable():this.form.get("required").enable())},t.prototype.updateFormFieldData=function(){this.formFieldData.id||delete this.formFieldData.name},t}(s.a);d([Object(o.Output)(),p("design:type","function"==typeof(f="undefined"!=typeof o.EventEmitter&&o.EventEmitter)&&f||Object)],u.prototype,"saveField",void 0),d([Object(o.Input)(),p("design:type","function"==typeof(m="undefined"!=typeof a.ContentTypeField&&a.ContentTypeField)&&m||Object)],u.prototype,"formFieldData",void 0),d([Object(o.ViewChild)("properties"),p("design:type",Object)],u.prototype,"propertiesContainer",void 0),u=d([Object(o.Component)({selector:"dot-content-type-fields-properties-form",styles:[n("7sX2")],template:n("ohoY"),encapsulation:o.ViewEncapsulation.None}),p("design:paramtypes",["function"==typeof(y="undefined"!=typeof i.FormBuilder&&i.FormBuilder)&&y||Object,"function"==typeof(h="undefined"!=typeof r.a&&r.a)&&h||Object,"function"==typeof(g="undefined"!=typeof c.b&&c.b)&&g||Object])],u);var f,m,y,h,g;n.d(t,"a",function(){return u})},"7Juh":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o={"com.dotcms.contenttype.model.field.ImmutableRadioField":[{text:"contenttypes.field.properties.data_type.values.text",value:"TEXT"},{text:"contenttypes.field.properties.data_type.values.boolean",value:"BOOL"},{text:"contenttypes.field.properties.data_type.values.decimal",value:"FLOAT"},{text:"contenttypes.field.properties.data_type.values.number",value:"INTEGER"}],"com.dotcms.contenttype.model.field.ImmutableSelectField":[{text:"contenttypes.field.properties.data_type.values.text",value:"TEXT"},{text:"contenttypes.field.properties.data_type.values.boolean",value:"BOOL"},{text:"contenttypes.field.properties.data_type.values.decimal",value:"FLOAT"},{text:"contenttypes.field.properties.data_type.values.number",value:"INTEGER"}],"com.dotcms.contenttype.model.field.ImmutableTextField":[{text:"contenttypes.field.properties.data_type.values.text",value:"TEXT"},{text:"contenttypes.field.properties.data_type.values.decimal",value:"FLOAT"},{text:"contenttypes.field.properties.data_type.values.number",value:"INTEGER"}]}},"7S/r":function(e,t){e.exports='<div [formGroup]="group">\n    <label class="form__label">{{ i18nMessages[\'categories\'] }}</label>\n    <dot-searchable-dropdown #searchableDropdown \n        [data]="categoriesCurrentPage"\n        [formControlName]="property.name"\n        [pageLinkSize]="paginationService.maxLinksPage"\n        [rows]="paginationService.paginationPerPage"\n        [totalRecords]="paginationService.totalRecords"\n        (filterChange)="handleFilterChange($event)"\n        (pageChange)="handlePageChange($event)"\n        labelPropertyName="categoryName"\n        placeholder="{{ placeholder }}">\n    </dot-searchable-dropdown>*\n\n    <dot-field-validation-message \n        [field]="group.controls[property.name]"\n        [message]="i18nMessages[\'contenttypes.field.properties.category.error.required\']">\n    </dot-field-validation-message>\n</div>\n'},"7S79":function(e,t){e.exports='<span dotMdInputtext [label]="label" *ngIf="floatingLabel; else placeholded">\n    <p-autoComplete\n        (completeMethod)="search($event.query)"\n        (onClear)="onClear($event)"\n        (onSelect)="onSelect($event)"\n        [inputStyle]="{\'width\': \'100%\', \'padding\': \'0\'}"\n        [minLength]="3"\n        [ngModel]="val"\n        [style]="style"\n        [suggestions]="results"\n        field="path">\n    </p-autoComplete>\n</span>\n\n<ng-template #placeholded>\n    <p-autoComplete\n        (completeMethod)="search($event.query)"\n        (onClear)="onClear($event)"\n        (onSelect)="onSelect($event)"\n        [inputStyle]="{\'width\': \'100%\', \'padding\': \'0\'}"\n        [minLength]="3"\n        [ngModel]="val"\n        [placeholder]="label"\n        [style]="style"\n        [suggestions]="results"\n        field="path">\n    </p-autoComplete>\n</ng-template>\n'},"7sX2":function(e,t,n){(e.exports=n("rP7Y")(!1)).push([e.i,".content-type-fields__properties-form .form__group .md-inputtext,.content-type-fields__properties-form .form__group .ui-inputtext{width:100%}",""]),e.exports=e.exports.toString()},"8BZn":function(e,t,n){(e.exports=n("rP7Y")(!1)).push([e.i,":root{--color-background:#3a3847;--color-main:#c336e5;--color-main_mod:#d369ec;--color-main_rgb:195,54,229;--color-sec:#54428e;--color-sec_rgb:84,66,142}:host{display:block}:host ::ng-deep .ui-multiselect,:host ::ng-deep searchable-dropdown .ui-button{width:100%}",""]),e.exports=e.exports.toString()},"8hJq":function(e,t,n){(e.exports=n("rP7Y")(!1)).push([e.i,":root{--color-background:#3a3847;--color-main:#c336e5;--color-main_mod:#d369ec;--color-main_rgb:195,54,229;--color-sec:#54428e;--color-sec_rgb:84,66,142}:host{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-bottom:8px;padding:0 16px;max-height:70px}.dot-add-rows__container{border:1px solid #c5c5c5;overflow:hidden;height:70px;position:relative}.dot-add-rows-button__container,.dot-add-rows-columns-list__container{display:-webkit-box;display:-ms-flexbox;display:flex;position:absolute;width:100%;transition:top .2s ease-in-out,bottom .2s ease-out}.dot-add-rows-button__container{text-align:center;height:70px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;top:-70px}.dot-add-rows-button__container.dot-add-rows__add{top:0}.dot-add-rows-columns-list__container{margin:0;padding:0;list-style:none;bottom:-70px}.dot-add-rows-columns-list__container.dot-add-rows__select{bottom:0}.dot-add-rows-columns-list__item{cursor:pointer;height:70px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;padding:16px;border-right:1px solid #c5c5c5;outline:none}.dot-add-rows-columns-list__item:last-child{border-right:none}.dot-add-rows-columns-list__item .dot-add-rows-columns-list__item-col{background-color:#c5c5c5;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;margin:0 4px}.dot-add-rows-columns-list__item .dot-add-rows-columns-list__item-col:first-child{margin-left:0}.dot-add-rows-columns-list__item .dot-add-rows-columns-list__item-col:last-child{margin-right:0}.dot-add-rows-columns-list__item.active{background-color:#c336e5;background-color:var(--color-main)}.dot-add-rows-columns-list__item.active .dot-add-rows-columns-list__item-col{background-color:#fafafa}",""]),e.exports=e.exports.toString()},"8z3O":function(e,t,n){"use strict";function o(e){var t=i[e];return t?t.lastIndex=0:i[e]=t=new RegExp(r+e+s,"g"),t}var i={},r="(?:^|\\s)",s="(?:\\s|$)";e.exports={add:function(e,t){var n=e.className;n.length?o(t).test(n)||(e.className+=" "+t):e.className=t},rm:function(e,t){e.className=e.className.replace(o(t)," ").trim()}}},"96aN":function(e,t){e.exports='<div [formGroup]="group">\n    <p-checkbox\n        [label]="i18nMessages[setCheckboxLabel(property.name)]"\n        [value]="property.value"\n        [formControlName]="property.name"\n        binary="true">\n    </p-checkbox>\n</div>'},"9gjF":function(e,t,n){"use strict";var o=n("/oeL"),i=n("2Mh4"),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function e(){this.rows=[4,3,2,1]}return e.prototype.numberOfCols=function(e){return Array(e).fill("")},e.prototype.ngOnInit=function(){this.fieldRows=this.rows.map(function(e){return new i.FieldRow(e)})},e}();a=r([Object(o.Component)({selector:"dot-content-type-fields-row-list",styles:[n("p+eK")],template:n("Ur3V")}),s("design:paramtypes",[])],a),n.d(t,"a",function(){return a})},CPEM:function(e,t,n){"use strict";var o=n("D1QE"),i=n("/oeL"),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function e(e){this.fieldService=e}return e.prototype.ngOnInit=function(){var e=this;this.fieldService.loadFieldTypes().subscribe(function(t){return e.fieldTypes=t.map(function(e){return{clazz:e.clazz,name:e.label}})})},e}();a=r([Object(i.Component)({selector:"dot-content-types-fields-list",styles:[n("ys0P")],template:n("D0X3")}),s("design:paramtypes",["function"==typeof(c="undefined"!=typeof o.c&&o.c)&&c||Object])],a);var c;n.d(t,"a",function(){return a})},CtlF:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o={clazz:"com.dotcms.contenttype.model.field.ImmutableColumnField"},i={clazz:"com.dotcms.contenttype.model.field.ImmutableRowField"},r=function(){function e(){}return e.isNewField=function(e){return!e.id},e.isRowOrColumn=function(e){return this.isRow(e)||this.isColumn(e)},e.isRow=function(e){return e.clazz===i.clazz},e.isColumn=function(e){return e.clazz===o.clazz},e.createLineDivider=function(){return Object.assign({},i)},e.createTabDivider=function(){return Object.assign({},o)},e.splitFieldsByLineDivider=function(t){return e.splitFieldsBy(t,i.clazz)},e.splitFieldsByTabDivider=function(t){return e.splitFieldsBy(t,o.clazz)},e.splitFieldsBy=function(e,t){var n,o=[];return e.forEach(function(e){e.clazz===t&&(n=[],o.push(n)),n||(n=[],o.push(n)),n.push(e)}),o},e}()},D0JW:function(e,t,n){"use strict";(function(t){var n=[],o="",i=/^on/;for(o in t)i.test(o)&&n.push(o.slice(2));e.exports=n}).call(t,n("fRUx"))},D0X3:function(e,t){e.exports='<ul \n    *ngIf="fieldTypes"\n    class="content-types-fields-list"\n    [dragulaModel]="fieldTypes"\n    dragula="fields-bag"   \n    data-drag-type="source">\n    \n    <li class="content-types-fields-list__item"\n        *ngFor="let fieldType of fieldTypes">\n        <i class="fa content-types-fields-list__item-icon" [ngClass]="fieldService.getIcon(fieldType.clazz)"></i>\n        <span class="content-types-fields-list__item-name">{{ fieldType.name }}</span>\n    </li>\n</ul>'},D1QE:function(e,t,n){"use strict";var o=n("mzUz"),i=n("/oeL"),r=n("/Lkn"),s=n("TO51"),a=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=d=function(){function e(e){var t=this;this.dragulaService=e,this._fieldDropFromSource=new s.Subject,this._fieldDropFromTarget=new s.Subject,this._fieldRowDropFromSource=new s.Subject,this._fieldRowDropFromTarget=new s.Subject,e.dropModel.subscribe(function(e){t.handleDrop(e[0],e[3].dataset.dragType)}),e.removeModel.subscribe(function(e){t.handleDrop(e[0],e[3].dataset.dragType)})}return e.prototype.setBagOptions=function(){this.setFieldBagOptions(),this.setFieldRowBagOptions()},e.prototype.setFieldBagOptions=function(){this.dragulaService.find(d.FIELD_BAG_NAME)||this.dragulaService.setOptions(d.FIELD_BAG_NAME,{copy:this.shouldCopy,accepts:this.shouldAccepts,moves:this.shouldMovesField})},e.prototype.setFieldRowBagOptions=function(){this.dragulaService.find(d.FIELD_ROW_BAG_NAME)||this.dragulaService.setOptions(d.FIELD_ROW_BAG_NAME,{copy:this.shouldCopy,moves:this.shouldMoveRow})},Object.defineProperty(e.prototype,"fieldDropFromSource$",{get:function(){return this._fieldDropFromSource.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldDropFromTarget$",{get:function(){return this._fieldDropFromTarget.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldRowDropFromSource$",{get:function(){return this._fieldRowDropFromSource.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldRowDropFromTarget$",{get:function(){return this._fieldRowDropFromTarget.asObservable()},enumerable:!0,configurable:!0}),e.prototype.handleDrop=function(e,t){"fields-bag"===e?this.handleDropField(e,t):"fields-row-bag"===e&&this.handleDropFieldRow(e,t)},e.prototype.handleDropField=function(e,t){"source"===t?this._fieldDropFromSource.next():"target"===t&&this._fieldDropFromTarget.next()},e.prototype.handleDropFieldRow=function(e,t){"source"===t?this._fieldRowDropFromSource.next():"target"===t&&this._fieldRowDropFromTarget.next()},e.prototype.shouldCopy=function(e,t,n,o){return"source"===t.dataset.dragType},e.prototype.shouldMoveRow=function(e,t,n,o){var i=n.parentElement.classList.contains("row-header__drag")||n.classList.contains("row-header__drag");return"source"===t.dataset.dragType||i},e.prototype.shouldAccepts=function(e,t,n,o){return"source"!==t.dataset.dragType},e.prototype.shouldMovesField=function(e,t,n,o){return"not_field"!==e.dataset.dragType},e}();l.FIELD_BAG_NAME="fields-bag",l.FIELD_ROW_BAG_NAME="fields-row-bag",l=d=a([Object(i.Injectable)(),c("design:paramtypes",["function"==typeof(p="undefined"!=typeof r.DragulaService&&r.DragulaService)&&p||Object])],l);var d,p,u=n("y80G");n.d(t,"c",function(){return o.a}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return u.a})},DTNc:function(e,t){e.exports='<p-dialog\n    modal="modal"\n    width="500"\n    [dismissableMask]="true"\n    [visible]="true"\n    [responsive]="true"\n    [resizable]="false"\n    [draggable]="false"\n    (onHide)="close($event)">\n\n    <p-header>\n        {{ dotMessageService.get(\'contenttypes.content.push_publish\') }}\n    </p-header>\n\n    <form *ngIf="pushActions" [formGroup]="form" (ngSubmit)="submitPushAction($event)" (keyup.enter)="submitPushAction($event)" novalidate #formEl="ngForm">\n        <div class="form__group">\n            <label class="form__label">{{ dotMessageService.get(\'contenttypes.content.push_publish.I_want_To\') }}: </label>\n            <p-dropdown [style]="{\'width\':\'100%\'}" [options]="pushActions" formControlName="pushActionSelected" autofocus="true"></p-dropdown>\n        </div>\n\n        <div class="form__group" *ngIf="form.get(\'pushActionSelected\').value === \'publish\' || form.get(\'pushActionSelected\').value === \'publishexpire\'">\n            <p-checkbox formControlName="forcePush" label="{{ dotMessageService.get(\'contenttypes.content.push_publish.force_push\') }}" binary="true"></p-checkbox>\n        </div>\n\n        <div class="form__group push-publish-dialog__publish-date" *ngIf="form.get(\'pushActionSelected\').value === \'publish\' || form.get(\'pushActionSelected\').value === \'publishexpire\'">\n            <label class="form__label">{{ dotMessageService.get(\'contenttypes.content.push_publish.publish_date\') }}: </label>\n            <div class="push-publish-dialog__calendar">\n                <p-calendar class="push-publish-dialog__calendar-date" formControlName="publishdate" dataType="string" dateFormat="yy-mm-dd" placeholder="yy-mm-dd" showTime="true" readonlyInput="true" [minDate]="dateFieldMinDate" ></p-calendar>\n            </div>\n            <dot-field-validation-message message="{{ dotMessageService.get(\'contenttypes.content.push_publish.publish_date_errormsg\') }}" [field]="form.get(\'publishdate\')"></dot-field-validation-message>\n        </div>\n\n        <div class="form__group push-publish-dialog__expire-date" *ngIf="form.get(\'pushActionSelected\').value === \'expire\' || form.get(\'pushActionSelected\').value === \'publishexpire\'">\n            <label class="form__label">{{ dotMessageService.get(\'contenttypes.content.push_publish.expire_date\') }}: </label>\n            <div class="push-publish-dialog__calendar">\n                <p-calendar class="push-publish-dialog__calendar-date" formControlName="expiredate" dataType="string" dateFormat="yy-mm-dd" placeholder="yy-mm-dd" showTime="true" readonlyInput="true" [minDate]="dateFieldMinDate" ></p-calendar>\n            </div>\n            <dot-field-validation-message message="{{ dotMessageService.get(\'contenttypes.content.push_publish.expire_date_errormsg\') }}" [field]="form.get(\'expiredate\')"></dot-field-validation-message>\n        </div>\n\n        <div class="form__group">\n            <label class="form__label">{{ dotMessageService.get(\'contenttypes.content.push_publish.push_to\') }}: </label>\n            <dot-push-publish-env-selector [assetIdentifier]="assetIdentifier" formControlName="environment"></dot-push-publish-env-selector>\n            <dot-field-validation-message message="{{ dotMessageService.get(\'contenttypes.content.push_publish.push_to_errormsg\') }}" [field]="form.get(\'environment\')"></dot-field-validation-message>\n        </div>\n    </form>\n    <p-footer>\n        <button pButton type="button" (click)="close($event)" label="{{ dotMessageService.get(\'contenttypes.content.push_publish.form.cancel\') }}" class="push-publish-dialog__form-cancel"></button>\n        <button pButton type="submit" (click)="submitForm()" label="{{ dotMessageService.get(\'contenttypes.content.push_publish.form.push\') }}" [disabled]="form && !form.valid"></button>\n    </p-footer>\n</p-dialog>\n'},EIf8:function(e,t,n){(e.exports=n("rP7Y")(!1)).push([e.i,".form__validation-input-container{display:-webkit-box;display:-ms-flexbox;display:flex}.form__validation-input-container .ui-inputtext{max-width:70%;margin-right:5%}.form__validation-input-container p-dropdown .ui-dropdown{width:auto}",""]),e.exports=e.exports.toString()},GLGi:function(e,t,n){(e.exports=n("rP7Y")(!1)).push([e.i,":root{--color-background:#3a3847;--color-main:#c336e5;--color-main_mod:#d369ec;--color-main_rgb:195,54,229;--color-sec:#54428e;--color-sec_rgb:84,66,142}.ui-calendar,.ui-inputtext{width:100%}.push-publish-dialog__error-message{color:#d0021b}.push-publish-dialog__calendar{display:-webkit-box;display:-ms-flexbox;display:flex}.push-publish-dialog__calendar-date{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}",""]),e.exports=e.exports.toString()},HkUQ:function(e,t,n){(e.exports=n("rP7Y")(!1)).push([e.i,"",""]),e.exports=e.exports.toString()},I61c:function(e,t){e.exports='<div [formGroup]="group">\n    <label class="form__label">{{ i18nMessages[\'contenttypes.field.properties.value.label\'] }}*</label>\n    <dot-textarea-content #value [formControlName]="property.name" [show]="[\'code\']" height="90px"></dot-textarea-content>\n    <dot-field-validation-message \n        message="Values is required" \n        [field]="group.controls[property.name]">\n    </dot-field-validation-message>\n</div>'},IFjr:function(e,t){e.exports='<dot-site-selector [id]="value" (change)="setValue($event)" [archive]="archive" [system]="system" [live]="live"></dot-site-selector>'},ILJW:function(e,t){e.exports='<p-tabView>\n    <p-tabPanel class="content-type__properties" header="{{ i18nMessages[\'contenttypes.tab.fields.header\'] }}">\n        <div class="content-type__fields-layout" id="content-type-form-layout">\n            <div class="content-type__fields-main" id="content-type-form-main">\n                <ng-content></ng-content>\n            </div>\n            <div class="content-type__fields-sidebar">\n                <h4 class="content-type__fields-sidebar-title">{{ i18nMessages[\'contenttypes.sidebar.components.title\'] }}</h4>\n                <dot-content-types-fields-list></dot-content-types-fields-list>\n                \x3c!-- <h4 class="content-type__fields-sidebar-title">{{ i18nMessages[\'contenttypes.sidebar.layouts.title\'] }}</h4>\n                <dot-content-type-fields-row-list></dot-content-type-fields-row-list> --\x3e\n            </div>\n        </div>\n    </p-tabPanel>\n    <p-tabPanel class="content-type__relationships" header="{{ i18nMessages[\'contenttypes.tab.relationship.header\'] }}" *ngIf="contentTypeId" [cache]="false">\n        <ng-template pTemplate="content">\n            <dot-iframe [src]="relationshipURL"></dot-iframe>\n        </ng-template>\n    </p-tabPanel>\n    <p-tabPanel class="content-type__permissions" header="{{ i18nMessages[\'contenttypes.tab.permissions.header\'] }}" *ngIf="contentTypeId" [cache]="false">\n        <ng-template pTemplate="content">\n            <dot-iframe [src]="permissionURL"></dot-iframe>\n        </ng-template>\n    </p-tabPanel>\n    <p-tabPanel class="content-type__push_history" header="{{ i18nMessages[\'contenttypes.tab.publisher.push.history.header\'] }}" *ngIf="contentTypeId" [cache]="false">\n        <ng-template pTemplate="content">\n            <dot-iframe [src]="pushHistoryURL"></dot-iframe>\n        </ng-template>\n    </p-tabPanel>\n</p-tabView>\n'},JUkb:function(e,t,n){(e.exports=n("rP7Y")(!1)).push([e.i,":root{--color-background:#3a3847;--color-main:#c336e5;--color-main_mod:#d369ec;--color-main_rgb:195,54,229;--color-sec:#54428e;--color-sec_rgb:84,66,142}::ng-deep .basetype-content.ui-dialog .ui-dialog-content .ui-autocomplete-panel{bottom:36px!important;top:auto!important}.content-type__edit-header{margin:24px 0;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0}.content-type__form-header-left{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.content-type__edit-title-icon{width:30px;float:left;padding-top:8px}.content-type__edit-title-icon .fa{font-size:16px}.content-type__edit-title{font-size:16px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-flow:column wrap;flex-flow:column wrap}.content-type__edit-title h4{margin:0;color:#5b5b5b;font-size:16px}.content-type__edit-dot-separator{font-size:18px;margin:0 4px;vertical-align:middle}.content-type__edit-subtitle{font-size:12px;color:#7e7a86}.content-type__edit-actions{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}",""]),e.exports=e.exports.toString()},JyVV:function(e,t){e.exports='<div [formGroup]="group">\n    <label class="form__label">{{ i18nMessages[\'contenttypes.field.properties.validation_regex.label\'] }}</label>\n    <div class="form__validation-input-container">\n        <input pInputText type="text" [formControlName]="property.name">\n        <p-dropdown [style]="{\'width\':\'auto\'}" [options]="regexCheckTempletes" (onChange)="templateSelect($event)" [formControlName]="property.name">\n        </p-dropdown>\n    </div>\n</div>'},Kg3V:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=n("/oeL"),s=n("sY2v"),a=n("pICe"),c=function(){function e(e,t){this.el=e,this.dragulaService=t,this.container=e.nativeElement}return e.prototype.ngOnInit=function(){var e=this,t=this.dragulaService.find(this.dragula),n=function(){e.dragulaModel&&(e.drake.models?e.drake.models.push(e.dragulaModel):e.drake.models=[e.dragulaModel])};t?(this.drake=t.drake,n(),this.drake.containers.push(this.container)):(this.drake=a.dragula([this.container],Object.assign({},this.dragulaOptions)),n(),this.dragulaService.add(this.dragula,this.drake))},e.prototype.ngOnChanges=function(e){if(e&&e.dragulaModel&&this.drake)if(this.drake.models){var t=this.drake.models.indexOf(e.dragulaModel.previousValue);this.drake.models.splice(t,1,e.dragulaModel.currentValue)}else this.drake.models=[e.dragulaModel.currentValue]},e}();o([r.Input(),i("design:type",String)],c.prototype,"dragula",void 0),o([r.Input(),i("design:type",Object)],c.prototype,"dragulaModel",void 0),o([r.Input(),i("design:type",Object)],c.prototype,"dragulaOptions",void 0),c=o([r.Directive({selector:"[dragula]"}),i("design:paramtypes",[r.ElementRef,s.DragulaService])],c),t.DragulaDirective=c},Kt0L:function(e,t,n){(e.exports=n("rP7Y")(!1)).push([e.i,":root{--color-background:#3a3847;--color-main:#c336e5;--color-main_mod:#d369ec;--color-main_rgb:195,54,229;--color-sec:#54428e;--color-sec_rgb:84,66,142}:host{border-left:3px solid #ecedee;cursor:move;display:-webkit-box;display:-ms-flexbox;display:flex;margin:8px 0;padding:16px;transition:border-left-color .1s,box-shadow .1s}:host:hover{border-left-color:#c336e5;border-left-color:var(--color-main);box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23)}:host:first-child{margin-top:0}:host:last-child{margin-bottom:0}.field__properties{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.field__name{color:#000}.field__attribute,.field__variable{color:gray;font-size:11px}.field__actions{opacity:.25;transition:opacity .1s}.field__actions>*{margin:0 4px}:host:hover .field__actions{opacity:1}.field__icon{color:#7e7a86;font-size:16px;margin-right:16px;text-align:center;width:16px}",""]),e.exports=e.exports.toString()},NQy9:function(e,t,n){(e.exports=n("rP7Y")(!1)).push([e.i,":host ::ng-deep .ui-autocomplete-panel{width:auto!important}:host ::ng-deep .ui-autocomplete-list-item{white-space:nowrap}",""]),e.exports=e.exports.toString()},NijM:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},i=n("/oeL"),r=n("Kg3V"),s=n("sY2v"),a=function(){return function(){}}();a=o([i.NgModule({exports:[r.DragulaDirective],declarations:[r.DragulaDirective],providers:[s.DragulaService]})],a),t.DragulaModule=a},OtOT:function(e,t,n){"use strict";var o=n("/oeL"),i=n("iISA"),r=n("2Mh4"),s=n("I3wY"),a=n("D1QE"),c=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),l=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(e){function t(t,n){var i=e.call(this,["contenttypes.action.edit","contenttypes.action.delete"],t)||this;return i.fieldService=n,i.remove=new o.EventEmitter,i.edit=new o.EventEmitter,i}return c(t,e),t.prototype.ngOnInit=function(){var e=this;this.dotMessageService.getMessages(["contenttypes.field.atributes.required","contenttypes.field.atributes.indexed","contenttypes.field.atributes.listed"]).subscribe(function(){e.fieldAttributes=[{name:e.dotMessageService.get("contenttypes.field.atributes.required"),value:e.field.required},{name:e.dotMessageService.get("contenttypes.field.atributes.indexed"),value:e.field.indexed},{name:e.dotMessageService.get("contenttypes.field.atributes.listed"),value:e.field.listed}].filter(function(e){return e.value}).map(function(e){return e.name}).join("&nbsp;&nbsp;&#8226;&nbsp;&nbsp;")})},t.prototype.onClick=function(e){e.stopPropagation(),this.edit.emit(this.field)},t.prototype.removeItem=function(e){this.remove.emit(this.field),e.stopPropagation()},t}(i.a);l([Object(o.Input)(),d("design:type","function"==typeof(u="undefined"!=typeof r.ContentTypeField&&r.ContentTypeField)&&u||Object)],p.prototype,"field",void 0),l([Object(o.Output)(),d("design:type","function"==typeof(f="undefined"!=typeof o.EventEmitter&&o.EventEmitter)&&f||Object)],p.prototype,"remove",void 0),l([Object(o.Output)(),d("design:type","function"==typeof(m="undefined"!=typeof o.EventEmitter&&o.EventEmitter)&&m||Object)],p.prototype,"edit",void 0),l([Object(o.HostListener)("click",["$event"]),d("design:type",Function),d("design:paramtypes",[Object]),d("design:returntype",void 0)],p.prototype,"onClick",null),p=l([Object(o.Component)({selector:"dot-content-type-field-dragabble-item",styles:[n("Kt0L")],template:n("+JSr")}),d("design:paramtypes",["function"==typeof(y="undefined"!=typeof s.a&&s.a)&&y||Object,"function"==typeof(h="undefined"!=typeof a.c&&a.c)&&h||Object])],p);var u,f,m,y,h;n.d(t,"a",function(){return p})},Retr:function(e,t){e.exports='<dot-content-type-layout [contentTypeId]="data?.id" *ngIf="isEditMode()">\n    <div class="content-type__edit-header container-fluid" id="content-type-edit-header">\n        <div class="content-type__form-header-left">\n            <div class="content-type__edit-title-icon">\n                <i class="fa" [ngClass]="templateInfo.icon"></i>\n            </div>\n            <div class="content-type__edit-title">\n                <h4>{{ data.name }} </h4>\n                <div class="content-type__edit-subtitle">\n                    <span class="content-type__edit-variable">\n                        {{ dotMessageService.get(\'contenttypes.content.variable\') }}: {{ data.variable }} \n                        <span class="content-type__edit-dot-separator">\u2022</span> {{ dotMessageService.get(\'contenttypes.form.identifier\') }}: {{ data.id }}\n                    </span>\n                </div>\n            </div>\n        </div>\n        <div class="content-type__edit-actions">\n            <button type="button" pButton secondary label="Edit" (click)="show = true" icon="fa-edit" id="form-edit-button"></button>\n        </div>\n    </div>\n    <dot-content-type-fields-drop-zone\n        *ngIf="data.id"\n        [fields]="fields"\n        (saveFields)="saveFields($event)"\n        (removeFields)="removeFields($event)">\n    </dot-content-type-fields-drop-zone>\n</dot-content-type-layout>\n\n<p-dialog\n    *ngIf="show"\n    modal="modal"\n    width="500"\n    styleClass="{{ \'baseType-\' + data.baseType | lowercase}}"\n    [(visible)]="show"\n    [responsive]="true"\n    [resizable]="false"\n    [draggable]="false"\n    [closable]="isEditMode()"> \n    \n    <p-header>{{ templateInfo.header }}</p-header>\n\n    <dot-content-types-form\n        #form\n        [fields]="fields"\n        [data]="data"\n        (submit)="handleFormSubmit($event)">\n    </dot-content-types-form>\n\n    <p-footer>\n        <button type="button" pButton label="Cancel" class="content-type__cancel cancel" (click)="cancelForm()"></button>\n        <button type="button" pButton class="content-type__save" [label]="isEditMode() ? dotMessageService.get(\'contenttypes.action.update\') : dotMessageService.get(\'contenttypes.action.create\')" [disabled]="!form.canSave" (click)="form.submitForm()"></button>\n    </p-footer>\n</p-dialog>'},"T/I6":function(e,t){e.exports='<div class="dot-add-rows__container">\n    <div class="dot-add-rows-button__container" \n        [ngClass]="{\'dot-add-rows__add\': rowState === \'add\'}">    \n        <button type="button" pButton secondary \n            label="{{ i18nMessages[\'contenttypes.dropzone.rows.add\'] }}" (click)="setColumnSelect()" \n            icon="fa-plus"\n            [disabled]="disabled">\n        </button>  \n    </div>\n    \n    <ul #colContainer class="dot-add-rows-columns-list__container" \n        [ngClass]="{\'dot-add-rows__select\': rowState === \'select\'}">\n        <li *ngFor="let colNum of columns; let i = index" \n            [ngClass]="{\'active\': i == selectedColumnIndex}" class="dot-add-rows-columns-list__item"\n            pTooltip="{{ setTooltipValue(i) }}" tooltipPosition="bottom" tabindex="-1" tooltipEvent="focus"\n            (mouseenter)="onMouseEnter(i, $event)" (mouseleave)="onMouseLeave($event)"\n            (click)="emitColumnNumber()">\n            <div class="dot-add-rows-columns-list__item-col" *ngFor="let i of numberOfCols(colNum)"></div>\n        </li>\n    </ul>      \n</div>\n'},TB5R:function(e,t,n){"use strict";var o=n("LUBl"),i=n("E/BQ"),r=n("/oeL"),s=n("I3wY"),a=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e,t){this.hotkeysService=e,this.dotMessageService=t,this.rowState="add",this.selectedColumnIndex=0,this.i18nMessages={},this.columns=[1,2,3,4],this.disabled=!1,this.toolTips=["contenttypes.content.one_column","contenttypes.content.two_columns","contenttypes.content.three_columns","contenttypes.content.four_columns"],this.selectColums=new r.EventEmitter}return e.prototype.ngOnInit=function(){this.setKeyboardEvent("ctrl+a",this.setColumnSelect.bind(this)),this.loadMessages()},e.prototype.ngOnDestroy=function(){this.removeHotKeys()},e.prototype.onMouseEnter=function(e,t){this.selectedColumnIndex=e,this.setFocus(this.getElementSelected()),t.preventDefault()},e.prototype.onMouseLeave=function(e){this.removeFocus(e.target)},e.prototype.emitColumnNumber=function(){this.selectColums.emit(this.getNumberColumnsSelected()),this.resetState()},e.prototype.numberOfCols=function(e){return Array(e).fill("")},e.prototype.setColumnSelect=function(){var e=this;this.rowState="select",this.bindKeyboardEvents(),setTimeout(function(){e.setFocus(e.getElementSelected())},201)},e.prototype.setFocus=function(e){e.focus()},e.prototype.removeFocus=function(e){e.blur()},e.prototype.setKeyboardEvent=function(e,t){this.hotkeysService.add(new i.Hotkey(e,function(e){return t(),!1}))},e.prototype.setTooltipValue=function(e){return this.i18nMessages[this.toolTips[e]]},e.prototype.getElementSelected=function(){return this.colContainerElem.nativeElement.children[this.selectedColumnIndex]},e.prototype.bindKeyboardEvents=function(){this.setKeyboardEvent("left",this.leftKeyboardEvent.bind(this)),this.setKeyboardEvent("right",this.rightKeyboardEvent.bind(this)),this.setKeyboardEvent("esc",this.resetState.bind(this)),this.setKeyboardEvent("enter",this.emitColumnNumber.bind(this))},e.prototype.loadMessages=function(){var e=this,t=this.toolTips.concat(["contenttypes.dropzone.rows.add"]);this.dotMessageService.getMessages(t).subscribe(function(t){e.i18nMessages=t})},e.prototype.getNumberColumnsSelected=function(){return this.columns[this.selectedColumnIndex]},e.prototype.getMaxIndex=function(){return this.columns.length-1},e.prototype.leftKeyboardEvent=function(){this.selectedColumnIndex=this.selectedColumnIndex-1,this.selectedColumnIndex<0&&(this.selectedColumnIndex=this.getMaxIndex()),this.setFocus(this.getElementSelected())},e.prototype.rightKeyboardEvent=function(){this.selectedColumnIndex=this.selectedColumnIndex+1,this.selectedColumnIndex>this.getMaxIndex()&&(this.selectedColumnIndex=0),this.setFocus(this.getElementSelected())},e.prototype.resetState=function(){this.removeFocus(this.getElementSelected()),this.selectedColumnIndex=0,this.rowState="add",this.removeHotKeys()},e.prototype.removeHotKeys=function(){this.hotkeysService.remove(this.hotkeysService.get(["left","right","enter","esc"]))},e}();a([Object(r.Input)(),c("design:type",Array)],l.prototype,"columns",void 0),a([Object(r.Input)(),c("design:type",Object)],l.prototype,"disabled",void 0),a([Object(r.Input)(),c("design:type",Array)],l.prototype,"toolTips",void 0),a([Object(r.Output)(),c("design:type","function"==typeof(d="undefined"!=typeof r.EventEmitter&&r.EventEmitter)&&d||Object)],l.prototype,"selectColums",void 0),a([Object(r.ViewChild)("colContainer"),c("design:type","function"==typeof(p="undefined"!=typeof r.ElementRef&&r.ElementRef)&&p||Object)],l.prototype,"colContainerElem",void 0),l=a([Object(r.Component)({selector:"dot-add-rows",styles:[n("8hJq")],template:n("T/I6")}),c("design:paramtypes",["function"==typeof(u="undefined"!=typeof i.HotkeysService&&i.HotkeysService)&&u||Object,"function"==typeof(f="undefined"!=typeof s.a&&s.a)&&f||Object])],l);var d,p,u,f,m=n("qbdv"),y=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},h=function(){return function(){}}();h=y([Object(r.NgModule)({declarations:[l],exports:[l],imports:[m.CommonModule,o.ButtonModule,o.TooltipModule],providers:[i.HotkeysService]})],h),n.d(t,"a",function(){return h})},"U6w/":function(e,t,n){"use strict";var o=n("iISA"),i=n("/oeL"),r=n("D1QE"),s=n("2Mh4"),a=n("5RPL"),c=n("I3wY"),l=n("CtlF"),d=n("y80G"),p=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),u=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},m=function(e){function t(t,n,o){var r=e.call(this,["contenttypes.dropzone.action.save","contenttypes.dropzone.action.cancel","contenttypes.dropzone.action.edit","contenttypes.dropzone.action.create.field","contenttypes.dropzone.empty.message"],t)||this;return r.fieldDragDropService=n,r.fieldPropertyService=o,r.displayDialog=!1,r.fieldRows=[],r.saveFields=new i.EventEmitter,r.removeFields=new i.EventEmitter,r}return p(t,e),t.prototype.ngOnInit=function(){var e=this;this.fieldDragDropService.fieldDropFromSource$.subscribe(function(){e.setDroppedField(),e.toggleDialog()}),this.fieldDragDropService.fieldDropFromTarget$.subscribe(function(){e.moveFields()}),this.fieldDragDropService.fieldRowDropFromTarget$.subscribe(function(){e.moveFields()})},t.prototype.ngOnChanges=function(e){if(e.fields.currentValue){var t=e.fields.currentValue;if(!Array.isArray(t))throw new Error("Fields attribute must be a Array");this.fieldRows=this.getRowFields(t)}},t.prototype.saveFieldsHandler=function(e){var t=this.getFieldsToSave(e);this.saveFields.emit(t),this.toggleDialog()},t.prototype.editField=function(e){var t=this.getFields();this.formData=t.filter(function(t){return e.id===t.id})[0],this.currentFieldType=this.fieldPropertyService.getFieldType(this.formData.clazz),this.toggleDialog()},t.prototype.setDroppedField=function(){var e=this.getFields();this.formData=e.find(function(e){return l.a.isNewField(e)&&!l.a.isRowOrColumn(e)}),this.formData&&(this.currentFieldType=this.fieldPropertyService.getFieldType(this.formData.clazz))},t.prototype.removeFieldsWithoutId=function(){this.fieldRows.forEach(function(e){e.columns.forEach(function(t,n){t.fields.forEach(function(t,o){t.id||e.columns[n].fields.splice(o,1)})})}),this.formData=null,this.propertiesForm.destroy()},t.prototype.getDialogHeader=function(){return""+(this.formData&&this.formData.id?this.i18nMessages["contenttypes.dropzone.action.edit"]:this.i18nMessages["contenttypes.dropzone.action.create.field"])},t.prototype.removeField=function(e){this.removeFields.emit([e])},t.prototype.removeFieldRow=function(e){this.fieldRows.splice(this.fieldRows.indexOf(e),1);var t=[];e.lineDivider.id&&(t.push(e.lineDivider),e.columns.forEach(function(e){t.push(e.tabDivider),e.fields.forEach(function(e){return t.push(e)})}),this.removeFields.emit(t))},t.prototype.moveFields=function(){var e=this.getFields().filter(function(e,t){var n=t+1;return e.sortOrder!==n&&(e.sortOrder=n,!0)});this.saveFields.emit(e)},t.prototype.getFieldsToSave=function(e){return this.formData.id?[this.getUpdatedField(e)]:this.getNewFields(e)},t.prototype.getUpdatedField=function(e){for(var t,n=this.getFields(),o=0;o<n.length;o++){var i=n[o];if(this.formData.id===i.id){t=Object.assign({},i,e);break}}return t},t.prototype.getNewFields=function(e){var t=[];return this.getFields().forEach(function(n,o){if(l.a.isNewField(n)){n.sortOrder=o+1;var i=l.a.isRowOrColumn(n)?n:Object.assign(n,e);t.push(i)}}),t},t.prototype.toggleDialog=function(){this.displayDialog=!this.displayDialog},t.prototype.getRowFields=function(e){var t=[];return(t=l.a.splitFieldsByLineDivider(e).map(function(e){var t=new s.FieldRow;return t.addFields(e),t})).length?t:this.getEmptyRow()},t.prototype.getFields=function(){var e=[];return this.fieldRows.forEach(function(t){e.push(t.lineDivider),t.columns.forEach(function(t){e.push(t.tabDivider),t.fields.forEach(function(t){return e.push(t)})})}),e},t.prototype.getEmptyRow=function(){var e=new s.FieldRow;return e.addFirstColumn(),[e]},t}(o.a);u([Object(i.ViewChild)("fieldPropertiesForm"),f("design:type","function"==typeof(y="undefined"!=typeof a.a&&a.a)&&y||Object)],m.prototype,"propertiesForm",void 0),u([Object(i.Input)(),f("design:type",Array)],m.prototype,"fields",void 0),u([Object(i.Output)(),f("design:type",Object)],m.prototype,"saveFields",void 0),u([Object(i.Output)(),f("design:type",Object)],m.prototype,"removeFields",void 0),m=u([Object(i.Component)({selector:"dot-content-type-fields-drop-zone",styles:[n("y2E0")],template:n("m0T1")}),f("design:paramtypes",["function"==typeof(h="undefined"!=typeof c.a&&c.a)&&h||Object,"function"==typeof(g="undefined"!=typeof r.a&&r.a)&&g||Object,"function"==typeof(b="undefined"!=typeof d.a&&d.a)&&b||Object])],m);var y,h,g,b;n.d(t,"a",function(){return m})},"UMB+":function(e,t){e.exports='<p-dialog\n    modal="modal"\n    width="500"\n    [dismissableMask]="true"\n    [visible]="true"\n    [responsive]="true"\n    [resizable]="false"\n    [draggable]="false"\n    (onHide)="close($event)">\n\n    <p-header>\n        {{ dotMessageService.get(\'contenttypes.content.add_to_bundle\') }}\n    </p-header>\n\n    <form [formGroup]="form" (ngSubmit)="submitBundle($event)" (keyup.enter)="submitBundle($event)" novalidate #formEl="ngForm">\n        <div class="form__group">\n            <p-dropdown #addBundleDropdown appendTo="body" [options]="bundle$ | async" editable="true" [autoWidth]="false" formControlName="addBundle" [placeholder]="placeholder" optionLabel="name" ></p-dropdown>\n            <dot-field-validation-message message="{{ dotMessageService.get(\'contenttypes.content.add_to_bundle.errormsg\') }}" [field]="form.get(\'addBundle\')"></dot-field-validation-message>\n        </div>\n    </form>\n\n    <p-footer>\n        <button pButton type="button" (click)="close($event)" label="{{ dotMessageService.get(\'contenttypes.content.add_to_bundle.form.cancel\') }}" class="add-to-bundle__form-cancel"></button>\n        <button pButton type="submit" (click)="submitForm()" label="{{ dotMessageService.get(\'contenttypes.content.add_to_bundle.form.add\') }}" [disabled]="!form.valid"></button>\n    </p-footer>\n</p-dialog>\n'},UjBX:function(e,t){e.exports=' \x3c!--\n     TODO: labels for defaultLabel and selectedItemsLabel in p-multiselect need to be changed after refactor of Message Service. https://github.com/primefaces/primeng/issues/2857\n\n     Also there is a problem here, when the field is invalid this multiselect should have the invalid class\n--\x3e\n<p-multiSelect \n    [options]="pushEnvironments$ | async" \n    [(ngModel)]="selectedEnvironments" \n    optionLabel="name" \n    defaultLabel="Select environment" \n    (onChange)="valueChange($event, selectedEnvironments)">\n</p-multiSelect>\n\n<ul class="environment-selector__list">\n    <li *ngFor="let environment of selectedEnvironments" class="environment-selector__list-item">\n        <button pButton icon="fa-trash" (click)="removeEnvironmentItem(environment)"></button>\n        {{ environment.name }}\n    </li>\n</ul>'},Ur3V:function(e,t){e.exports='<ul class="content-types-row-list"\n    dragula="fields-row-bag"\n    [dragulaModel]="fieldRows"\n    data-drag-type="source">\n    <li *ngFor="let row of rows" class="content-types-row-list__item">\n        <div class="content-types-row-list__item-col" *ngFor="let i of numberOfCols(row)"></div>\n    </li>\n</ul>\n'},VlH2:function(e,t){var n;n="function"==typeof setImmediate?function(e){setImmediate(e)}:function(e){setTimeout(e,0)},e.exports=n},WMjF:function(e,t,n){"use strict";(function(t){function o(e,n,o){return e.attachEvent("on"+n,function(e,n,o){var i=r(e,n,o)||function(e,n,o){return function(n){var i=n||t.event;i.target=i.target||i.srcElement,i.preventDefault=i.preventDefault||function(){i.returnValue=!1},i.stopPropagation=i.stopPropagation||function(){i.cancelBubble=!0},i.which=i.which||i.keyCode,o.call(e,i)}}(e,0,o);return p.push({wrapper:i,element:e,type:n,fn:o}),i}(e,n,o))}function i(e,t,n){var o=r(e,t,n);if(o)return e.detachEvent("on"+t,o)}function r(e,t,n){var o=function(e,t,n){var o,i;for(o=0;o<p.length;o++)if((i=p[o]).element===e&&i.type===t&&i.fn===n)return o}(e,t,n);if(o){var i=p[o].wrapper;return p.splice(o,1),i}}var s=n("i5YH"),a=n("D0JW"),c=t.document,l=function(e,t,n,o){return e.addEventListener(t,n,o)},d=function(e,t,n,o){return e.removeEventListener(t,n,o)},p=[];t.addEventListener||(l=o,d=i),e.exports={add:l,remove:d,fabricate:function(e,t,n){var o=-1===a.indexOf(t)?new s(t,{detail:n}):function(){var e;return c.createEvent?(e=c.createEvent("Event")).initEvent(t,!0,!0):c.createEventObject&&(e=c.createEventObject()),e}();e.dispatchEvent?e.dispatchEvent(o):e.fireEvent("on"+t,o)}}}).call(t,n("fRUx"))},We57:function(e,t){e.exports='<form [formGroup]="form" class="content-type__form" id="content-type-form" novalidate (keyup.enter)="submitForm()">\n    <div class="form__group">\n        <span dotMdInputtext label="{{ nameFieldLabel }}">\n            <input pInputText type="text" id="content-type-form-name" name="name" formControlName="name" tabindex="1" #name class="mousetrap" />\n        </span>\n        <dot-field-validation-message [message]="dotMessageService.get(\'dot.common.message.field.required\', nameFieldLabel)" [field]="form.get(\'name\')"></dot-field-validation-message>\n    </div>\n    <div class="form__group">\n        <span dotMdInputtext label="{{ dotMessageService.get(\'contenttypes.form.label.description\') }}">\n            <input pInputText type="text" id="content-type-form-description" name="description" formControlName="description" tabindex="2" class="mousetrap" />\n        </span>\n    </div>\n    <div class="form__group">\n        <label for="content-type-form-host" class="form__label">{{ dotMessageService.get(\'contenttypes.form.field.host_folder.label\') }}</label>\n        <dot-site-selector-field id="content-type-form-host" formControlName="host" [system]="true" tabindex="3"></dot-site-selector-field>\n    </div>\n    <div class="form__group">\n        <label for="content-type-form-workflow" class="form__label">{{ dotMessageService.get(\'contenttypes.form.label.workflow\') }}</label>\n        <dot-workflows-selector-field id="content-type-form-workflow" formControlName="workflow"></dot-workflows-selector-field>\n    </div>\n    <span id="field-workflow-hint" class="form__group-hint" *ngIf="form.get(\'workflow\').disabled">{{ dotMessageService.get(\'contenttypes.form.hint.error.only.default.scheme.available.in.Community\') }}</span>\n    <div class="form__group">\n        <div class="ui-g-6">\n            <label for="content-type-form-publish-date-field" class="form__label">{{ dotMessageService.get(\'contenttypes.form.label.publish.date.field\') }}</label>\n            <p-dropdown [options]="dateVarOptions" id="content-type-form-publish-date-field" name="publishDateVar" formControlName="publishDateVar" (onChange)="handleDateVarChange($event, \'publishDateVar\')" [style]="{\'min-width\':\'90px\'}" tabindex="5"></p-dropdown>\n        </div>\n        <div class="ui-g-6">\n            <label for="content-type-form-expire-date-field" class="form__label">{{ dotMessageService.get(\'contenttypes.form.field.expire.date.field\') }}</label>\n            <p-dropdown [options]="dateVarOptions" id="content-type-form-expire-date-field" name="expireDateVar" formControlName="expireDateVar" (onChange)="handleDateVarChange($event, \'expireDateVar\')" [style]="{\'min-width\':\'90px\'}" tabindex="6"></p-dropdown>\n        </div>\n    </div>\n    <span class="form__group-hint" *ngIf="!dateVarOptions.length" id="field-dates-hint">{{ dotMessageService.get(\'contenttypes.form.message.no.date.fields.defined\') }}</span>\n    <div class="form__group" *ngIf="form.get(\'detailPage\')">\n        <dot-page-selector id="content-type-form-detail-page" formControlName="detailPage" [floatingLabel]="true" [hostIdentifier]="form.get(\'host\').value" tabindex="7" [style]="{\'width\': \'100%\'}" label="{{ dotMessageService.get(\'contenttypes.form.field.detail.page\') }}"></dot-page-selector>\n    </div>\n    <div class="form__group" *ngIf="form.get(\'urlMapPattern\')">\n        <i class="fa fa-question form__hint-icon" (click)="hint.toggle($event)"></i>\n        <span dotMdInputtext label="{{ dotMessageService.get(\'contenttypes.form.label.URL.pattern\') }}">\n            <input pInputText type="text" id="content-type-form-url-map-pattern" name="urlMapPattern" formControlName="urlMapPattern" tabindex="8" class="mousetrap" />\n        </span>\n    </div>\n</form>\n\n<p-overlayPanel [dismissable]="true" appendTo="body" #hint [style]="{\'width\':\'350px\'}">\n    <div [innerHTML]="dotMessageService.get(\'contenttypes.hint.URL.map.pattern.hint1\')"></div>\n</p-overlayPanel>\n'},WgTh:function(e,t,n){(e.exports=n("rP7Y")(!1)).push([e.i,"",""]),e.exports=e.exports.toString()},WlaS:function(e,t,n){(e.exports=n("rP7Y")(!1)).push([e.i,":root{--color-background:#3a3847;--color-main:#c336e5;--color-main_mod:#d369ec;--color-main_rgb:195,54,229;--color-sec:#54428e;--color-sec_rgb:84,66,142}:host ::ng-deep .ui-tabview-nav{box-shadow:0 2px 2px #c5c5c5;position:relative;z-index:1}:host dot-iframe{padding:16px 0;height:calc(100vh - 100px)}:host .content-type__fields-layout{display:-webkit-box;display:-ms-flexbox;display:flex;height:calc(100vh - 100px);overflow:hidden}:host .content-type__fields-main{background-color:#fafafa;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;overflow:auto}:host .content-type__fields-main,:host .content-type__fields-sidebar{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}:host .content-type__fields-sidebar{border-left:1px solid #ecedee;width:200px;-ms-flex-negative:0;flex-shrink:0}:host .content-type__fields-sidebar dot-content-types-fields-list{overflow:auto}:host .content-type__fields-sidebar dot-content-type-fields-row-list{height:200px}:host .content-type__fields-sidebar-title{background-color:#ecedee;font-size:13px;font-weight:400;margin:0;padding:8px 16px}:host .content-type-fields-row{background-color:#fff}",""]),e.exports=e.exports.toString()},XtPE:function(e,t,n){(e.exports=n("rP7Y")(!1)).push([e.i,":root{--color-background:#3a3847;--color-main:#c336e5;--color-main_mod:#d369ec;--color-main_rgb:195,54,229;--color-sec:#54428e;--color-sec_rgb:84,66,142}.workflow__archive-label{color:#7e7a86;text-decoration:line-through}.workflow__archive-message{color:#c5c5c5;font-size:12px;margin-left:8px}",""]),e.exports=e.exports.toString()},Xu08:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var o=n("CtlF"),i=function(){return function(e){void 0===e&&(e=[]),e.length&&o.a.isColumn(e[0])?(this.tabDivider=e[0],this.fields=e.splice(1)):(this.tabDivider=o.a.createTabDivider(),this.fields=e)}}()},YAxs:function(e,t){e.exports='<p-dropdown\n    (onChange)="change($event)"\n    [options]="options | async"\n    [style]="{\'width\': \'155px\'}"\n    >\n</p-dropdown>\n'},ZL6a:function(e,t){e.exports='<div [formGroup]="group">\n    <label class="form__label">{{ i18nMessages[\'contenttypes.field.properties.name.label\'] }}*</label>\n    <input\n        #name\n        pInputText\n        type="text"\n        [formControlName]="property.name">\n    <span class="form__field-variable"> {{ property.field.variable }}</span>\n    <dot-field-validation-message\n        [message]="i18nMessages[\'contenttypes.field.properties.name.error.required\']"\n        [field]="group.controls[property.name]">\n    </dot-field-validation-message>\n</div>\n'},Zu8n:function(e,t){},bOnJ:function(e,t){e.exports='\x3c!-- Bring it back in 5.1 --\x3e\n\x3c!-- <div class="row-header">\n    <span class="row-header__drag"><i class="fa fa-bars"></i></span>\n    <dot-icon-button-tooltip\n        class="row-header__remove"\n        icon="fa-trash"\n        [tooltipText]="i18nMessages[\'contenttypes.action.delete\']"\n        (click)="onRemoveFieldRow()">\n    </dot-icon-button-tooltip>\n</div> --\x3e\n<div class="row-columns">\n    <span\n        *ngFor="let column of fieldRow.columns"\n        [class.empty]="!column.fields.length"\n        [dragulaModel]="column.fields"\n        [style.width]="getColumnWidth()"\n        class="row-columns__item"\n        data-drag-type="target"\n        dragula="fields-bag">\n\n        <dot-content-type-field-dragabble-item\n            *ngFor="let field of column.fields"\n            [field]="field"\n            (remove)="onRemoveField($event)"\n            (edit)="this.editField.emit(field)">\n        </dot-content-type-field-dragabble-item>\n\n        <div class="row-columns__item-empty-message" data-drag-type="not_field">\n            {{ i18nMessages[\'contenttypes.dropzone.rows.empty.message\'] }}\n        </div>\n    </span>\n</div>\n'},eu0V:function(e,t){},"fd+Y":function(e,t,n){"use strict";var o=n("hMwh"),i=n("qbbb");e.exports=function(e,t){var n=t||{},r={};return void 0===e&&(e={}),e.on=function(t,n){return r[t]?r[t].push(n):r[t]=[n],e},e.once=function(t,n){return n._once=!0,e.on(t,n),e},e.off=function(t,n){var o=arguments.length;if(1===o)delete r[t];else if(0===o)r={};else{var i=r[t];if(!i)return e;i.splice(i.indexOf(n),1)}return e},e.emit=function(){var t=o(arguments);return e.emitterSnapshot(t.shift()).apply(this,t)},e.emitterSnapshot=function(t){var s=(r[t]||[]).slice(0);return function(){var r=o(arguments),a=this||e;if("error"===t&&!1!==n.throws&&!s.length)throw 1===r.length?r[0]:r;return s.forEach(function(o){n.async?i(o,r,a):o.apply(a,r),o._once&&e.off(t,o)}),e}},e}},hMwh:function(e,t){e.exports=function(e,t){return Array.prototype.slice.call(e,t)}},i5YH:function(e,t,n){(function(t){var n=t.CustomEvent;e.exports=function(){try{var e=new n("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(e){}return!1}()?n:"function"==typeof document.createEvent?function(e,t){var n=document.createEvent("CustomEvent");return t?n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):n.initCustomEvent(e,!1,!1,void 0),n}:function(e,t){var n=document.createEventObject();return n.type=e,t?(n.bubbles=Boolean(t.bubbles),n.cancelable=Boolean(t.cancelable),n.detail=t.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n}}).call(t,n("fRUx"))},m0T1:function(e,t){e.exports='<div\n    [class.empty]="!fieldRows.length"\n    [dragulaModel]="fieldRows"\n    class="content-type-fields-drop-zone__container"\n    data-drag-type="target"\n    dragula="fields-row-bag">\n\n    <ng-template ngFor let-row [ngForOf]="fieldRows">\n        <dot-content-type-fields-row\n            *ngIf="row.columns.length"\n            [fieldRow]="row"\n            (editField)="editField($event)"\n            (removeField)="removeField($event)"\n            (removeRow)="removeFieldRow($event)">\n        </dot-content-type-fields-row>\n    </ng-template>\n\n    <div *ngIf="!fieldRows.length"\n        class="content-type-fields-drop-zone__message">\n        {{ i18nMessages[\'contenttypes.dropzone.empty.message\'] }}\n    </div>\n</div>\n<p-dialog\n    modal="modal"\n    width="500"\n    [dismissableMask]="true"\n    [(visible)]="displayDialog"\n    [responsive]="true"\n    [resizable]="false"\n    [draggable]="false"\n    (onHide)="removeFieldsWithoutId()">\n\n    <p-header>\n        {{ currentFieldType?.label }} <i class="fa fa-question form__hint-icon content-type-fields-drop-zone__hint-icon" (click)="fieldHelperOverlay.toggle($event)"></i>\n    </p-header>\n\n    <dot-content-type-fields-properties-form\n        [formFieldData]="formData"\n        (saveField)="saveFieldsHandler($event)"\n        #fieldPropertiesForm>\n    </dot-content-type-fields-properties-form>\n\n    <p-footer>\n        <button type="button" secondary pButton (click)="toggleDialog()" [label]="i18nMessages[\'contenttypes.dropzone.action.cancel\']"></button>\n        <button type="button" pButton (click)="fieldPropertiesForm.saveFieldProperties(fieldPropertiesForm.form.value, fieldPropertiesForm.form.valid)" [label]="i18nMessages[\'contenttypes.dropzone.action.save\']"></button>\n    </p-footer>\n</p-dialog>\n<p-overlayPanel appendTo="body" #fieldHelperOverlay [style]="{\'width\':\'300px\'}">\n    <div [innerHTML]="currentFieldType?.helpText" ></div>\n</p-overlayPanel>\n'},mzUz:function(e,t,n){"use strict";var o=n("/oeL"),i=n("rDdN"),r=n("CPp0"),s=n("CtlF"),a={"com.dotcms.contenttype.model.field.ImmutableBinaryField":"fa-file-text","com.dotcms.contenttype.model.field.ImmutableCategoryField":"fa-list","com.dotcms.contenttype.model.field.ImmutableCheckboxField":"fa-check-square-o","com.dotcms.contenttype.model.field.ImmutableConstantField":"fa-square-o","com.dotcms.contenttype.model.field.ImmutableCustomField":"fa-code","com.dotcms.contenttype.model.field.ImmutableDateField":"fa-calendar","com.dotcms.contenttype.model.field.ImmutableDateTimeField":"fa-calendar-o","com.dotcms.contenttype.model.field.ImmutableFileField":"fa-file","com.dotcms.contenttype.model.field.ImmutableHiddenField":"fa-eye-slash","com.dotcms.contenttype.model.field.ImmutableHostFolderField":"fa-server","com.dotcms.contenttype.model.field.ImmutableImageField":"fa-picture-o","com.dotcms.contenttype.model.field.ImmutableKeyValueField":"fa-key","com.dotcms.contenttype.model.field.ImmutableMultiSelectField":"fa-bars","com.dotcms.contenttype.model.field.ImmutablePermissionTabField":"fa-lock","com.dotcms.contenttype.model.field.ImmutableRadioField":"fa-dot-circle-o","com.dotcms.contenttype.model.field.ImmutableRelationshipsTabField":"fa-clone","com.dotcms.contenttype.model.field.ImmutableSelectField":"fa-circle","com.dotcms.contenttype.model.field.ImmutableTagField":"fa-tag","com.dotcms.contenttype.model.field.ImmutableTextAreaField":"fa-paragraph","com.dotcms.contenttype.model.field.ImmutableTextField":"fa-font","com.dotcms.contenttype.model.field.ImmutableTimeField":"fa-clock-o","com.dotcms.contenttype.model.field.ImmutableWysiwygField":"fa-eye","com.dotcms.contenttype.model.field.ImmutableTabDividerField":"fa-folder","com.dotcms.contenttype.model.field.ImmutableLineDividerField":"fa-ellipsis-h"};n.d(t,"a",function(){return d});var c=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(e){this.coreWebService=e}return e.prototype.loadFieldTypes=function(){return this.coreWebService.requestView({method:r.g.Get,url:"v1/fieldTypes"}).pluck("entity")},e.prototype.saveFields=function(e,t){return t.forEach(function(t,n){t.contentTypeId=e,s.a.isRowOrColumn(t)&&(t.name="fields-"+n),""===t.dataType&&delete t.dataType}),this.coreWebService.requestView({body:t,method:r.g.Put,url:"v1/contenttype/"+e+"/fields"}).pluck("entity")},e.prototype.deleteFields=function(e,t){return this.coreWebService.requestView({body:t.map(function(e){return e.id}),method:r.g.Delete,url:"v1/contenttype/"+e+"/fields"}).pluck("entity")},e.prototype.getIcon=function(e){return a[e]},e}();d=c([Object(o.Injectable)(),l("design:paramtypes",["function"==typeof(p="undefined"!=typeof i.e&&i.e)&&p||Object])],d);var p},oHqK:function(e,t,n){(e.exports=n("rP7Y")(!1)).push([e.i,":root{--color-background:#3a3847;--color-main:#c336e5;--color-main_mod:#d369ec;--color-main_rgb:195,54,229;--color-sec:#54428e;--color-sec_rgb:84,66,142}.ui-multiselect{width:100%}.environment-selector__list{height:140px;margin:8px 0;overflow-x:hidden;border:1px solid #c5c5c5;padding:0}.environment-selector__list-item{margin:0;padding:0;list-style:none;border-top:1px solid #ecedee;padding:4px 0}.environment-selector__list-item:first-child{border-top:none}",""]),e.exports=e.exports.toString()},oaBt:function(e,t){e.exports='<div [formGroup]="group">\n    <label class="form__label">{{ dotMessageService.get(\'contenttypes.field.properties.default_value.label\') }}</label>\n    <input\n        pInputText\n        type="text"\n        [formControlName]="property.name">\n    <dot-field-validation-message\n        [message]="this.errorLabel"\n        [field]="group.controls[property.name]">\n    </dot-field-validation-message>\n</div>\n'},ohoY:function(e,t){e.exports=' <form [formGroup]="form" (ngSubmit)="saveFieldProperties()" class="content-type-fields__properties-form" novalidate>\n    <div class="ui-g">\n        <div class="ui-g-12" #properties>\n            <div [ngClass]="{\'form__group\': checkboxFields.indexOf(property) == -1}" *ngFor="let property of fieldProperties">\n                <ng-container\n                    dotDynamicFieldProperty\n                    [propertyName]="property"\n                    [field]="formFieldData"\n                    [group]="form">\n                </ng-container>\n            </div>\n        </div>\n    </div>\n </form>\n'},"p+eK":function(e,t,n){(e.exports=n("rP7Y")(!1)).push([e.i,":root{--color-background:#3a3847;--color-main:#c336e5;--color-main_mod:#d369ec;--color-main_rgb:195,54,229;--color-sec:#54428e;--color-sec_rgb:84,66,142}.content-types-row-list{margin:0;padding:0}.content-types-row-list__item{cursor:move;display:-webkit-box;display:-ms-flexbox;display:flex;list-style:none;margin:16px;-ms-touch-action:none;touch-action:none}.content-types-row-list__item-col{background-color:#c5c5c5;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;height:20px;margin:0 4px;transition:background-color .1s ease-in}.content-types-row-list__item-col:first-child{margin-left:0}.content-types-row-list__item-col:last-child{margin-right:0}.content-types-row-list__item:hover .content-types-row-list__item-col{background-color:#c336e5;background-color:var(--color-main)}",""]),e.exports=e.exports.toString()},p4E6:function(e,t,n){"use strict";(function(t){function o(e,n,o,i){var r={mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"},s={mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"},a={mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"};t.navigator.pointerEnabled?g[n](e,s[o],i):t.navigator.msPointerEnabled?g[n](e,a[o],i):(g[n](e,r[o],i),g[n](e,o,i))}function i(e){if(void 0!==e.touches)return e.touches.length;if(void 0!==e.which&&0!==e.which)return e.which;if(void 0!==e.buttons)return e.buttons;var t=e.button;return void 0!==t?1&t?1:2&t?3:4&t?2:0:void 0}function r(e,n){return"undefined"!=typeof t[n]?t[n]:_.clientHeight?_[e]:v.body[e]}function s(e,t,n){var o,i=e||{},r=i.className;return i.className+=" gu-hide",o=v.elementFromPoint(t,n),i.className=r,o}function a(){return!1}function c(){return!0}function l(e){return e.width||e.right-e.left}function d(e){return e.height||e.bottom-e.top}function p(e){return e.parentNode===v?null:e.parentNode}function u(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||"SELECT"===e.tagName||f(e)}function f(e){return!!e&&("false"!==e.contentEditable&&("true"===e.contentEditable||f(p(e))))}function m(e){return e.nextElementSibling||function(){var t=e;do{t=t.nextSibling}while(t&&1!==t.nodeType);return t}()}function y(e,t){var n=function(e){return e.targetTouches&&e.targetTouches.length?e.targetTouches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e}(t),o={pageX:"clientX",pageY:"clientY"};return e in o&&!(e in n)&&o[e]in n&&(e=o[e]),n[e]}var h=n("fd+Y"),g=n("WMjF"),b=n("8z3O"),v=document,_=v.documentElement;e.exports=function(e,t){function n(e){return-1!==oe.containers.indexOf(e)||ne.isContainer(e)}function f(e){var t=e?"remove":"add";o(_,t,"mousedown",j),o(_,t,"mouseup",D)}function x(e){o(_,e?"remove":"add","mousemove",S)}function w(e){var t=e?"remove":"add";g[t](_,"selectstart",O),g[t](_,"click",O)}function O(e){ee&&e.preventDefault()}function j(e){if(G=e.clientX,K=e.clientY,1===i(e)&&!e.metaKey&&!e.ctrlKey){var t=e.target,n=R(t);n&&(ee=n,x(),"mousedown"===e.type&&(u(t)?t.focus():e.preventDefault()))}}function S(e){if(ee)if(0!==i(e)){if(void 0===e.clientX||e.clientX!==G||void 0===e.clientY||e.clientY!==K){if(ne.ignoreInputTextSelection){var t=y("clientX",e),n=y("clientY",e);if(u(v.elementFromPoint(t,n)))return}var s=ee;x(!0),w(),F(),C(s);var a=function(e){var t=e.getBoundingClientRect();return{left:t.left+r("scrollLeft","pageXOffset"),top:t.top+r("scrollTop","pageYOffset")}}($);H=y("pageX",e)-a.left,W=y("pageY",e)-a.top,b.add(Z||$,"gu-transit"),function(){if(!U){var e=$.getBoundingClientRect();(U=$.cloneNode(!0)).style.width=l(e)+"px",U.style.height=d(e)+"px",b.rm(U,"gu-transit"),b.add(U,"gu-mirror"),ne.mirrorContainer.appendChild(U),o(_,"add","mousemove",B),b.add(ne.mirrorContainer,"gu-unselectable"),oe.emit("cloned",U,$,"mirror")}}(),B(e)}}else D({})}function R(e){if(!(oe.dragging&&U||n(e))){for(var t=e;p(e)&&!1===n(p(e));){if(ne.invalid(e,t))return;if(!(e=p(e)))return}var o=p(e);if(o&&!ne.invalid(e,t)&&ne.moves(e,o,t,m(e)))return{item:e,source:o}}}function C(e){(function(e,t){return"boolean"==typeof ne.copy?ne.copy:ne.copy(e,t)})(e.item,e.source)&&(Z=e.item.cloneNode(!0),oe.emit("cloned",Z,e.item,"copy")),Y=e.source,$=e.item,X=J=m(e.item),oe.dragging=!0,oe.emit("drag",$,Y)}function M(){return!1}function F(){if(oe.dragging){var e=Z||$;I(e,p(e))}}function E(){ee=!1,x(!0),w(!0)}function D(e){if(E(),oe.dragging){var t=Z||$,n=y("clientX",e),o=y("clientY",e),i=L(s(U,n,o),n,o);i&&(Z&&ne.copySortSource||!Z||i!==Y)?I(t,i):ne.removeOnSpill?P():T()}}function I(e,t){var n=p(e);Z&&ne.copySortSource&&t===Y&&n.removeChild($),V(t)?oe.emit("cancel",e,Y,Y):oe.emit("drop",e,t,Y,J),k()}function P(){if(oe.dragging){var e=Z||$,t=p(e);t&&t.removeChild(e),oe.emit(Z?"cancel":"remove",e,t,Y),k()}}function T(e){if(oe.dragging){var t=arguments.length>0?e:ne.revertOnSpill,n=Z||$,o=p(n),i=V(o);!1===i&&t&&(Z?o&&o.removeChild(Z):Y.insertBefore(n,X)),i||t?oe.emit("cancel",n,Y,Y):oe.emit("drop",n,o,Y,J),k()}}function k(){var e=Z||$;E(),U&&(b.rm(ne.mirrorContainer,"gu-unselectable"),o(_,"remove","mousemove",B),p(U).removeChild(U),U=null),e&&b.rm(e,"gu-transit"),Q&&clearTimeout(Q),oe.dragging=!1,te&&oe.emit("out",e,te,Y),oe.emit("dragend",e),Y=$=Z=X=J=Q=te=null}function V(e,t){var n;return n=void 0!==t?t:U?J:m(Z||$),e===Y&&n===X}function L(e,t,o){for(var i=e;i&&!function(){if(!1===n(i))return!1;var r=N(i,e),s=q(i,r,t,o);return!!V(i,s)||ne.accepts($,i,Y,s)}();)i=p(i);return i}function B(e){function t(e){oe.emit(e,a,te,Y)}if(U){e.preventDefault();var n=y("clientX",e),o=y("clientY",e),i=n-H,r=o-W;U.style.left=i+"px",U.style.top=r+"px";var a=Z||$,c=s(U,n,o),l=L(c,n,o),d=null!==l&&l!==te;(d||null===l)&&(te&&t("out"),te=l,d&&t("over"));var u=p(a);if(l!==Y||!Z||ne.copySortSource){var f,h=N(l,c);if(null!==h)f=q(l,h,n,o);else{if(!0!==ne.revertOnSpill||Z)return void(Z&&u&&u.removeChild(a));f=X,l=Y}(null===f&&d||f!==a&&f!==m(a))&&(J=f,l.insertBefore(a,f),oe.emit("shadow",a,l,Y))}else u&&u.removeChild(a)}}function z(e){b.rm(e,"gu-hide")}function A(e){oe.dragging&&b.add(e,"gu-hide")}function N(e,t){for(var n=t;n!==e&&p(n)!==e;)n=p(n);return n===_?null:n}function q(e,t,n,o){function i(e){return e?m(t):t}var r="horizontal"===ne.direction;return t!==e?function(){var e=t.getBoundingClientRect();return i(r?n>e.left+l(e)/2:o>e.top+d(e)/2)}():function(){var t,i,s,a=e.children.length;for(t=0;t<a;t++){if(i=e.children[t],s=i.getBoundingClientRect(),r&&s.left+s.width/2>n)return i;if(!r&&s.top+s.height/2>o)return i}return null}()}1===arguments.length&&!1===Array.isArray(e)&&(t=e,e=[]);var U,Y,$,H,W,G,K,X,J,Z,Q,ee,te=null,ne=t||{};void 0===ne.moves&&(ne.moves=c),void 0===ne.accepts&&(ne.accepts=c),void 0===ne.invalid&&(ne.invalid=M),void 0===ne.containers&&(ne.containers=e||[]),void 0===ne.isContainer&&(ne.isContainer=a),void 0===ne.copy&&(ne.copy=!1),void 0===ne.copySortSource&&(ne.copySortSource=!1),void 0===ne.revertOnSpill&&(ne.revertOnSpill=!1),void 0===ne.removeOnSpill&&(ne.removeOnSpill=!1),void 0===ne.direction&&(ne.direction="vertical"),void 0===ne.ignoreInputTextSelection&&(ne.ignoreInputTextSelection=!0),void 0===ne.mirrorContainer&&(ne.mirrorContainer=v.body);var oe=h({containers:ne.containers,start:function(e){var t=R(e);t&&C(t)},end:F,cancel:T,remove:P,destroy:function(){f(!0),D({})},canMove:function(e){return!!R(e)},dragging:!1});return!0===ne.removeOnSpill&&oe.on("over",z).on("out",A),f(),oe}}).call(t,n("fRUx"))},pICe:function(e,t,n){"use strict";var o=n("p4E6");t.dragula=o.default||o},pW0h:function(e,t,n){(e.exports=n("rP7Y")(!1)).push([e.i,":root{--color-background:#3a3847;--color-main:#c336e5;--color-main_mod:#d369ec;--color-main_rgb:195,54,229;--color-sec:#54428e;--color-sec_rgb:84,66,142}:host ::ng-deep listing-data-table tr{cursor:pointer}dot-base-type-selector{margin-left:24px}",""]),e.exports=e.exports.toString()},qbbb:function(e,t,n){"use strict";var o=n("VlH2");e.exports=function(e,t,n){e&&o(function(){e.apply(n||null,t||[])})}},"r/CZ":function(e,t,n){"use strict";var o=n("/oeL"),i=n("iISA"),r=n("I3wY"),s=n("a2jI"),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),c=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(e){function t(t,n){var o=e.call(this,["contenttypes.field.properties.category.label","contenttypes.field.properties.category.error.required"],t)||this;return o.dotMessageService=t,o.paginationService=n,o}return a(t,e),t.prototype.ngOnInit=function(){this.placeholder=this.property.value?this.property.value:this.dotMessageService.get("contenttypes.field.properties.category.label"),this.paginationService.url="v1/categories"},t.prototype.handleFilterChange=function(e){this.getCategoriesList(e)},t.prototype.handlePageChange=function(e){this.getCategoriesList(e.filter,e.first)},t.prototype.getCategoriesList=function(e,t){var n=this;void 0===e&&(e=""),void 0===t&&(t=0),this.paginationService.filter=e,this.paginationService.getWithOffset(t).subscribe(function(e){n.categoriesCurrentPage=e.splice(0)})},t}(i.a);d=c([Object(o.Component)({providers:[s.b],selector:"dot-categories-property",template:n("7S/r")}),l("design:paramtypes",["function"==typeof(p="undefined"!=typeof r.a&&r.a)&&p||Object,"function"==typeof(u="undefined"!=typeof s.b&&s.b)&&u||Object])],d);var p,u,f=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),m=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},y=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(e){function t(t){var n=e.call(this,["contenttypes.field.properties.required.label","contenttypes.field.properties.user_searchable.label","contenttypes.field.properties.system_indexed.label","contenttypes.field.properties.listed.label","contenttypes.field.properties.unique.label"],t)||this;return n.dotMessageService=t,n.map={indexed:"contenttypes.field.properties.system_indexed.label",listed:"contenttypes.field.properties.listed.label",required:"contenttypes.field.properties.required.label",searchable:"contenttypes.field.properties.user_searchable.label",unique:"contenttypes.field.properties.unique.label"},n}return f(t,e),t.prototype.setCheckboxLabel=function(e){return this.map[e]||e},t}(i.a);h=m([Object(o.Component)({selector:"dot-checkbox-property",template:n("96aN")}),y("design:paramtypes",["function"==typeof(g="undefined"!=typeof r.a&&r.a)&&g||Object])],h);var g,b=n("7Juh"),v=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),_=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},x=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},w=function(e){function t(t){var n=e.call(this,["contenttypes.field.properties.data_type.label","contenttypes.field.properties.data_type.values.binary","contenttypes.field.properties.data_type.values.text","contenttypes.field.properties.data_type.values.boolean","contenttypes.field.properties.data_type.values.date","contenttypes.field.properties.data_type.values.decimal","contenttypes.field.properties.data_type.values.number","contenttypes.field.properties.data_type.values.large_text","contenttypes.field.properties.data_type.values.system"],t)||this;return n.dotMessageService=t,n}return v(t,e),t.prototype.ngOnInit=function(){this.radioInputs=b.a[this.property.field.clazz]},t.prototype.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return Object.keys(e).length},t}(i.a);w=_([Object(o.Component)({selector:"dot-data-type-property",template:n("4CSn")}),x("design:paramtypes",["function"==typeof(O="undefined"!=typeof r.a&&r.a)&&O||Object])],w);var O,j=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},S=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},R=function(){function e(e){this.dotMessageService=e,this.errorLabelsMap=new Map}return e.prototype.ngOnInit=function(){var e=this;this.dotMessageService.getMessages(["contenttypes.field.properties.default_value.label","contenttypes.field.properties.default_value.error.format","contenttypes.field.properties.default_value.immutable_date.error.format","contenttypes.field.properties.default_value.immutable_date_time.error.format"]).subscribe(function(t){e.setErrorLabelMap(t),e.errorLabel=e.getErrorLabel(e.property.field.clazz)})},e.prototype.getErrorLabel=function(e){return this.errorLabelsMap.get(e)?this.errorLabelsMap.get(e):this.errorLabelsMap.get("default")},e.prototype.setErrorLabelMap=function(e){this.errorLabelsMap.set("com.dotcms.contenttype.model.field.ImmutableDateField",e["contenttypes.field.properties.default_value.immutable_date.error.format"]),this.errorLabelsMap.set("com.dotcms.contenttype.model.field.ImmutableDateTimeField",e["contenttypes.field.properties.default_value.immutable_date_time.error.format"]),this.errorLabelsMap.set("default",e["contenttypes.field.properties.default_value.error.format"])},e}();R=j([Object(o.Component)({selector:"dot-default-value-property",template:n("oaBt")}),S("design:paramtypes",["function"==typeof(C="undefined"!=typeof r.a&&r.a)&&C||Object])],R);var C,M=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),F=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},E=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},D=function(e){function t(t){var n=e.call(this,["contenttypes.field.properties.hint.label"],t)||this;return n.dotMessageService=t,n}return M(t,e),t}(i.a);D=F([Object(o.Component)({selector:"dot-hint-property",template:n("3mjL")}),E("design:paramtypes",["function"==typeof(I="undefined"!=typeof r.a&&r.a)&&I||Object])],D);var I,P=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),T=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},k=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},V=function(e){function t(t){var n=e.call(this,["contenttypes.field.properties.name.label","contenttypes.field.properties.name.error.required"],t)||this;return n.dotMessageService=t,n}return P(t,e),t.prototype.ngOnInit=function(){this.group.get("name").disabled||this.name.nativeElement.focus()},t}(i.a);T([Object(o.ViewChild)("name"),k("design:type","function"==typeof(L="undefined"!=typeof o.ElementRef&&o.ElementRef)&&L||Object)],V.prototype,"name",void 0),V=T([Object(o.Component)({selector:"dot-name-property",template:n("ZL6a")}),k("design:paramtypes",["function"==typeof(B="undefined"!=typeof r.a&&r.a)&&B||Object])],V);var L,B,z=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),A=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},N=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},q=function(e){function t(t){var n=e.call(this,["contenttypes.field.properties.validation_regex.label","contenttypes.field.properties.validation_regex.values.select","contenttypes.field.properties.validation_regex.values.email","contenttypes.field.properties.validation_regex.values.numbers_only","contenttypes.field.properties.validation_regex.values.letters_only","contenttypes.field.properties.validation_regex.values.alphanumeric","contenttypes.field.properties.validation_regex.values.us_zip_code","contenttypes.field.properties.validation_regex.values.us_phone","contenttypes.field.properties.validation_regex.values.url_pattern","contenttypes.field.properties.validation_regex.values.no_html"],t)||this;return n.dotMessageService=t,n.regexCheckTempletes=[],n}return z(t,e),t.prototype.templateSelect=function(e){this.group.controls[this.property.name].setValue(e.value)},t.prototype.onMessage=function(){this.regexCheckTempletes=[{label:this.i18nMessages["contenttypes.field.properties.validation_regex.values.select"],value:""},{label:this.i18nMessages["contenttypes.field.properties.validation_regex.values.email"],value:"^([a-zA-Z0-9]+[a-zA-Z0-9._%+-]*@(?:[a-zA-Z0-9-]+.)+[a-zA-Z]{2,4})$"},{label:this.i18nMessages["contenttypes.field.properties.validation_regex.values.numbers_only"],value:"[0-9]*"},{label:this.i18nMessages["contenttypes.field.properties.validation_regex.values.letters_only"],value:"[a-zA-Zs]*"},{label:this.i18nMessages["contenttypes.field.properties.validation_regex.values.alphanumeric"],value:"[0-9a-zA-Zs]*"},{label:this.i18nMessages["contenttypes.field.properties.validation_regex.values.us_zip_code"],value:"(^d{5}$)|(^d{5}-d{4}$)"},{label:this.i18nMessages["contenttypes.field.properties.validation_regex.values.us_phone"],value:"^(?[1-9]d{2}[)-]s?d{3}-d{4}$"},{label:this.i18nMessages["contenttypes.field.properties.validation_regex.values.url_pattern"],value:"^((http|ftp|https)://w{3}[d]*.|(http|ftp|https)://|w{3}[d]*.)([wd._-#()[],;:]+@[wd._-#()[],;:])?([a-z0-9]+.)*[a-z-0-9]+.([a-z]{2,3})?[a-z]{2,6}(:[0-9]+)?(/[/a-zA-Z0-9._-,%s]+)*(/|?[a-z0-9=%&.-,#]+)?$"},{label:this.i18nMessages["contenttypes.field.properties.validation_regex.values.no_html"],value:"[^(<[.\n]+>)]*"}]},t}(i.a);q=A([Object(o.Component)({selector:"dot-regex-check-property",template:n("JyVV"),styles:[n("EIf8")]}),N("design:paramtypes",["function"==typeof(U="undefined"!=typeof r.a&&r.a)&&U||Object])],q);var U,Y=n("y/nK"),$=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),H=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},W=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},G=function(e){function t(t){var n=e.call(this,["contenttypes.field.properties.value.label"],t)||this;return n.dotMessageService=t,n}return $(t,e),t}(i.a);H([Object(o.ViewChild)("value"),W("design:type","function"==typeof(K="undefined"!=typeof Y.a&&Y.a)&&K||Object)],G.prototype,"value",void 0),G=H([Object(o.Component)({selector:"dot-values-property",template:n("I61c")}),W("design:paramtypes",["function"==typeof(X="undefined"!=typeof r.a&&r.a)&&X||Object])],G);var K,X;n.d(t,"a",function(){return d}),n.d(t,"b",function(){return h}),n.d(t,"c",function(){return w}),n.d(t,"d",function(){return R}),n.d(t,"e",function(){return D}),n.d(t,"f",function(){return V}),n.d(t,"g",function(){return q}),n.d(t,"h",function(){return G})},sY2v:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},i=n("pICe"),r=n("/oeL"),s=function(){function e(){this.cancel=new r.EventEmitter,this.cloned=new r.EventEmitter,this.drag=new r.EventEmitter,this.dragend=new r.EventEmitter,this.drop=new r.EventEmitter,this.out=new r.EventEmitter,this.over=new r.EventEmitter,this.remove=new r.EventEmitter,this.shadow=new r.EventEmitter,this.dropModel=new r.EventEmitter,this.removeModel=new r.EventEmitter,this.events=["cancel","cloned","drag","dragend","drop","out","over","remove","shadow","dropModel","removeModel"],this.bags=[]}return e.prototype.add=function(e,t){var n=this.find(e);if(n)throw new Error('Bag named: "'+e+'" already exists.');return n={name:e,drake:t},this.bags.push(n),t.models&&this.handleModels(e,t),n.initEvents||this.setupEvents(n),n},e.prototype.find=function(e){for(var t=0,n=this.bags;t<n.length;t++){var o=n[t];if(o.name===e)return o}},e.prototype.destroy=function(e){var t=this.find(e),n=this.bags.indexOf(t);this.bags.splice(n,1),t.drake.destroy()},e.prototype.setOptions=function(e,t){var n=this.add(e,i.dragula(t));this.handleModels(e,n.drake)},e.prototype.handleModels=function(e,t){var n,o,i,r,s=this;t.on("remove",function(n,i){t.models&&((r=t.models[t.containers.indexOf(i)]).splice(o,1),s.removeModel.emit([e,n,i]))}),t.on("drag",function(e,t){n=e,o=s.domIndexOf(e,t)}),t.on("drop",function(a,c,l){if(t.models&&c){if(i=s.domIndexOf(a,c),r=t.models[t.containers.indexOf(l)],c===l)r.splice(i,0,r.splice(o,1)[0]);else{var d=n===a,p=t.models[t.containers.indexOf(c)],u=d?r[o]:JSON.parse(JSON.stringify(r[o]));d&&r.splice(o,1),p.splice(i,0,u),c.removeChild(a)}s.dropModel.emit([e,a,c,l])}})},e.prototype.setupEvents=function(e){e.initEvents=!0;var t=this;this.events.forEach(function(n){e.drake.on(n,function(){var o=Array.prototype.slice.call(arguments);t[n].emit([e.name].concat(o))})})},e.prototype.domIndexOf=function(e,t){return Array.prototype.indexOf.call(t.children,e)},e}();s=o([r.Injectable()],s),t.DragulaService=s},tDhJ:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n("CtlF"),i=n("Xu08"),r=function(){function e(e){if(this.columns=[],this.lineDivider=o.a.createLineDivider(),e)for(var t=0;t<e;t++)this.columns[t]=new i.a}return e.prototype.addFields=function(e){var t=this,n=0;e[0]&&o.a.isRow(e[0])&&(this.lineDivider=e[0],n=1);o.a.splitFieldsByTabDivider(e.splice(n)).forEach(function(e){t.columns.push(new i.a(e))})},e.prototype.addFirstColumn=function(){this.columns[0]=new i.a,this.columns[0].tabDivider={clazz:"com.dotcms.contenttype.model.field.ImmutableColumnField"}},e}()},uH5v:function(e,t){e.exports='<p-multiSelect [options]="options | async" [defaultLabel]="dotMessageService.get(\'dot.common.select.workflows\')" [maxSelectedLabels]="1" (onChange)="handleChange($event.value)" [(ngModel)]="value" [disabled]="disabled">\n    <ng-template let-item pTemplate="item">\n        <span class="workflow__label" [class.workflow__archive-label]="isWorkflowArchive(item.value)">{{item.label}}</span>\n        <span *ngIf="isWorkflowArchive(item.value)" class="workflow__archive-message">({{dotMessageService.get(\'dot.common.archived\')}})</span>\n    </ng-template>\n</p-multiSelect>'},uNgx:function(e,t,n){"use strict";var o=n("CPEM");n.d(t,"ContentTypesFieldsListComponent",function(){return o.a});var i=n("U6w/");n.d(t,"ContentTypeFieldsDropZoneComponent",function(){return i.a});var r=n("wK5X");n.d(t,"ContentTypeFieldsRowComponent",function(){return r.a});var s=n("OtOT");n.d(t,"ContentTypesFieldDragabbleItemComponent",function(){return s.a});var a=n("9gjF");n.d(t,"ContentTypeFieldsRowListComponent",function(){return a.a});var c=n("5RPL");n.d(t,"ContentTypeFieldsPropertiesFormComponent",function(){return c.a});n("TB5R");var l=n("2Mh4");n.o(l,"ContentTypeField")&&n.d(t,"ContentTypeField",function(){return l.ContentTypeField})},vGrQ:function(e,t){e.exports='<dot-listing-data-table\n    #listing\n    (rowWasClicked)="editContentType($event)"\n    [actionHeaderOptions]="actionHeaderOptions"\n    placeholder="i18nMessages[\'contenttypes.fieldname.structure.name\']"\n    [columns]="contentTypeColumns"\n    [paginationPerPage]="40"\n    sortField="modDate"\n    sortOrder="DESC"\n    url="v1/contenttype"\n    [actions]="rowActions">\n\n    <dot-base-type-selector (selected)="changeBaseTypeSelector($event)"></dot-base-type-selector>\n\n</dot-listing-data-table>\n\n<dot-push-publish-dialog *ngIf="pushPublishIdentifier" [assetIdentifier]="pushPublishIdentifier" (cancel)="pushPublishIdentifier = null"></dot-push-publish-dialog>\n\n<dot-add-to-bundle *ngIf="addToBundleIdentifier" [assetIdentifier]="addToBundleIdentifier" (cancel)="addToBundleIdentifier = null"></dot-add-to-bundle>\n'},wFjq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("qbdv"),i=n("BkNc"),r=n("/oeL"),s=n("bm2B"),a=n("xrDH"),c=n("I3wY"),l=n("KPTh"),d=n("iqGV"),p=n("5S14"),u=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},f=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},m=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},y=function(){function e(e,t,n,o){this.fb=e,this.dotWorkflowService=t,this.dotLicenseService=n,this.dotMessageService=o,this.submit=new r.EventEmitter,this.canSave=!1,this.dateVarOptions=[],o.getMessages(["contenttypes.action.create","contenttypes.action.delete","contenttypes.action.edit","contenttypes.action.form.cancel","contenttypes.action.save","contenttypes.action.update","contenttypes.form.field.detail.page","contenttypes.form.field.expire.date.field","contenttypes.form.field.host_folder.label","contenttypes.form.hint.error.only.default.scheme.available.in.Community","contenttypes.form.identifier","contenttypes.form.label.URL.pattern","contenttypes.form.label.description","contenttypes.form.label.publish.date.field","contenttypes.form.label.workflow","contenttypes.form.message.no.date.fields.defined","contenttypes.form.name","contenttypes.hint.URL.map.pattern.hint1","dot.common.message.field.required"]).subscribe()}return e.prototype.ngOnInit=function(){var e=this;this.initFormGroup(),this.initWorkflowField(),this.bindActionButtonState(),this.setNameFieldLabel(),this.name.nativeElement.focus(),this.isEditMode()||this.dotWorkflowService.getSystem().subscribe(function(t){e.form.get("workflow").setValue([t.id])})},e.prototype.handleDateVarChange=function(e,t){"publishDateVar"===t?this.updateExpireDateVar(e.value):this.updatePublishDateVar(e.value)},e.prototype.isEditMode=function(){return!(!this.data||!this.data.id)},e.prototype.setNameFieldLabel=function(){var e=this;this.dotMessageService.messageMap$.subscribe(function(){var t=e.data.baseType.toLowerCase();e.nameFieldLabel=e.dotMessageService.get("contenttypes.content."+t)+"\n            "+e.dotMessageService.get("contenttypes.form.name")+" *"})},e.prototype.submitForm=function(){this.canSave&&this.submit.emit(u({},this.form.value,{workflow:this.form.getRawValue().workflow}))},e.prototype.bindActionButtonState=function(){var e=this;this.form.valueChanges.subscribe(function(){e.setSaveState()})},e.prototype.setSaveState=function(){this.canSave=this.isEditMode()?this.form.valid&&this.isFormValueUpdated():this.form.valid},e.prototype.getDateVarFieldOption=function(e){return{label:e.name,value:e.variable}},e.prototype.getDateVarOptions=function(){var e=this,t=this.fields.filter(function(t){return e.isDateVarField(t)}).map(function(t){return e.getDateVarFieldOption(t)});return t.length&&t.unshift({label:"",value:""}),t},e.prototype.initFormGroup=function(){this.form=this.fb.group({clazz:this.data.clazz||"",description:this.data.description||"",expireDateVar:[{value:this.data.expireDateVar||"",disabled:!0}],host:this.data.host||"",name:[this.data.name||"",[s.Validators.required]],publishDateVar:[{value:this.data.publishDateVar||"",disabled:!0}],workflow:[{value:this.data.workflows?this.data.workflows.map(function(e){return e.id}):[],disabled:!0}],defaultType:this.data.defaultType,fixed:this.data.fixed,folder:this.data.folder,system:this.data.system}),this.isBaseTypeContent()&&this.setBaseTypeContentSpecificFields(),this.isEditMode()&&!this.originalValue&&(this.originalValue=this.form.value),this.fields&&this.fields.length&&this.setDateVarFieldsState()},e.prototype.initWorkflowField=function(){var e=this;this.dotLicenseService.isEnterprise().subscribe(function(t){e.updateWorkflowFormControl(t)})},e.prototype.isBaseTypeContent=function(){return this.data&&"CONTENT"===this.data.baseType},e.prototype.isDateVarField=function(e){return"com.dotcms.contenttype.model.field.ImmutableDateTimeField"===e.clazz&&e.indexed},e.prototype.isFormValueUpdated=function(){return!a.isEqual(this.form.value,this.originalValue)},e.prototype.isNewDateVarFields=function(e){return this.dateVarOptions.length!==e.length},e.prototype.setBaseTypeContentSpecificFields=function(){this.form.addControl("detailPage",new s.FormControl(this.data.detailPage||"")),this.form.addControl("urlMapPattern",new s.FormControl(this.data&&this.data.urlMapPattern||""))},e.prototype.setDateVarFieldsState=function(){var e=this.getDateVarOptions();this.isNewDateVarFields(e)&&(this.dateVarOptions=e);var t=this.form.get("publishDateVar"),n=this.form.get("expireDateVar");this.dateVarOptions.length?(t.enable(),n.enable(),this.originalValue&&(this.originalValue.publishDateVar=t.value,this.originalValue.expireDateVar=n.value)):(t.disable(),n.disable(),this.originalValue&&(delete this.originalValue.publishDateVar,delete this.originalValue.expireDateVar)),this.setSaveState()},e.prototype.updateWorkflowFormControl=function(e){if(e){var t=this.form.get("workflow");t.enable(),this.originalValue&&(this.originalValue.workflow=t.value),this.setSaveState()}},e.prototype.updateExpireDateVar=function(e){var t=this.form.get("expireDateVar");t.value===e&&t.patchValue("")},e.prototype.updatePublishDateVar=function(e){var t=this.form.get("publishDateVar");t.value===e&&t.patchValue("")},e}();f([Object(r.ViewChild)("name"),m("design:type","function"==typeof(h="undefined"!=typeof r.ElementRef&&r.ElementRef)&&h||Object)],y.prototype,"name",void 0),f([Object(r.Input)(),m("design:type",Object)],y.prototype,"data",void 0),f([Object(r.Input)(),m("design:type",Array)],y.prototype,"fields",void 0),f([Object(r.Output)(),m("design:type","function"==typeof(g="undefined"!=typeof r.EventEmitter&&r.EventEmitter)&&g||Object)],y.prototype,"submit",void 0),y=f([Object(r.Component)({providers:[l.a],selector:"dot-content-types-form",styles:[n("8BZn")],template:n("We57")}),m("design:paramtypes",["function"==typeof(b="undefined"!=typeof s.FormBuilder&&s.FormBuilder)&&b||Object,"function"==typeof(v="undefined"!=typeof d.a&&d.a)&&v||Object,"function"==typeof(_="undefined"!=typeof p.a&&p.a)&&_||Object,"function"==typeof(x="undefined"!=typeof c.a&&c.a)&&x||Object])],y);var h,g,b,v,_,x,w=n("6jlI"),O=n("D1QE"),j=n("yONA"),S=n("L8gZ"),R=n("gMXx"),C=n("E/BQ"),M=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},F=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},E=function(){function e(e,t,n,o,i,r,s,a,c,l){this.contentTypesInfoService=e,this.crudService=t,this.dotHttpErrorManagerService=n,this.dotRouterService=o,this.fieldService=i,this.hotkeysService=r,this.location=s,this.route=a,this.dotMessageService=c,this.router=l,this.templateInfo={icon:"",header:""}}return e.prototype.ngOnInit=function(){var e=this;this.route.data.pluck("contentType").subscribe(function(t){e.data=t,t.fields&&(e.fields=t.fields)}),this.dotMessageService.getMessages(["contenttypes.action.create","contenttypes.action.edit","contenttypes.action.form.cancel","contenttypes.action.update","contenttypes.content.content","contenttypes.content.create.contenttype","contenttypes.content.edit.contenttype","contenttypes.content.fileasset","contenttypes.content.form","contenttypes.content.htmlpage","contenttypes.content.key_value","contenttypes.content.persona","contenttypes.content.vanity_url","contenttypes.content.variable","contenttypes.content.widget","contenttypes.form.identifier"]).subscribe(),this.setTemplateInfo(),this.show=!this.isEditMode(),this.isEditMode()||this.bindEscKey()},e.prototype.cancelForm=function(){this.show=!1,this.isEditMode()||this.dotRouterService.gotoPortlet("/content-types-angular")},e.prototype.setTemplateInfo=function(){var e=this;this.dotMessageService.messageMap$.subscribe(function(){var t=e.contentTypesInfoService.getLabel(e.data.baseType),n=e.dotMessageService.get("contenttypes.content."+t);e.templateInfo={icon:e.contentTypesInfoService.getIcon(t),header:e.isEditMode()?e.dotMessageService.get("contenttypes.content.edit.contenttype",n):e.dotMessageService.get("contenttypes.content.create.contenttype",n)}})},e.prototype.handleFormSubmit=function(e){this.show=!1,this.isEditMode()?this.updateContentType(e):this.createContentType(e)},e.prototype.isEditMode=function(){return!(!this.data||!this.data.id)},e.prototype.removeFields=function(e){var t=this;this.fieldService.deleteFields(this.data.id,e).pluck("fields").subscribe(function(e){t.fields=e},function(e){t.dotHttpErrorManagerService.handle(e).subscribe(function(){})})},e.prototype.saveFields=function(e){var t=this;this.fieldService.saveFields(this.data.id,e).subscribe(function(e){t.fields=e},function(e){t.dotHttpErrorManagerService.handle(e).subscribe(function(){})})},e.prototype.bindEscKey=function(){var e=this;this.hotkeysService.add(new C.Hotkey("esc",function(t){return e.cancelForm(),!1}))},e.prototype.createContentType=function(e){var t=this;this.crudService.postData("v1/contenttype",e).flatMap(function(e){return e}).take(1).subscribe(function(e){t.data=e,t.fields=t.data.fields,t.location.replaceState("/content-types-angular/edit/"+t.data.id),t.show=!1},function(e){t.handleHttpError(e)})},e.prototype.handleHttpError=function(e){var t=this;this.dotHttpErrorManagerService.handle(e).subscribe(function(e){t.dotRouterService.gotoPortlet("/content-types-angular")})},e.prototype.updateContentType=function(e){var t=this,n=Object.assign({},e,{id:this.data.id});this.crudService.putData("v1/contenttype/id/"+this.data.id,n).subscribe(function(e){t.data=e,t.show=!1},function(e){t.handleHttpError(e)})},e}();M([Object(r.ViewChild)("form"),F("design:type","function"==typeof(D="undefined"!=typeof y&&y)&&D||Object)],E.prototype,"form",void 0),E=M([Object(r.Component)({selector:"dot-content-types-edit",template:n("Retr"),styles:[n("JUkb")]}),F("design:paramtypes",["function"==typeof(I="undefined"!=typeof j.a&&j.a)&&I||Object,"function"==typeof(P="undefined"!=typeof w.a&&w.a)&&P||Object,"function"==typeof(T="undefined"!=typeof R.a&&R.a)&&T||Object,"function"==typeof(k="undefined"!=typeof S.a&&S.a)&&k||Object,"function"==typeof(V="undefined"!=typeof O.c&&O.c)&&V||Object,"function"==typeof(L="undefined"!=typeof C.HotkeysService&&C.HotkeysService)&&L||Object,"function"==typeof(B="undefined"!=typeof o.Location&&o.Location)&&B||Object,"function"==typeof(z="undefined"!=typeof i.ActivatedRoute&&i.ActivatedRoute)&&z||Object,"function"==typeof(A="undefined"!=typeof c.a&&c.a)&&A||Object,"function"==typeof(N="undefined"!=typeof i.Router&&i.Router)&&N||Object])],E);var D,I,P,T,k,V,L,B,z,A,N,q=n("iISA"),U=n("MZZS"),Y=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),$=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},H=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},W=function(e){function t(t,n,o){var i=e.call(this,["contenttypes.sidebar.components.title","contenttypes.tab.fields.header","contenttypes.sidebar.layouts.title","contenttypes.tab.permissions.header","contenttypes.tab.publisher.push.history.header","contenttypes.tab.relationship.header"],t)||this;return i.dotMenuService=n,i.fieldDragDropService=o,i}return Y(t,e),t.prototype.ngOnInit=function(){this.fieldDragDropService.setBagOptions()},t.prototype.ngOnChanges=function(e){var t=this;e.contentTypeId.currentValue&&(this.dotMenuService.getDotMenuId("content-types-angular").subscribe(function(n){t.relationshipURL="c/portal/layout?p_l_id="+n+"&p_p_id=content-types&_content_types_struts_action=%2Fext%2Fstructure%2Fview_relationships&_content_types_structure_id="+e.contentTypeId.currentValue}),this.permissionURL="/html/content_types/permissions.jsp?contentTypeId="+e.contentTypeId.currentValue+"&popup=true",this.pushHistoryURL="/html/content_types/push_history.jsp?contentTypeId="+e.contentTypeId.currentValue+"&popup=true")},t}(q.a);$([Object(r.Input)(),H("design:type",String)],W.prototype,"contentTypeId",void 0),W=$([Object(r.Component)({selector:"dot-content-type-layout",styles:[n("WlaS")],template:n("ILJW")}),H("design:paramtypes",["function"==typeof(G="undefined"!=typeof c.a&&c.a)&&G||Object,"function"==typeof(K="undefined"!=typeof U.a&&U.a)&&K||Object,"function"==typeof(X="undefined"!=typeof O.a&&O.a)&&X||Object])],W);var G,K,X,J=n("STF6"),Z=n("rtkY"),Q=n("AP4T"),ee=n("GrLA"),te=n("rDdN"),ne=n("CPp0"),oe=n("ge1L"),ie=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},re=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},se=function(){function e(e){this.coreWebService=e,this.currentUsersUrl="v1/users/current/"}return e.prototype.getCurrentUser=function(){return this.coreWebService.request({method:ne.g.Get,url:this.currentUsersUrl})},e}();se=ie([Object(r.Injectable)(),re("design:paramtypes",["function"==typeof(ae="undefined"!=typeof te.e&&te.e)&&ae||Object])],se);var ae,ce=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},le=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},de=function(){function e(e,t,n){this._apiRoot=e,this.coreWebService=t,this.currentUser=n,this.pushEnvironementsUrl="environment/loadenvironments/roleId",this.publishUrl=this._apiRoot.baseUrl+"DotAjaxDirector/com.dotcms.publisher.ajax.RemotePublishAjaxAction/cmd/publish"}return e.prototype.getEnvironments=function(){var e=this;return this.currentUser.getCurrentUser().mergeMap(function(t){return e.coreWebService.requestView({method:ne.g.Get,url:e.pushEnvironementsUrl+"/"+t.roleId+"/name=0"})}).pluck("bodyJsonObject").flatMap(function(e){return e}).filter(function(e){return""!==e.name}).toArray()},e.prototype.pushPublishContent=function(e,t){return this._lastEnvironmentPushed=t.environment,this.coreWebService.request({body:this.getPublishEnvironmentData(e,t),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:ne.g.Post,url:this.publishUrl})},e.prototype.getPublishEnvironmentData=function(e,t){var n="";return n+="assetIdentifier="+e,n+="&remotePublishDate="+oe(t.publishdate).format("YYYY-MM-DD"),n+="&remotePublishTime="+oe(t.publishdate).format("h-mm"),n+="&remotePublishExpireDate="+oe(t.expiredate).format("YYYY-MM-DD"),n+="&remotePublishExpireTime="+oe(t.expiredate).format("h-mm"),n+="&iWantTo="+t.pushActionSelected,n+="&whoToSend="+t.environment,n+="&bundleName=",n+="&bundleSelect=",n+="&forcePush="+t.forcePush},Object.defineProperty(e.prototype,"lastEnvironmentPushed",{get:function(){return this._lastEnvironmentPushed},enumerable:!0,configurable:!0}),e}();de=ce([Object(r.Injectable)(),le("design:paramtypes",["function"==typeof(pe="undefined"!=typeof te.a&&te.a)&&pe||Object,"function"==typeof(ue="undefined"!=typeof te.e&&te.e)&&ue||Object,"function"==typeof(fe="undefined"!=typeof se&&se)&&fe||Object])],de);var pe,ue,fe,me=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ye=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},he=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ge=this&&this.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&(n[o[i]]=e[o[i]])}return n},be=function(){function e(e,t,n,o,i,r,s,a,c){this.contentTypesInfoService=e,this.crudService=t,this.dotDialogService=n,this.dotContentletService=o,this.route=i,this.router=r,this.dotMessageService=s,this.pushPublishService=a,this.dotLicenseService=c,this.i18nKeys=["contenttypes.fieldname.structure.name","contenttypes.content.variable","contenttypes.form.label.description","contenttypes.fieldname.entries","message.structure.delete.structure.and.content","message.structure.cantdelete","contenttypes.content.fileasset","contenttypes.content.content","contenttypes.content.persona","contenttypes.content.widget","contenttypes.content.htmlpage","contenttypes.content.key_value","contenttypes.content.vanity_url","contenttypes.content.form","contenttypes.confirm.message.delete.type","contenttypes.action.delete","contenttypes.action.cancel","contenttypes.content.push_publish","contenttypes.content.add_to_bundle","Content-Type"]}return e.prototype.ngOnInit=function(){var e=this;Q.a.forkJoin(this.dotMessageService.getMessages(this.i18nKeys),this.dotContentletService.getAllContentTypes(),this.dotLicenseService.isEnterprise(),this.pushPublishService.getEnvironments().map(function(e){return!!e.length})).subscribe(function(t){var n=t[1],o={delete:!0,pushPublish:t[2]&&t[3],addToBundle:t[2]};e.actionHeaderOptions={primary:{model:e.setContentTypes(n)}},e.contentTypeColumns=e.setContentTypeColumns(),e.rowActions=e.createRowActions(o)})},e.prototype.editContentType=function(e){this.router.navigate(["edit/"+e.data.id],{relativeTo:this.route})},e.prototype.changeBaseTypeSelector=function(e){""!==e?this.listing.paginatorService.setExtraParams("type",e):this.listing.paginatorService.deleteExtraParams("type"),this.listing.loadFirstPage()},e.prototype.createRowActions=function(e){var t=this,n=[];return e.delete&&n.push({menuItem:{label:this.dotMessageService.get("contenttypes.action.delete"),command:function(e){return t.removeConfirmation(e)},icon:"fa-trash"},shouldShow:function(e){return!e.fixed}}),e.pushPublish&&n.push({menuItem:{label:this.dotMessageService.get("contenttypes.content.push_publish"),command:function(e){return t.pushPublishContentType(e)}}}),e.addToBundle&&n.push({menuItem:{label:this.dotMessageService.get("contenttypes.content.add_to_bundle"),command:function(e){return t.addToBundleContentType(e)}}}),n.length>1?n.map(this.removeIconsFromMenuItem):n},e.prototype.removeIconsFromMenuItem=function(e){var t=e.menuItem,n=(t.icon,ge(t,["icon"]));return me({},e,{menuItem:n})},e.prototype.setContentTypes=function(e){var t=this;return e.map(function(e){return{command:function(n){t.createContentType(e.name.toLocaleLowerCase(),n)},icon:t.contentTypesInfoService.getIcon(e.name),label:t.dotMessageService.get("contenttypes.content."+e.name.toLocaleLowerCase())}})},e.prototype.setContentTypeColumns=function(){var e=this;return[{fieldName:"name",header:this.dotMessageService.get("contenttypes.fieldname.structure.name"),icon:function(t){return e.contentTypesInfoService.getIcon(t.baseType)},sortable:!0},{fieldName:"variable",header:this.dotMessageService.get("contenttypes.content.variable"),sortable:!0},{fieldName:"description",header:this.dotMessageService.get("contenttypes.form.label.description"),sortable:!0},{fieldName:"nEntries",header:this.dotMessageService.get("contenttypes.fieldname.entries"),width:"7%"},{fieldName:"modDate",format:"date",header:"Last Edit Date",sortable:!0,width:"13%"}]},e.prototype.createContentType=function(e,t){this.router.navigate(["create",e],{relativeTo:this.route})},e.prototype.removeConfirmation=function(e){var t=this;this.dotDialogService.confirm({accept:function(){t.removeContentType(e)},header:this.dotMessageService.get("message.structure.cantdelete"),message:this.dotMessageService.get("contenttypes.confirm.message.delete.type",e.name),footerLabel:{accept:this.dotMessageService.get("contenttypes.action.delete"),reject:this.dotMessageService.get("contenttypes.action.cancel")}})},e.prototype.removeContentType=function(e){var t=this;this.crudService.delete("v1/contenttype/id",e.id).subscribe(function(){t.listing.loadCurrentPage()})},e.prototype.pushPublishContentType=function(e){this.pushPublishIdentifier=e.id},e.prototype.addToBundleContentType=function(e){this.addToBundleIdentifier=e.id},e}();ye([Object(r.ViewChild)("listing"),he("design:type","function"==typeof(ve="undefined"!=typeof J.a&&J.a)&&ve||Object)],be.prototype,"listing",void 0),be=ye([Object(r.Component)({selector:"dot-content-types",styles:[n("pW0h")],template:n("vGrQ")}),he("design:paramtypes",["function"==typeof(_e="undefined"!=typeof j.a&&j.a)&&_e||Object,"function"==typeof(xe="undefined"!=typeof w.a&&w.a)&&xe||Object,"function"==typeof(we="undefined"!=typeof Z.a&&Z.a)&&we||Object,"function"==typeof(Oe="undefined"!=typeof ee.a&&ee.a)&&Oe||Object,"function"==typeof(je="undefined"!=typeof i.ActivatedRoute&&i.ActivatedRoute)&&je||Object,"function"==typeof(Se="undefined"!=typeof i.Router&&i.Router)&&Se||Object,"function"==typeof(Re="undefined"!=typeof c.a&&c.a)&&Re||Object,"function"==typeof(Ce="undefined"!=typeof de&&de)&&Ce||Object,"function"==typeof(Me="undefined"!=typeof p.a&&p.a)&&Me||Object])],be);var ve,_e,xe,we,Oe,je,Se,Re,Ce,Me,Fe=n("GROE"),Ee=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},De=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ie=function(){function e(e,t,n,o,i){this.contentTypesInfoService=e,this.crudService=t,this.dotHttpErrorManagerService=n,this.dotRouterService=o,this.loginService=i}return e.prototype.resolve=function(e){return e.paramMap.get("id")?this.getContentType(e.paramMap.get("id")):this.getDefaultContentType(e.paramMap.get("type"))},e.prototype.getContentType=function(e){var t=this;return this.crudService.getDataById("v1/contenttype",e).pipe(Object(Fe.take)(1),Object(Fe.catchError)(function(e){return t.dotHttpErrorManagerService.handle(e).pipe(Object(Fe.map)(function(e){return e.redirected||t.dotRouterService.gotoPortlet("/content-types-angular",!0),null}))}))},e.prototype.getDefaultContentType=function(e){return Q.a.of({owner:this.loginService.auth.user.userId,baseType:e.toUpperCase(),clazz:this.contentTypesInfoService.getClazz(e),defaultType:!1,fixed:!1,folder:"SYSTEM_FOLDER",host:null,name:null,system:!1})},e}();Ie=Ee([Object(r.Injectable)(),De("design:paramtypes",["function"==typeof(Pe="undefined"!=typeof j.a&&j.a)&&Pe||Object,"function"==typeof(Te="undefined"!=typeof w.a&&w.a)&&Te||Object,"function"==typeof(ke="undefined"!=typeof R.a&&R.a)&&ke||Object,"function"==typeof(Ve="undefined"!=typeof S.a&&S.a)&&Ve||Object,"function"==typeof(Le="undefined"!=typeof te.B&&te.B)&&Le||Object])],Ie);var Pe,Te,ke,Ve,Le,Be=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},ze=[{component:be,path:""},{path:"create",redirectTo:""},{component:E,path:"create/:type",resolve:{contentType:Ie}},{path:"edit",redirectTo:""},{component:E,path:"edit/:id",resolve:{contentType:Ie}}],Ae=function(){return function(){}}();Ae=Be([Object(r.NgModule)({exports:[i.RouterModule],imports:[i.RouterModule.forChild(ze)]})],Ae);var Ne=n("LAyc"),qe=n("dupU"),Ue=n("4dWy"),Ye=n("hVe2"),$e=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},He=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},We=Ge=function(){function e(e){this.siteService=e,this.propagateChange=function(e){}}return e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(){},e.prototype.setValue=function(e){var t=this;setTimeout(function(){t.propagateChange(e.identifier)},0),this.isCurrentSiteSubscripted()&&this.isSelectingNewValue(e)&&this.currentSiteSubscription.unsubscribe()},e.prototype.writeValue=function(e){var t=this;e?(this.value=e,this.isCurrentSiteSubscripted()&&this.currentSiteSubscription.unsubscribe()):this.currentSiteSubscription=this.siteService.switchSite$.subscribe(function(e){t.value=e.identifier,t.propagateChange(e.identifier)})},e.prototype.isCurrentSiteSubscripted=function(){return this.currentSiteSubscription&&!this.currentSiteSubscription.closed},e.prototype.isSelectingNewValue=function(e){return e.identifier!==this.siteService.currentSite.identifier},e}();$e([Object(r.Input)(),He("design:type",Boolean)],We.prototype,"archive",void 0),$e([Object(r.Input)(),He("design:type",Boolean)],We.prototype,"live",void 0),$e([Object(r.Input)(),He("design:type",Boolean)],We.prototype,"system",void 0),We=Ge=$e([Object(r.Component)({selector:"dot-site-selector-field",template:n("IFjr"),styles:[n("HkUQ")],providers:[{multi:!0,provide:s.NG_VALUE_ACCESSOR,useExisting:Object(r.forwardRef)(function(){return Ge})}]}),He("design:paramtypes",["function"==typeof(Ke="undefined"!=typeof te.H&&te.H)&&Ke||Object])],We);var Ge,Ke,Xe=n("d3xX"),Je=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Ze=function(){return function(){}}();Ze=Je([Object(r.NgModule)({declarations:[We],imports:[o.CommonModule,Xe.a],exports:[We],providers:[]})],Ze);var Qe=n("/Lkn"),et=n("TB5R"),tt=n("uNgx"),nt=n("LUBl"),ot=n("r/CZ"),it=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},rt=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},st=function(){function e(e,t,n){this.viewContainerRef=e,this.resolver=t,this.fieldPropertyService=n}return e.prototype.ngOnChanges=function(e){e.field.currentValue&&this.createComponent(this.propertyName)},e.prototype.createComponent=function(e){var t=this.fieldPropertyService.getComponent(e),n=this.resolver.resolveComponentFactory(t),o=this.viewContainerRef.createComponent(n);o.instance.property={field:this.field,name:this.propertyName,value:this.field[this.propertyName]},o.instance.group=this.group},e}();it([Object(r.Input)(),rt("design:type",String)],st.prototype,"propertyName",void 0),it([Object(r.Input)(),rt("design:type","function"==typeof(at="undefined"!=typeof tt.ContentTypeField&&tt.ContentTypeField)&&at||Object)],st.prototype,"field",void 0),it([Object(r.Input)(),rt("design:type","function"==typeof(ct="undefined"!=typeof s.FormGroup&&s.FormGroup)&&ct||Object)],st.prototype,"group",void 0),st=it([Object(r.Directive)({selector:"[dotDynamicFieldProperty]"}),rt("design:paramtypes",["function"==typeof(lt="undefined"!=typeof r.ViewContainerRef&&r.ViewContainerRef)&&lt||Object,"function"==typeof(dt="undefined"!=typeof r.ComponentFactoryResolver&&r.ComponentFactoryResolver)&&dt||Object,"function"==typeof(pt="undefined"!=typeof O.b&&O.b)&&pt||Object])],st);var at,ct,lt,dt,pt,ut=n("kv9j"),ft=n("VaLP"),mt=n("7FQS"),yt=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},ht=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},gt=function(){function e(e,t,n,o){this.pushPublishService=e,this.fb=t,this.dotMessageService=n,this.loggerService=o,this.dateFieldMinDate=new Date,this.cancel=new r.EventEmitter}return e.prototype.ngOnInit=function(){var e=this;this.dotMessageService.getMessages(["contenttypes.content.push_publish","contenttypes.content.push_publish.action.push","contenttypes.content.push_publish.action.remove","contenttypes.content.push_publish.action.pushremove","contenttypes.content.push_publish.I_want_To","contenttypes.content.push_publish.force_push","contenttypes.content.push_publish.publish_date","contenttypes.content.push_publish.expire_date","contenttypes.content.push_publish.push_to","contenttypes.content.push_publish.push_to_errormsg","contenttypes.content.push_publish.form.cancel","contenttypes.content.push_publish.form.push","contenttypes.content.push_publish.publish_date_errormsg","contenttypes.content.push_publish.expire_date_errormsg"]).subscribe(function(){e.pushActions=[{label:e.dotMessageService.get("contenttypes.content.push_publish.action.push"),value:"publish"},{label:e.dotMessageService.get("contenttypes.content.push_publish.action.remove"),value:"expire"},{label:e.dotMessageService.get("contenttypes.content.push_publish.action.pushremove"),value:"publishexpire"}],e.initForm()})},e.prototype.close=function(){this.cancel.emit(!0),this.initForm()},e.prototype.submitPushAction=function(e){var t=this;this.form.valid&&(this.pushPublishService.pushPublishContent(this.assetIdentifier,this.form.value).subscribe(function(e){e.errors?t.loggerService.debug(e.errorMessages):t.close()}),this.form.reset())},e.prototype.submitForm=function(){this.formEl.ngSubmit.emit()},e.prototype.initForm=function(){this.form=this.fb.group({pushActionSelected:[this.pushActions[0].value||"",[s.Validators.required]],publishdate:[new Date,[s.Validators.required]],expiredate:[new Date,[s.Validators.required]],environment:["",[s.Validators.required]],forcePush:!1})},e}();yt([Object(r.Input)(),ht("design:type",String)],gt.prototype,"assetIdentifier",void 0),yt([Object(r.Output)(),ht("design:type",Object)],gt.prototype,"cancel",void 0),yt([Object(r.ViewChild)("formEl"),ht("design:type",Object)],gt.prototype,"formEl",void 0),gt=yt([Object(r.Component)({encapsulation:r.ViewEncapsulation.None,selector:"dot-push-publish-dialog",styles:[n("GLGi")],template:n("DTNc")}),ht("design:paramtypes",["function"==typeof(bt="undefined"!=typeof de&&de)&&bt||Object,"function"==typeof(vt="undefined"!=typeof s.FormBuilder&&s.FormBuilder)&&vt||Object,"function"==typeof(_t="undefined"!=typeof c.a&&c.a)&&_t||Object,"function"==typeof(xt="undefined"!=typeof te.A&&te.A)&&xt||Object])],gt);var bt,vt,_t,xt,wt=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Ot=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},jt=St=function(){function e(e,t){this.pushPublishService=e,this.dotMessageService=t,this.selectedEnvironmentIds=[],this.propagateChange=function(e){},this.propagateTouched=function(e){}}return e.prototype.ngOnInit=function(){var e=this;this.pushEnvironments$=this.pushPublishService.getEnvironments(),this.pushPublishService.getEnvironments().subscribe(function(t){e.pushPublishService.lastEnvironmentPushed?(e.selectedEnvironments=t.filter(function(t){return e.pushPublishService.lastEnvironmentPushed.includes(t.id)}),e.valueChange("",e.selectedEnvironments)):1===t.length&&(e.selectedEnvironments=t,e.valueChange("",e.selectedEnvironments))}),this.dotMessageService.getMessages(["contenttypes.content.push_publish.select_environment"]).subscribe()},e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(e){this.propagateTouched=e},e.prototype.writeValue=function(e){e&&(this.selectedEnvironmentIds=e),this.selectedEnvironments=[]},e.prototype.valueChange=function(e,t){this.propagateEnvironmentId(t)},e.prototype.removeEnvironmentItem=function(e){this.selectedEnvironments=this.selectedEnvironments.filter(function(t){return t.id!==e.id}),this.propagateEnvironmentId(this.selectedEnvironments)},e.prototype.propagateEnvironmentId=function(e){this.selectedEnvironmentIds=e.map(function(e){return e.id}),this.propagateChange(this.selectedEnvironmentIds),this.propagateTouched(this.selectedEnvironmentIds)},e}();wt([Object(r.Input)(),Ot("design:type",String)],jt.prototype,"assetIdentifier",void 0),jt=St=wt([Object(r.Component)({encapsulation:r.ViewEncapsulation.None,selector:"dot-push-publish-env-selector",styles:[n("oHqK")],template:n("UjBX"),providers:[{multi:!0,provide:s.NG_VALUE_ACCESSOR,useExisting:Object(r.forwardRef)(function(){return St})}]}),Ot("design:paramtypes",["function"==typeof(Rt="undefined"!=typeof de&&de)&&Rt||Object,"function"==typeof(Ct="undefined"!=typeof c.a&&c.a)&&Ct||Object])],jt);var St,Rt,Ct,Mt=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Ft=function(){return function(){}}();Ft=Mt([Object(r.NgModule)({declarations:[jt],exports:[jt],imports:[o.CommonModule,nt.DataListModule,nt.ButtonModule,s.FormsModule,nt.MultiSelectModule],providers:[de,se]})],Ft);var Et=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Dt=function(){return function(){}}();Dt=Et([Object(r.NgModule)({declarations:[gt],exports:[gt],imports:[o.CommonModule,s.FormsModule,nt.CalendarModule,nt.DialogModule,Ft,s.ReactiveFormsModule,nt.DropdownModule,Ne.a,nt.CheckboxModule]})],Dt);var It=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Pt=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Tt=function(){function e(e,t,n){this._apiRoot=e,this.coreWebService=t,this.currentUser=n,this.bundleUrl="bundle/getunsendbundles/userid",this.addToBundleUrl=this._apiRoot.baseUrl+"DotAjaxDirector/com.dotcms.publisher.ajax.RemotePublishAjaxAction/cmd/addToBundle"}return e.prototype.getBundles=function(){var e=this;return this.currentUser.getCurrentUser().mergeMap(function(t){return e.coreWebService.requestView({method:ne.g.Get,url:e.bundleUrl+"/"+t.userId}).pluck("bodyJsonObject","items")})},e.prototype.addToBundle=function(e,t){return this.coreWebService.request({body:"assetIdentifier="+e+"&bundleName="+t.name+"&bundleSelect="+t.id,headers:{"Content-Type":"application/x-www-form-urlencoded"},method:ne.g.Post,url:this.addToBundleUrl})},e}();Tt=It([Object(r.Injectable)(),Pt("design:paramtypes",["function"==typeof(kt="undefined"!=typeof te.a&&te.a)&&kt||Object,"function"==typeof(Vt="undefined"!=typeof te.e&&te.e)&&Vt||Object,"function"==typeof(Lt="undefined"!=typeof se&&se)&&Lt||Object])],Tt);var kt,Vt,Lt,Bt=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},zt=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},At=function(){function e(e,t,n,o){this.addToBundleService=e,this.fb=t,this.dotMessageService=n,this.loggerService=o,this.cancel=new r.EventEmitter}return e.prototype.ngOnInit=function(){var e=this;this.bundle$=this.addToBundleService.getBundles(),this.dotMessageService.getMessages(["contenttypes.content.add_to_bundle","contenttypes.content.add_to_bundle.select","contenttypes.content.add_to_bundle.type","contenttypes.content.add_to_bundle.errormsg","contenttypes.content.add_to_bundle.form.cancel","contenttypes.content.add_to_bundle.form.add"]).subscribe(function(t){e.addToBundleService.getBundles().subscribe(function(n){e.placeholder=n.length?t["contenttypes.content.add_to_bundle.select"]:t["contenttypes.content.add_to_bundle.type"]})}),this.initForm()},e.prototype.ngAfterViewInit=function(){var e=this;setTimeout(function(){e.addBundleDropdown.editableInputViewChild.nativeElement.focus()})},e.prototype.close=function(){this.cancel.emit(!0),this.initForm()},e.prototype.submitBundle=function(e){var t=this;this.form.valid&&(this.addToBundleService.addToBundle(this.assetIdentifier,this.setBundleData()).subscribe(function(e){e.errors?t.loggerService.debug(e.errorMessages):t.close()}),this.form.reset())},e.prototype.submitForm=function(){this.formEl.ngSubmit.emit()},e.prototype.initForm=function(){this.form=this.fb.group({addBundle:["",[s.Validators.required]]})},e.prototype.setBundleData=function(){return"string"==typeof this.form.value.addBundle?{id:this.form.value.addBundle,name:this.form.value.addBundle}:this.form.value.addBundle},e}();Bt([Object(r.Input)(),zt("design:type",String)],At.prototype,"assetIdentifier",void 0),Bt([Object(r.Output)(),zt("design:type",Object)],At.prototype,"cancel",void 0),Bt([Object(r.ViewChild)("formEl"),zt("design:type",Object)],At.prototype,"formEl",void 0),Bt([Object(r.ViewChild)("addBundleDropdown"),zt("design:type","function"==typeof(Nt="undefined"!=typeof nt.Dropdown&&nt.Dropdown)&&Nt||Object)],At.prototype,"addBundleDropdown",void 0),At=Bt([Object(r.Component)({encapsulation:r.ViewEncapsulation.None,selector:"dot-add-to-bundle",template:n("UMB+")}),zt("design:paramtypes",["function"==typeof(qt="undefined"!=typeof Tt&&Tt)&&qt||Object,"function"==typeof(Ut="undefined"!=typeof s.FormBuilder&&s.FormBuilder)&&Ut||Object,"function"==typeof(Yt="undefined"!=typeof c.a&&c.a)&&Yt||Object,"function"==typeof($t="undefined"!=typeof te.A&&te.A)&&$t||Object])],At);var Nt,qt,Ut,Yt,$t,Ht=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Wt=function(){return function(){}}();Wt=Ht([Object(r.NgModule)({declarations:[At],exports:[At],imports:[o.CommonModule,nt.ButtonModule,s.FormsModule,nt.DialogModule,s.ReactiveFormsModule,nt.DropdownModule,Ne.a],providers:[Tt,se]})],Wt);var Gt=n("uFYV"),Kt=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Xt=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Jt=Zt=function(){function e(e,t){this.dotWorkflowService=e,this.dotMessageService=t,this.value=[],this.disabled=!1,this.propagateChange=function(e){}}return e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(){},e.prototype.ngOnInit=function(){var e=this;this.options=this.dotMessageService.getMessages(["dot.common.select.workflows","dot.common.archived"]).mergeMap(function(){return e.dotWorkflowService.get().pipe(Object(Fe.tap)(function(t){e.workflowsModel=t}),Object(Fe.flatMap)(function(e){return e}),Object(Fe.map)(function(t){return e.getWorkflowFieldOption(t)}),Object(Fe.toArray)())})},e.prototype.handleChange=function(e){this.propagateChange(e)},e.prototype.isWorkflowArchive=function(e){return this.workflowsModel.filter(function(t){return t.id===e})[0].archived},e.prototype.setDisabledState=function(e){this.disabled=e},e.prototype.writeValue=function(e){this.value=e},e.prototype.getWorkflowFieldOption=function(e){return{label:e.name,value:e.id}},e}();Jt=Zt=Kt([Object(r.Component)({selector:"dot-workflows-selector-field",template:n("uH5v"),styles:[n("XtPE")],providers:[{multi:!0,provide:s.NG_VALUE_ACCESSOR,useExisting:Object(r.forwardRef)(function(){return Zt})}]}),Xt("design:paramtypes",["function"==typeof(Qt="undefined"!=typeof d.a&&d.a)&&Qt||Object,"function"==typeof(en="undefined"!=typeof c.a&&c.a)&&en||Object])],Jt);var Zt,Qt,en,tn=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},nn=function(){return function(){}}();nn=tn([Object(r.NgModule)({imports:[o.CommonModule,nt.MultiSelectModule,s.FormsModule],declarations:[Jt],exports:[Jt]})],nn);var on=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},rn=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},sn=function(){function e(e){this.coreWebService=e}return e.prototype.getPagesInFolder=function(e,t){var n="+basetype:5 +path:*"+(e=e.replace(/\//g,"\\/"))+"*";return n+=t?" +conhost:"+t:"",this.coreWebService.requestView({body:{query:{query_string:{query:n}}},method:ne.g.Post,url:"es/search"}).pluck("contentlets")},e.prototype.getPage=function(e){return this.coreWebService.requestView({body:{query:{query_string:{query:"+basetype:5 +identifier:"+e}}},method:ne.g.Post,url:"es/search"}).pluck("contentlets").map(function(e){return e[0]})},e}();sn=on([Object(r.Injectable)(),rn("design:paramtypes",["function"==typeof(an="undefined"!=typeof te.e&&te.e)&&an||Object])],sn);var an,cn=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},ln=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},dn=pn=function(){function e(e){this.dotPageSelectorService=e,this.selected=new r.EventEmitter,this.floatingLabel=!1,this.propagateChange=function(e){}}return e.prototype.onClear=function(){this.propagateChange(null),this.results=[]},e.prototype.onSelect=function(e){this.selected.emit(e),this.propagateChange(e.identifier)},e.prototype.search=function(e){var t=this;this.dotPageSelectorService.getPagesInFolder(e,this.hostIdentifier).subscribe(function(e){t.results=e})},e.prototype.writeValue=function(e){var t=this;e&&this.dotPageSelectorService.getPage(e).pipe(Object(Fe.take)(1)).subscribe(function(e){t.val=e})},e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(e){},e}();cn([Object(r.Output)(),ln("design:type",Object)],dn.prototype,"selected",void 0),cn([Object(r.Input)(),ln("design:type",Object)],dn.prototype,"style",void 0),cn([Object(r.Input)(),ln("design:type",String)],dn.prototype,"label",void 0),cn([Object(r.Input)(),ln("design:type",String)],dn.prototype,"hostIdentifier",void 0),cn([Object(r.Input)(),ln("design:type",Object)],dn.prototype,"floatingLabel",void 0),dn=pn=cn([Object(r.Component)({selector:"dot-page-selector",template:n("7S79"),styles:[n("NQy9")],providers:[{multi:!0,provide:s.NG_VALUE_ACCESSOR,useExisting:Object(r.forwardRef)(function(){return pn})}]}),ln("design:paramtypes",["function"==typeof(un="undefined"!=typeof sn&&sn)&&un||Object])],dn);var pn,un,fn=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},mn=function(){return function(){}}();mn=fn([Object(r.NgModule)({imports:[o.CommonModule,nt.AutoCompleteModule,s.FormsModule,Gt.a],declarations:[dn],providers:[sn],exports:[dn]})],mn);var yn=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},hn=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},gn=function(){function e(e,t){this.dotContentletService=e,this.dotMessageService=t,this.selected=new r.EventEmitter}return e.prototype.ngOnInit=function(){var e=this;this.dotMessageService.getMessages(["contenttypes.selector.any.content.type"]).pipe(Object(Fe.take)(1)).subscribe(function(){e.options=e.dotContentletService.getAllContentTypes().pipe(Object(Fe.take)(1),Object(Fe.map)(function(t){return e.setOptions(e.dotMessageService.get("contenttypes.selector.any.content.type"),t)}))})},e.prototype.change=function(e){this.selected.emit(e.value)},e.prototype.setOptions=function(e,t){return[{label:e,value:""}].concat(t.map(function(e){return{label:e.label,value:e.name}}))},e}();yn([Object(r.Input)(),hn("design:type","function"==typeof(bn="undefined"!=typeof nt.SelectItem&&nt.SelectItem)&&bn||Object)],gn.prototype,"value",void 0),yn([Object(r.Output)(),hn("design:type",Object)],gn.prototype,"selected",void 0),gn=yn([Object(r.Component)({selector:"dot-base-type-selector",template:n("YAxs"),styles:[n("WgTh")]}),hn("design:paramtypes",["function"==typeof(vn="undefined"!=typeof ee.a&&ee.a)&&vn||Object,"function"==typeof(_n="undefined"!=typeof c.a&&c.a)&&_n||Object])],gn);var bn,vn,_n,xn=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},wn=function(){return function(){}}();wn=xn([Object(r.NgModule)({imports:[o.CommonModule,nt.DropdownModule,s.FormsModule],declarations:[gn],exports:[gn]})],wn),n.d(t,"ContentTypesModule",function(){return jn});var On=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},jn=function(){return function(){}}();jn=On([Object(r.NgModule)({declarations:[ot.a,ot.b,tt.ContentTypeFieldsDropZoneComponent,tt.ContentTypeFieldsPropertiesFormComponent,tt.ContentTypeFieldsRowComponent,tt.ContentTypeFieldsRowListComponent,E,tt.ContentTypesFieldDragabbleItemComponent,tt.ContentTypesFieldsListComponent,y,W,be,ot.c,ot.d,st,ot.e,ot.f,ot.g,ot.h],entryComponents:[ot.f,ot.b,ot.a,ot.c,ot.d,ot.e,ot.g,ot.h],exports:[be],imports:[nt.ButtonModule,nt.CheckboxModule,o.CommonModule,nt.ConfirmDialogModule,Ae,nt.DialogModule,Qe.DragulaModule,nt.DropdownModule,Ne.a,s.FormsModule,ut.a,Ue.a,nt.InputTextModule,Ye.a,nt.OverlayPanelModule,Dt,nt.RadioButtonModule,s.ReactiveFormsModule,mt.a,Ze,et.a,nt.SplitButtonModule,nt.TabViewModule,ft.a,nt.MultiSelectModule,Wt,Gt.a,nn,mn,wn],providers:[j.a,Qe.DragulaService,O.a,O.b,O.c,qe.a,Ie,d.a]})],jn)},wK5X:function(e,t,n){"use strict";var o=n("/oeL"),i=n("2Mh4"),r=n("iISA"),s=n("I3wY"),a=n("MoSL"),c=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),l=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(e){function t(t,n){var i=e.call(this,["contenttypes.dropzone.rows.empty.message","contenttypes.action.delete","contenttypes.confirm.message.delete.field","contenttypes.confirm.message.delete.row","contenttypes.content.field","contenttypes.content.row","contenttypes.action.cancel"],t)||this;return i.dotDialogService=n,i.editField=new o.EventEmitter,i.removeField=new o.EventEmitter,i.removeRow=new o.EventEmitter,i}return c(t,e),t.prototype.onRemoveField=function(e){var t=this;this.dotDialogService.confirm({accept:function(){t.removeField.emit(e)},header:this.i18nMessages["contenttypes.action.delete"]+" "+this.i18nMessages["contenttypes.content.field"],message:this.dotMessageService.get("contenttypes.confirm.message.delete.field",e.name),footerLabel:{accept:this.i18nMessages["contenttypes.action.delete"],reject:this.i18nMessages["contenttypes.action.cancel"]}})},t.prototype.getColumnWidth=function(){return 100/this.fieldRow.columns.length+"%"},t.prototype.onRemoveFieldRow=function(){var e=this;this.isRowFieldEmpty()?this.removeRow.emit(this.fieldRow):this.dotDialogService.confirm({accept:function(){e.removeRow.emit(e.fieldRow)},header:this.i18nMessages["contenttypes.action.delete"]+" "+this.i18nMessages["contenttypes.content.row"],message:this.dotMessageService.get("contenttypes.confirm.message.delete.row"),footerLabel:{accept:this.i18nMessages["contenttypes.action.delete"],reject:this.i18nMessages["contenttypes.action.cancel"]}})},t.prototype.isRowFieldEmpty=function(){return this.fieldRow.columns.map(function(e){return e.fields.length}).every(function(e){return 0===e})},t}(r.a);l([Object(o.Input)(),d("design:type","function"==typeof(u="undefined"!=typeof i.FieldRow&&i.FieldRow)&&u||Object)],p.prototype,"fieldRow",void 0),l([Object(o.Output)(),d("design:type","function"==typeof(f="undefined"!=typeof o.EventEmitter&&o.EventEmitter)&&f||Object)],p.prototype,"editField",void 0),l([Object(o.Output)(),d("design:type","function"==typeof(m="undefined"!=typeof o.EventEmitter&&o.EventEmitter)&&m||Object)],p.prototype,"removeField",void 0),l([Object(o.Output)(),d("design:type","function"==typeof(y="undefined"!=typeof o.EventEmitter&&o.EventEmitter)&&y||Object)],p.prototype,"removeRow",void 0),p=l([Object(o.Component)({selector:"dot-content-type-fields-row",styles:[n("ycEI")],template:n("bOnJ")}),d("design:paramtypes",["function"==typeof(h="undefined"!=typeof s.a&&s.a)&&h||Object,"function"==typeof(g="undefined"!=typeof a.a&&a.a)&&g||Object])],p);var u,f,m,y,h,g;n.d(t,"a",function(){return p})},x33D:function(e,t){},y2E0:function(e,t,n){(e.exports=n("rP7Y")(!1)).push([e.i,":root{--color-background:#3a3847;--color-main:#c336e5;--color-main_mod:#d369ec;--color-main_rgb:195,54,229;--color-sec:#54428e;--color-sec_rgb:84,66,142}:host{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-bottom:16px;padding:0 16px}.content-type-fields-drop-zone__container,:host{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.content-type-fields-drop-zone__container{background-color:#fff;padding-bottom:16px}.content-type-fields-drop-zone__container.empty{border:1px dashed #c5c5c5;position:relative}.content-type-fields-drop-zone__message{color:#c5c5c5;font-size:16px;margin-top:-9px;position:absolute;text-align:center;top:50%;width:100%}.content-type-fields-drop-zone__hint-icon{width:15px;font-size:14px;margin-left:5px}",""]),e.exports=e.exports.toString()},y80G:function(e,t,n){"use strict";var o=n("/oeL"),i=n("r/CZ"),r=n("bm2B"),s=n("ge1L"),a={"com.dotcms.contenttype.model.field.ImmutableDateField":"YYYY-MM-DD","com.dotcms.contenttype.model.field.ImmutableDateTimeField":"YYYY-MM-DD HH:mm:ss","com.dotcms.contenttype.model.field.ImmutableTimeField":"HH:mm:ss"},c={categories:{component:i.a,defaultValue:"",order:2,validations:[r.Validators.required]},dataType:{component:i.c,defaultValue:"",order:1,disabledInEdit:!0},defaultValue:{component:i.d,defaultValue:"",order:4,validations:[function(e){var t=!0;return e.parent&&e.value&&(t=function(e){var t=e.parent.controls.clazz.value;return!a[t]||s(e.value,a[t],!0).isValid()||"now"===e.value}(e)),t?null:{validateDate:{valid:!1}}}]},hint:{component:i.e,defaultValue:"",order:5},indexed:{component:i.b,defaultValue:!1,order:9},listed:{component:i.b,defaultValue:!1,order:10},name:{component:i.f,defaultValue:"",order:0,validations:[r.Validators.required],disabledInFixed:!0},regexCheck:{component:i.g,defaultValue:"",order:6},required:{component:i.b,defaultValue:!1,order:7},searchable:{component:i.b,defaultValue:!1,order:8},unique:{component:i.b,defaultValue:!1,order:11},values:{component:i.h,defaultValue:"",order:3,validations:[r.Validators.required]}},l=n("7Juh"),d=n("mzUz");n.d(t,"a",function(){return f});var p=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(){function e(e){var t=this;this.fieldTypes=new Map,e.loadFieldTypes().subscribe(function(e){e.forEach(function(e){t.fieldTypes.set(e.clazz,e)})})}return e.prototype.existsComponent=function(e){return!!c[e]},e.prototype.getComponent=function(e){return c[e]?c[e].component:null},e.prototype.getDefaultValue=function(e,t){return"dataType"===e?this.getDataType(t):this.getPropInfo(e)},e.prototype.getOrder=function(e){return c[e]?c[e].order:null},e.prototype.getValidations=function(e){return c[e]?c[e].validations||[]:[]},e.prototype.isDisabledInEditMode=function(e){return c[e]?c[e].disabledInEdit:null},e.prototype.isDisabledInFixed=function(e){return!!c[e]&&c[e].disabledInFixed},e.prototype.getProperties=function(e){var t=this.fieldTypes.get(e);return void 0!==t?t.properties:void 0},e.prototype.getFieldType=function(e){return this.fieldTypes.get(e)},e.prototype.getDataTypeValues=function(e){return l.a[e]},e.prototype.getDataType=function(e){return l.a[e]?l.a[e][0].value:null},e.prototype.getPropInfo=function(e){return c[e]?c[e].defaultValue:null},e}();f=p([Object(o.Injectable)(),u("design:paramtypes",["function"==typeof(m="undefined"!=typeof d.a&&d.a)&&m||Object])],f);var m},ycEI:function(e,t,n){(e.exports=n("rP7Y")(!1)).push([e.i,":root{--color-background:#3a3847;--color-main:#c336e5;--color-main_mod:#d369ec;--color-main_rgb:195,54,229;--color-sec:#54428e;--color-sec_rgb:84,66,142}:host{border-radius:2px;display:block;margin-bottom:16px;padding:16px;position:relative;transition:box-shadow .1s}:host:last-child{margin-bottom:0}.row-columns,.row-columns__item{display:-webkit-box;display:-ms-flexbox;display:flex}.row-columns__item{margin:0 4px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.row-columns__item:first-child{margin-left:0}.row-columns__item:last-child{margin-right:0}.row-columns__item-empty-message{text-align:center;width:100%;border:1px solid #ecedee;color:#c5c5c5;min-height:48px;-webkit-box-flex:1;-ms-flex:1;flex:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.row-header{margin-bottom:16px;opacity:.25;text-align:center;transition:opacity .1s}.row-header__drag{cursor:move}.row-header__remove{cursor:pointer;position:absolute;right:16px}",""]),e.exports=e.exports.toString()},ys0P:function(e,t,n){(e.exports=n("rP7Y")(!1)).push([e.i,":root{--color-background:#3a3847;--color-main:#c336e5;--color-main_mod:#d369ec;--color-main_rgb:195,54,229;--color-sec:#54428e;--color-sec_rgb:84,66,142}.content-types-fields-list{margin:8px 0 0;padding:0;list-style:none}.content-types-fields-list__item{cursor:move;padding:8px 16px;-ms-touch-action:none;touch-action:none;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.content-types-fields-list__item-icon{color:#7e7a86;font-size:16px;height:24px;line-height:24px;margin-right:16px;text-align:center;transition:color .1s ease;width:24px}.content-types-fields-list__item:hover .content-types-fields-list__item-icon{color:#0a0725}",""]),e.exports=e.exports.toString()}});