webpackJsonp([2],{"+mSH":function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,":root{--color-background:#3a3847;--color-main:#c336e5;--color-main_mod:#d369ec;--color-main_rgb:195,54,229;--color-sec:#54428e;--color-sec_rgb:84,66,142}.dialog ::ng-deep .ui-dialog{max-width:1200px;width:95vw}.dialog ::ng-deep .ui-dialog .ui-dialog-content{overflow:hidden;height:80vh!important;padding:0}.dialog ::ng-deep .ui-dialog .ui-dialog-titlebar{background-color:#fafafa;border-bottom:1px solid #ecedee}",""]),t.exports=t.exports.toString()},"0bvZ":function(t,e){},"2K51":function(t,e){t.exports='\n<dot-form-selector [show]="editForm" (select)="onFormSelected($event)" (close)="editForm = false"></dot-form-selector>\n\n<dot-add-contentlet></dot-add-contentlet>\n<dot-edit-contentlet></dot-edit-contentlet>\n\n<dot-loading-indicator fullscreen="true"></dot-loading-indicator>\n<dot-edit-page-toolbar\n    (changeState)="statePageHandler($event)"\n    (actionFired)="reload()"\n    (cancel)="onCancelToolbar()"\n    [pageState]="pageState"\n    class="dot-edit__toolbar">\n</dot-edit-page-toolbar>\n\n<div class="dot-edit__page-actions">\n    <dot-edit-page-info [pageState]="pageState"></dot-edit-page-info>\n    <dot-edit-content-view-as-toolbar\n        (whatschange)="showWhatsChanged = $event"\n        (changeViewAs)="changeViewAsHandler($event)"\n        [pageState]="pageState">\n    </dot-edit-content-view-as-toolbar>\n</div>\n\n<div class="dot-edit__page-wrapper" [class.dot-edit__page-wrapper--deviced]="pageState.viewAs.device">\n    <div class="dot-edit__device-wrapper">\n        <dot-whats-changed [pageId]="pageState.page.identifier" [languageId]="pageState.page.languageId" *ngIf="showWhatsChanged"></dot-whats-changed>\n        <iframe *ngIf="showIframe" #iframe width="100%" height="100%" frameborder="0" class="dot-edit__iframe" (load)="onLoad($event)" [ngStyle]="{\'width\': pageState.viewAs.device ? pageState.viewAs.device.cssWidth + \'px\' : \'\', \'height\': pageState.viewAs.device ? pageState.viewAs.device.cssHeight + \'px\' : \'\', visibility: showWhatsChanged ? \'hidden\': \'\', position: showWhatsChanged ? \'absolute\': \'\'}"></iframe>\n    </div>\n</div>\n'},"4j45":function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"",""]),t.exports=t.exports.toString()},"5S2I":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("qbdv"),i=n("/oeL"),a=n("BkNc"),r=n("LUBl"),c=n("BWQ6"),d=n("CPp0"),s=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(){function t(t){this.coreWebService=t}return t.prototype.getContentletToContainer=function(t,e){return this.coreWebService.requestView({method:d.g.Get,url:"v1/containers/"+t.identifier+"/content/"+e.identifier}).pluck("entity","render")},t.prototype.getFormToContainer=function(t,e){return this.coreWebService.requestView({method:d.g.Get,url:"v1/containers/"+t.identifier+"/form/"+e.id}).pluck("entity")},t}();p=s([Object(i.Injectable)(),l("design:paramtypes",["function"==typeof(u="undefined"!=typeof c.a&&c.a)&&u||Object])],p);var u,f=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},g=function(){function t(){}return t.prototype.createLinkElement=function(t){var e=document.createElement("link");return e.rel="stylesheet",e.type="text/css",e.media="all",e.href=t,e},t.prototype.createStyleElement=function(t){var e=document.createElement("style");return e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),e},t.prototype.creatExternalScriptElement=function(t,e){var n=this.createScriptElement();return n.src=t,n.onload=e,n},t.prototype.createInlineScriptElement=function(t){var e=this.createScriptElement();return e.text=t,e},t.prototype.getButtomHTML=function(t,e,n){var o="";for(var i in n)o+=" data-"+i+'="'+n[i]+'"';return'<button type="button" role="button"\n                        '+o+'\n                        class="'+e+'"\n                        aria-label="'+t+'">\n                    '+t+"\n                </button>"},t.prototype.createScriptElement=function(){var t=document.createElement("script");return t.type="text/javascript",t},t}();g=f([Object(i.Injectable)()],g);var m=n("uFYV"),h="\n(function () {\n    var forbiddenTarget;\n\n    function getContainers() {\n        var containers = [];\n        var containersNodeList = document.querySelectorAll('div[data-dot-object=\"container\"]');\n\n        for (var i = 0; i < containersNodeList.length; i++) {\n            containers.push(containersNodeList[i]);\n        };\n\n        return containers;\n    }\n\n    function getDotNgModel() {\n        var model = [];\n        getContainers().forEach(function(container) {\n            var contentlets = Array.from(container.querySelectorAll('div[data-dot-object=\"contentlet\"]'));\n\n            model.push({\n                identifier: container.dataset.dotIdentifier,\n                uuid: container.dataset.dotUuid,\n                contentletsId: contentlets.map(function(contentlet) {\n                    return contentlet.dataset.dotIdentifier;\n                })\n            });\n        });\n        return model;\n    }\n\n    function checkIfContentletTypeIsAccepted(el, target) {\n        return el.dataset.dotBasetype === 'WIDGET' ||\n               el.dataset.dotBasetype === 'FORM' ||\n               target.dataset.dotAcceptTypes.indexOf(el.dataset.dotType) > -1;\n    }\n\n    function checkIfMaxLimitNotReached(target) {\n        return target.children.length < parseInt(target.dataset.maxContentlets, 10)\n    }\n\n    function checkIfContentletIsUnique(el, target) {\n        return Array.from(target.querySelectorAll(\"div[data-dot-object='contentlet']:not(.gu-transit)\"))\n            .map(node => node.dataset.dotInode).indexOf(el.dataset.dotInode) === -1;\n    }\n\n    var drake = dragula(\n        getContainers(), {\n        accepts: function (el, target, source, sibling) {\n            var canDrop = false;\n            if (target.dataset.dotObject === 'container') {\n                canDrop = checkIfContentletTypeIsAccepted(el, target)\n                            && checkIfMaxLimitNotReached(target)\n                            && checkIfContentletIsUnique(el, target);\n                if (!canDrop && target !== source) {\n                    forbiddenTarget = target;\n                    forbiddenTarget.classList.add('no')\n                }\n            }\n            return canDrop;\n        },\n        invalid: function(el, handle) {\n            return !handle.classList.contains('dotedit-contentlet__drag');\n        }\n    });\n    drake.on('dragend', function(el) {\n        if (forbiddenTarget && forbiddenTarget.classList.contains('no')) {\n            forbiddenTarget.classList.remove('no');\n        }\n        window.dotNgModel.next(getDotNgModel());\n    });\n    drake.on('drop', function(el, target, source, sibling) {\n        if (target !== source) {\n            window.contentletEvents.next({\n                name: 'relocate',\n                data: {\n                    container: {\n                        identifier: target.dataset.dotIdentifier,\n                        uuid: target.dataset.dotUuid\n                    },\n                    contentlet: {\n                        identifier: el.dataset.dotIdentifier,\n                        inode: el.dataset.dotInode\n                    }\n                }\n            });\n        }\n    })\n\n    window.getDotNgModel = getDotNgModel;\n})();\n",b=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},y=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},v="/html/js/dragula-3.7.2",j=function(){function t(t){this.dotDOMHtmlUtilService=t}return t.prototype.initDragAndDropContext=function(t){var e=this,n=t.contentDocument||t.contentWindow.document,o=this.dotDOMHtmlUtilService.createLinkElement(v+"/dragula.min.css");n.head.appendChild(o);var i=this.dotDOMHtmlUtilService.creatExternalScriptElement(v+"/dragula.min.js",function(){return e.initDragula(n)});t.contentWindow.hasOwnProperty("dojo")?n.body.appendChild(this.dotDOMHtmlUtilService.createInlineScriptElement("require(['/html/js/dragula-3.7.2/dragula.min.js'], function(dragula) { \n(function () {\n    var forbiddenTarget;\n\n    function getContainers() {\n        var containers = [];\n        var containersNodeList = document.querySelectorAll('div[data-dot-object=\"container\"]');\n\n        for (var i = 0; i < containersNodeList.length; i++) {\n            containers.push(containersNodeList[i]);\n        };\n\n        return containers;\n    }\n\n    function getDotNgModel() {\n        var model = [];\n        getContainers().forEach(function(container) {\n            var contentlets = Array.from(container.querySelectorAll('div[data-dot-object=\"contentlet\"]'));\n\n            model.push({\n                identifier: container.dataset.dotIdentifier,\n                uuid: container.dataset.dotUuid,\n                contentletsId: contentlets.map(function(contentlet) {\n                    return contentlet.dataset.dotIdentifier;\n                })\n            });\n        });\n        return model;\n    }\n\n    function checkIfContentletTypeIsAccepted(el, target) {\n        return el.dataset.dotBasetype === 'WIDGET' ||\n               el.dataset.dotBasetype === 'FORM' ||\n               target.dataset.dotAcceptTypes.indexOf(el.dataset.dotType) > -1;\n    }\n\n    function checkIfMaxLimitNotReached(target) {\n        return target.children.length < parseInt(target.dataset.maxContentlets, 10)\n    }\n\n    function checkIfContentletIsUnique(el, target) {\n        return Array.from(target.querySelectorAll(\"div[data-dot-object='contentlet']:not(.gu-transit)\"))\n            .map(node => node.dataset.dotInode).indexOf(el.dataset.dotInode) === -1;\n    }\n\n    var drake = dragula(\n        getContainers(), {\n        accepts: function (el, target, source, sibling) {\n            var canDrop = false;\n            if (target.dataset.dotObject === 'container') {\n                canDrop = checkIfContentletTypeIsAccepted(el, target)\n                            && checkIfMaxLimitNotReached(target)\n                            && checkIfContentletIsUnique(el, target);\n                if (!canDrop && target !== source) {\n                    forbiddenTarget = target;\n                    forbiddenTarget.classList.add('no')\n                }\n            }\n            return canDrop;\n        },\n        invalid: function(el, handle) {\n            return !handle.classList.contains('dotedit-contentlet__drag');\n        }\n    });\n    drake.on('dragend', function(el) {\n        if (forbiddenTarget && forbiddenTarget.classList.contains('no')) {\n            forbiddenTarget.classList.remove('no');\n        }\n        window.dotNgModel.next(getDotNgModel());\n    });\n    drake.on('drop', function(el, target, source, sibling) {\n        if (target !== source) {\n            window.contentletEvents.next({\n                name: 'relocate',\n                data: {\n                    container: {\n                        identifier: target.dataset.dotIdentifier,\n                        uuid: target.dataset.dotUuid\n                    },\n                    contentlet: {\n                        identifier: el.dataset.dotIdentifier,\n                        inode: el.dataset.dotInode\n                    }\n                }\n            });\n        }\n    })\n\n    window.getDotNgModel = getDotNgModel;\n})();\n });  ")):n.body.appendChild(i)},t.prototype.initDragula=function(t){var e=this.dotDOMHtmlUtilService.createInlineScriptElement(h);t.body.appendChild(e)},t}();j=b([Object(i.Injectable)(),y("design:paramtypes",["function"==typeof(S="undefined"!=typeof g&&g)&&S||Object])],j);var S,_=n("fc+i"),w=n("AP4T"),M=n("GROE"),O=n("TO51"),x=n("rDdN"),C=n("MoSL"),I=n("pXwq"),k=n("xrDH"),E=n("rtkY"),A=n("I3wY"),D=n("5S14"),P=this&&this.__assign||Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},R=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},L=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},H=function(){function t(t,e,n){this.dotMessageService=t,this.dotDOMHtmlUtilService=e,this.dotLicenseService=n}return t.prototype.addContainerToolbar=function(t){var e=this;this.dotMessageService.getMessages(["editpage.content.container.action.add","editpage.content.container.menu.content","editpage.content.container.menu.widget","editpage.content.container.menu.form","dot.common.license.enterprise.only.error"]).pipe(Object(M.switchMap)(this.dotLicenseService.isEnterprise.bind(this.dotLicenseService)),Object(M.take)(1)).subscribe(function(n){Array.from(t.querySelectorAll('div[data-dot-object="container"]')).forEach(function(t){var o=document.createElement("div");o.classList.add("dotedit-container__toolbar"),t.dataset.dotCanAdd.length||t.classList.add("disabled"),o.innerHTML=e.getContainerToolbarHtml(t,n),t.parentNode.insertBefore(o,t)})})},t.prototype.addContentletMarkup=function(t){var e=this;this.dotMessageService.getMessages(["editpage.content.container.action.edit.vtl","editpage.content.contentlet.menu.drag","editpage.content.contentlet.menu.edit","editpage.content.contentlet.menu.remove"]).subscribe(function(){Array.from(t.querySelectorAll('div[data-dot-object="contentlet"][data-dot-has-page-lang-version="true"]')).forEach(function(t){var n=document.createElement("div");n.classList.add("dotedit-contentlet__toolbar");var o=Array.from(t.querySelectorAll('div[data-dot-object="vtl-file"]'));o.length&&(n.innerHTML+=e.getEditVtlButtons(o)),n.innerHTML+=e.getContentButton(t.dataset);var i=document.createElement("div");i.classList.add("dotedit-contentlet__content"),i.innerHTML=t.innerHTML,t.innerHTML="",t.insertAdjacentElement("afterbegin",i),t.insertAdjacentElement("afterbegin",n)})})},t.prototype.getContentButton=function(t){var e=t.dotIdentifier,n=t.dotInode,o="true"===t.dotCanEdit,i="FORM"===t.dotBasetype,a={"dot-identifier":e,"dot-inode":n},r="dotedit-contentlet__edit";return r+=!o||i?" dotedit-contentlet__disabled":"","\n            "+this.dotDOMHtmlUtilService.getButtomHTML(this.dotMessageService.get("editpage.content.contentlet.menu.drag"),"dotedit-contentlet__drag",P({},a,{"dot-object":"drag-content"}))+"\n            "+this.dotDOMHtmlUtilService.getButtomHTML(this.dotMessageService.get("editpage.content.contentlet.menu.edit"),r,P({},a,{"dot-object":"edit-content"}))+"\n            "+this.dotDOMHtmlUtilService.getButtomHTML(this.dotMessageService.get("editpage.content.contentlet.menu.remove"),"dotedit-contentlet__remove",P({},a,{"dot-object":"remove-content"}))+"\n        "},t.prototype.getEditVtlButtons=function(t){return this.getDotEditPopupMenuHtml({button:{label:this.dotMessageService.get("editpage.content.container.action.edit.vtl"),class:"dotedit-contentlet__code"},items:t.map(function(t){return{disabled:"false"===t.dataset.dotCanEdit,label:t.dataset.dotUrl.split("/").slice(-1)[0],dataset:{action:"code",inode:t.dataset.dotInode}}})})},t.prototype.getContainerToolbarHtml=function(t,e){var n=this;return this.getDotEditPopupMenuHtml({button:{label:""+this.dotMessageService.get("editpage.content.container.action.add"),class:"dotedit-container__add"},items:t.dataset.dotCanAdd.split(",").filter(function(t){return t.length}).map(function(o){var i="form"===(o=o.toLowerCase())&&!e;return{label:n.dotMessageService.get("editpage.content.container.menu."+o),dataset:{action:"add",add:o,identifier:t.dataset.dotIdentifier,uuid:t.dataset.dotUuid},disabled:i,tooltip:i?n.dotMessageService.get("dot.common.license.enterprise.only.error"):""}})})},t.prototype.getDotEditPopupMenuHtml=function(t){var e=t.items.length>0,n='<div class="dotedit-menu">';return n+=this.getDotEditPopupMenuButton(t.button,!e),e&&(n+=this.getDotEditPopupMenuList(t.items)),n+="</div>"},t.prototype.getDotEditPopupMenuButton=function(t,e){return void 0===e&&(e=!1),'\n            <button\n                data-dot-object="popup-button"\n                type="button"\n                class="dotedit-menu__button '+(t.class?t.class:"")+'"\n                aria-label="'+t.label+'"\n                '+(e?"disabled":"")+">\n            </button>\n        "},t.prototype.getDotEditPopupMenuList=function(t){var e=this;return'\n            <ul class="dotedit-menu__list" >\n                '+t.map(function(t){return'\n                            <li class="dotedit-menu__item '+(t.disabled?"dotedit-menu__item--disabled":"")+'"\n                                '+(t.tooltip?'title="'+t.tooltip+'"':"")+'">\n                                    <a\n                                        data-dot-object="popup-menu-item"\n                                        '+e.getDotEditPopupMenuItemDataSet(t.dataset)+' role="button">\n                                        '+t.label+"\n                                    </a>\n                            </li>\n                        "}).join("")+"\n            </ul>\n        "},t.prototype.getDotEditPopupMenuItemDataSet=function(t){return Object.keys(t).map(function(e){return"data-dot-"+e+'="'+t[e]+'"'}).join(" ")},t}();H=R([Object(i.Injectable)(),L("design:paramtypes",["function"==typeof(T="undefined"!=typeof A.a&&A.a)&&T||Object,"function"==typeof(N="undefined"!=typeof g&&g)&&N||Object,"function"==typeof(B="undefined"!=typeof D.a&&D.a)&&B||Object])],H);var T,N,B,W,Z="100ms ease-in",G="0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24)",U=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},z=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};!function(t){t[t.EDIT=0]="EDIT",t[t.ADD=1]="ADD"}(W||(W={}));var Q=function(){function t(t,e,n,o,i,a){var r=this;this.dotContainerContentletService=t,this.dotDragDropAPIHtmlService=e,this.dotEditContentToolbarHtmlService=n,this.dotDOMHtmlUtilService=o,this.dotDialogService=i,this.dotMessageService=a,this.contentletEvents$=new O.Subject,this.iframeActions$=new O.Subject,this.pageModel$=new O.Subject,this.mutationConfig={attributes:!1,childList:!0,characterData:!1},this.rowsMaxHeight=[],this.updateContentletInode=!1,this.contentletEvents$.subscribe(function(t){r.handlerContentletEvents(t.name)(t)}),this.dotMessageService.getMessages(["editpage.content.add.already.title","editpage.content.add.already.message"]).subscribe(),this.docClickHandlers||(this.docClickHandlers={},this.setGlobalClickHandlers())}return t.prototype.renderPage=function(t,e){var n=this;return new Promise(function(o,i){n.iframe=e;var a=n.getEditPageIframe();a.addEventListener("load",function(){a.contentWindow.dotNgModel=n.pageModel$,a.contentWindow.contentletEvents=n.contentletEvents$,n.bindGlobalEvents(),o(!0)}),n.loadCodeIntoIframe(t)})},t.prototype.initEditMode=function(t,e){var n=this;this.renderPage(t,e).then(function(){n.setEditMode()})},t.prototype.removeContentlet=function(t,e){var n=this.getEditPageDocument(),o=['div[data-dot-object="container"][data-dot-identifier="'+t.identifier+'"][data-dot-uuid="'+t.uuid+'"] ','div[data-dot-object="contentlet"][data-dot-inode="'+e.inode+'"]'].join("");n.querySelector(o).remove(),this.pageModel$.next(this.getContentModel())},t.prototype.renderEditedContentlet=function(t){var e=this;this.getEditPageDocument().querySelectorAll('div[data-dot-object="contentlet"][data-dot-identifier="'+t.identifier+'"]').forEach(function(n){t.type=n.dataset.dotType;var o=n.parentNode,i={identifier:o.dataset.dotIdentifier,uuid:o.dataset.dotUuid};e.dotContainerContentletService.getContentletToContainer(i,t).pipe(Object(I.a)(1)).subscribe(function(t){var i=e.createNewContentletFromString(t);e.renderHTMLToContentlet(i,t),o.replaceChild(i,n)})})},t.prototype.renderAddedContentlet=function(t){this.renderAddedItem({item:t,checkExistFunc:this.isContentExistInContainer.bind(this),getContent:this.dotContainerContentletService.getContentletToContainer.bind(this.dotContainerContentletService)})},t.prototype.renderAddedForm=function(t){var e=this,n=this.getEditPageDocument().querySelector(['div[data-dot-object="container"]','[data-dot-identifier="'+this.currentContainer.identifier+'"]','[data-dot-uuid="'+this.currentContainer.uuid+'"]'].join());return this.isFormExistInContainer(t,n)?(this.showContentAlreadyAddedError(),w.a.of(null)):this.dotContainerContentletService.getFormToContainer(this.currentContainer,t).map(function(t){var n=e.getContentModel();return n.filter(function(t){return t.identifier===e.currentContainer.identifier&&t.uuid===e.currentContainer.uuid}).forEach(function(e){e.contentletsId||(e.contentletsId=[]),e.contentletsId.push(t.content.identifier)}),n})},t.prototype.setContainterToAppendContentlet=function(t){this.currentContainer=t,this.currentAction=W.ADD},t.prototype.setContaintersChangeHeightListener=function(t){var e=this,n=this.getEditPageDocument().querySelector("body"),o=k.debounce(function(t){return e.setContaintersSameHeight(t)},500,{leading:!0});new MutationObserver(function(){o(t)}).observe(n,this.mutationConfig)},t.prototype.setContaintersSameHeight=function(t){var e=this,n=this.getContainersLayoutIds(t);this.getContainerDomElements(n).forEach(function(t,n){t.length>1&&t.forEach(function(t){t.style.height=e.rowsMaxHeight[n]+"px"})});var o=this.getEditPageDocument().querySelector("body");o.style.display="none",o.style.display=""},t.prototype.getContentModel=function(){return this.getEditPageIframe().contentWindow.getDotNgModel()},t.prototype.renderAddedItem=function(t){var e=this,n=this.getEditPageDocument().querySelector('div[data-dot-object="container"][data-dot-identifier="'+this.currentContainer.identifier+'"][data-dot-uuid="'+this.currentContainer.uuid+'"]');t.checkExistFunc(t.item,n)?this.showContentAlreadyAddedError():t.getContent(this.currentContainer,t.item).subscribe(function(t){var o=e.createNewContentletFromString(t);n.insertAdjacentElement("beforeend",o),e.renderHTMLToContentlet(o,t),e.pageModel$.next(e.getContentModel()),e.currentAction=W.EDIT})},t.prototype.bindGlobalEvents=function(){var t=this,e=this.getEditPageDocument();this.docClickSubscription&&this.docClickSubscription.unsubscribe(),this.docClickSubscription=w.a.fromEvent(e,"click").subscribe(function(e){var n=e.target,o=t.docClickHandlers[n.dataset.dotObject];o&&o(n),n.classList.contains("dotedit-menu__button")||t.closeContainersToolBarMenu()})},t.prototype.getCurrentContentlet=function(t){var e=t.closest('div[data-dot-object="contentlet"]');return{identifier:e.dataset.dotIdentifier,inode:e.dataset.dotInode,type:e.dataset.dotType,baseType:e.dataset.dotBasetype}},t.prototype.setGlobalClickHandlers=function(){var t=this;this.docClickHandlers["edit-content"]=function(e){t.currentContentlet=t.getCurrentContentlet(e),t.buttonClickHandler(e,"edit")},this.docClickHandlers["remove-content"]=function(e){t.buttonClickHandler(e,"remove")},this.docClickHandlers["popup-button"]=function(t){t.nextElementSibling.classList.toggle("active")},this.docClickHandlers["popup-menu-item"]=function(e){"code"===e.dataset.dotAction&&(t.currentContentlet=t.getCurrentContentlet(e)),t.buttonClickHandler(e,e.dataset.dotAction)}},t.prototype.getContainersLayoutIds=function(t){return t.body.rows.map(function(t){return t.columns.map(function(t){return{identifier:t.containers[0].identifier,uuid:t.containers[0].uuid}})})},t.prototype.getContainerDomElements=function(t){var e=this,n=this.getEditPageDocument();return t.map(function(t,o){return e.rowsMaxHeight[o]=0,t.map(function(t){var i=['div[data-dot-object="container"]','[data-dot-identifier="'+t.identifier+'"]','[data-dot-uuid="'+t.uuid+'"]'].join(""),a=n.querySelector(i);return a.style.height="auto",e.rowsMaxHeight[o]=a.offsetHeight>e.rowsMaxHeight[o]?a.offsetHeight:e.rowsMaxHeight[o],a})})},t.prototype.showContentAlreadyAddedError=function(){this.currentContainer=null,this.dotDialogService.alert({header:this.dotMessageService.get("editpage.content.add.already.title"),message:this.dotMessageService.get("editpage.content.add.already.message"),footerLabel:{accept:"Ok"}})},t.prototype.isContentExistInContainer=function(t,e){return Array.from(e.querySelectorAll('div[data-dot-object="contentlet"]').values()).some(function(e){return e.dataset.dotIdentifier===t.identifier})},t.prototype.isFormExistInContainer=function(t,e){return Array.from(e.querySelectorAll('div[data-dot-object="contentlet"]').values()).some(function(e){return e.dataset.dotContentTypeId===t.id})},t.prototype.addContentToolBars=function(){var t=this.getEditPageDocument();this.dotEditContentToolbarHtmlService.addContainerToolbar(t),this.dotEditContentToolbarHtmlService.addContentletMarkup(t)},t.prototype.createScriptTag=function(t){var e=this.getEditPageDocument().createElement("script");return e.type="text/javascript",t.src?e.src=t.src:e.text=t.textContent,e},t.prototype.getScriptTags=function(t,e){var n=this;return Array.from(e.children).forEach(function(e){if("SCRIPT"===e.tagName){var o=n.createScriptTag(e);t.push(o)}else e.children.length&&n.getScriptTags(t,e)}),t},t.prototype.appendNewContentlets=function(t,e){var n=t.querySelector(".dotedit-contentlet__content");n.innerHTML="";var o=[],i=this.getEditPageDocument().createElement("div");i.innerHTML=e;var a=i.children[0];(o=this.getScriptTags(o,a)).forEach(function(t){n.appendChild(t)}),Array.from(a.childNodes).forEach(function(t){"SCRIPT"!==t.tagName&&n.appendChild(t)})},t.prototype.buttonClickHandler=function(t,e){this.updateContentletInode=this.shouldUpdateContentletInode(t);var n=t.closest('div[data-dot-object="container"]');this.iframeActions$.next({name:e,dataset:t.dataset,container:n?n.dataset:null})},t.prototype.closeContainersToolBarMenu=function(t){var e=this.getEditPageDocument();Array.from(e.querySelectorAll(".dotedit-menu__list.active")).forEach(function(e){t!==e&&e.classList.remove("active")})},t.prototype.createNewContentletFromString=function(t){var e=this.getEditPageDocument().createElement("div");return e.innerHTML=t,this.createNewContentlet(e.children[0].dataset)},t.prototype.createNewContentlet=function(t){var e=this.getEditPageDocument().createElement("div");Object.assign(e.dataset,t);var n=this.dotEditContentToolbarHtmlService.getContentButton(t);return e.innerHTML='\n            <div class="dotedit-contentlet__toolbar">\n                '+n+'\n            </div>\n            <div class="dotedit-contentlet__content">\n                <div class="loader__overlay">\n                    <div class="loader"></div>\n                </div>\n            </div>\n        ',e},t.prototype.getEditPageIframe=function(){return this.iframe.nativeElement},t.prototype.getEditPageDocument=function(){return this.getEditPageIframe().contentDocument||this.getEditPageIframe().contentWindow.document},t.prototype.handlerContentletEvents=function(t){var e=this;return{save:function(t){e.currentAction===W.ADD?e.renderAddedContentlet(t.data):(e.updateContentletInode&&(e.currentContentlet.inode=t.data.inode),e.renderEditedContentlet(e.currentContentlet))},select:function(t){e.renderAddedContentlet(t.data),e.iframeActions$.next({name:"select"})},relocate:function(t){e.renderRelocatedContentlet(t.data)},"deleted-contenlet":function(t){e.removeCurrentContentlet()}}[t]},t.prototype.shouldUpdateContentletInode=function(t){return"edit-content"===t.dataset.dotObject&&"BUTTON"===t.tagName},t.prototype.updateHtml=function(t){var e=document.createElement("html");if(e.innerHTML=t.html,e.querySelector("base"))return t.html;var n=e.querySelector("head");return n.insertBefore(this.getBaseTag(t.page.pageURI),n.childNodes[0]),e.innerHTML},t.prototype.getBaseTag=function(t){var e=document.createElement("base"),n=t.split("/");return n.pop(),e.href=n.join("/")+"/",e},t.prototype.loadCodeIntoIframe=function(t){var e=this.getEditPageDocument();e.open(),e.write(this.updateHtml(t)),e.close()},t.prototype.setEditContentletStyles=function(){var t="iframeId_"+Math.floor(Date.now()/100).toString(),e=this.dotDOMHtmlUtilService.createStyleElement(function(t){return"\n    "+t+":root {\n        --color-background: #3A3847;\n        --color-main: #C336E5;\n        --color-main_mod: #D369EC;\n        --color-main_rgb: 195, 54, 229;\n        --color-sec: #54428E;\n        --color-sec_rgb: 84, 66, 142;\n    }\n\n    "+t+' [data-dot-object="container"] {\n        border: solid 1px #53c2f9 !important;\n        margin-bottom: 40px !important;\n        min-height: 120px !important;\n    }\n\n    '+t+' [data-dot-object="container"].no {\n        background-color: #ff00000f !important;\n        border-color: red !important;\n        border-radious: 2px !important;\n        box-shadow: 0 0 20px red !important;\n    }\n\n    '+t+' [data-dot-object="container"].disabled {\n        border-color: #c5c5c5 !important;\n    }\n\n    '+t+' [data-dot-object="contentlet"] {\n        background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAQElEQVQoU2NkIAIEH/6VxkhIHUjRWlu2WXgVwhSBDMOpEFkRToXoirAqxKYIQyEuRSgK8SmCKySkCKyQGEUghQCguSaB0AmkRwAAAABJRU5ErkJggg==") !important;\n        margin: 40px 16px 16px !important;\n        min-height: 60px !important;\n        position: relative;\n        padding-top: 25px !important;\n        transition: background '+Z+" !important;\n    }\n\n    "+t+' [data-dot-object="contentlet"][data-dot-has-page-lang-version="false"] {\n        display: none !important;\n    }\n\n    '+t+' [data-dot-object="container"]:hover [data-dot-object="contentlet"] {\n        background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAQElEQVQoU2NkIAIEH/r5n5GQOpCitXbsjHgVwhSBDMOpEFkRToXoirAqxKYIQyEuRSgK8SmCKySkCKyQGEUghQCQPycYlScX0wAAAABJRU5ErkJggg==") !important;\n    }\n\n    '+t+' div[data-dot-object="edit-content"] {\n        background-image: url(data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjNDQ0NDQ0IiBoZWlnaHQ9IjE4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIxOCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4gICAgPHBhdGggZD0iTTMgMTcuMjVWMjFoMy43NUwxNy44MSA5Ljk0bC0zLjc1LTMuNzVMMyAxNy4yNXpNMjAuNzEgNy4wNGMuMzktLjM5LjM5LTEuMDIgMC0xLjQxbC0yLjM0LTIuMzRjLS4zOS0uMzktMS4wMi0uMzktMS40MSAwbC0xLjgzIDEuODMgMy43NSAzLjc1IDEuODMtMS44M3oiLz4gICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPjwvc3ZnPg==) !important;\n        background-position: center !important;\n        background-repeat: no-repeat !important;\n        border-radius: 16px !important;\n        cursor: pointer !important;\n        float: right !important;\n        height: 32px !important;\n        opacity: 0.7 !important;\n        position: relative! important;\n        transition: all '+Z+" !important;\n        width: 32px !important;\n        z-index: 2147483647 !important;\n    }\n\n    "+t+' div[data-dot-object="edit-content"]:hover {\n        background-color: rgba(68, 68, 68, 0.1) !important;\n        opacity: 1 !important;\n    }\n\n    '+t+" .dotedit-contentlet__content {\n        min-height: 100px !important;\n        position: relative !important;\n    }\n\n    "+t+' .dotedit-contentlet__content:after {\n        content: "" !important;\n        clear: both !important;\n        display: table !important;\n    }\n\n    '+t+" .loader,\n    "+t+" .loader:after {\n        border-radius: 50% !important;\n        height: 32px !important;\n        width: 32px !important;\n    }\n\n    "+t+" .loader {\n        -webkit-animation: load8 1.1s infinite linear !important;\n        animation: load8 1.1s infinite linear !important;\n        border-bottom: solid 5px rgba(0, 0, 0, 0.2) !important;\n        border-left: solid 5px #000 !important;\n        border-right: solid 5px rgba(0, 0, 0, 0.2) !important;\n        border-top: solid 5px rgba(0, 0, 0, 0.2) !important;\n        display: inline-block !important;\n        font-size: 10px !important;\n        overflow: hidden !important;\n        position: relative !important;\n        text-indent: -9999em !important;\n        -webkit-transform: translateZ(0) !important;\n        -ms-transform: translateZ(0) !important;\n        transform: translateZ(0) !important;\n        vertical-align: middle !important;\n    }\n\n    "+t+" .loader__overlay {\n        align-items: center !important;\n        background-color: rgba(255, 255, 255, 0.8) !important;\n        bottom: 0 !important;\n        display: flex !important;\n        justify-content: center !important;\n        left: 0 !important;\n        overflow: hidden !important;\n        position: absolute !important;\n        right: 0 !important;\n        top: 0 !important;\n        z-index: 1 !important;\n    }\n\n    @-webkit-keyframes load8 {\n        0% {\n            -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n        }\n        100% {\n            -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n        }\n    }\n    @keyframes load8 {\n        0% {\n            -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n        }\n        100% {\n            -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n        }\n    }\n\n    "+t+" .dotedit-container__toolbar {\n        float: right !important;\n        font-size: 0 !important;\n        margin: -15px 8px 0 0 !important;\n    }\n\n    "+t+" .dotedit-container__toolbar button,\n    "+t+" .dotedit-contentlet__toolbar button {\n        box-shadow: "+G+" !important;\n        border: none !important;\n        border-radius: 16px !important;\n        cursor: pointer !important;\n        font-size: 0 !important;\n        height: 32px !important;\n        outline: none !important;\n        position: relative !important;\n        width: 32px !important;\n        z-index: 2147483646 !important;\n    }\n\n    "+t+" .dotedit-container__toolbar button:not([disabled]):hover,\n    "+t+" .dotedit-contentlet__toolbar button:not([disabled]):hover {\n        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.19), 0 6px 6px rgba(0, 0, 0, 0.23) !important;\n    }\n\n    "+t+" .dotedit-container__toolbar button:active,\n    "+t+" .dotedit-contentlet__toolbar button:active {\n        box-shadow: "+G+" !important;\n    }\n\n    "+t+" .dotedit-container__toolbar button:disabled {\n        background-color: #c5c5c5 !important;\n    }\n\n    "+t+" .dotedit-contentlet__toolbar {\n        display: flex !important;\n        font-size: 0 !important;\n        opacity: 0 !important;\n        position: absolute !important;\n        right: 0 !important;\n        top: -16px !important;\n        transition: opacity "+Z+" !important;\n    }\n\n    "+t+' [data-dot-object="contentlet"]:hover .dotedit-contentlet__toolbar {\n        opacity: 1 !important;\n    }\n\n    '+t+" .dotedit-contentlet__toolbar button {\n        background-color: #fff !important;\n    }\n\n    "+t+" .dotedit-contentlet__toolbar > * {\n        margin-right: 8px !important;\n    }\n\n    "+t+" .dotedit-contentlet__toolbar .dotedit-contentlet__disabled {\n        opacity: 0.25 !important;\n        pointer-events: none !important;\n    }\n\n    "+t+" .dotedit-contentlet__toolbar button:last-child {\n        margin-right: 0 !important;\n    }\n\n    "+t+" .dotedit-container__add,\n    "+t+" .dotedit-contentlet__drag,\n    "+t+" .dotedit-contentlet__edit,\n    "+t+" .dotedit-contentlet__remove,\n    "+t+" .dotedit-contentlet__code {\n        background-position: center !important;\n        background-repeat: no-repeat !important;\n        transition: background-color "+Z+",\n                    box-shadow "+Z+",\n                    color "+Z+" !important;\n    }\n\n    "+t+" .dotedit-container__add:focus,\n    "+t+" .dotedit-contentlet__drag:focus,\n    "+t+" .dotedit-contentlet__edit:focus,\n    "+t+" .dotedit-contentlet__remove:focus,\n    "+t+" .dotedit-contentlet__code:focus {\n        outline: none !important;\n    }\n\n    "+t+" .dotedit-container__add {\n        background-image: url(data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjRkZGRkZGIiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4gICAgPHBhdGggZD0iTTE5IDEzaC02djZoLTJ2LTZINXYtMmg2VjVoMnY2aDZ2MnoiLz4gICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPjwvc3ZnPg==) !important;\n        background-color: var(--color-main) !important;\n    }\n\n    "+t+" .dotedit-container__add:hover {\n        background-color: var(--color-main_mod) !important;\n    }\n\n    "+t+" .dotedit-container__add:focus {\n        background-color: var(--color-main_mod) !important;\n    }\n\n    "+t+" .dotedit-container__add:active {\n        background-color: var(--color-main_mod) !important;\n    }\n\n    "+t+" button.dotedit-contentlet__drag {\n        background-image: url(data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjNDQ0NDQ0IiBoZWlnaHQ9IjE4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIxOCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgIDxkZWZzPiAgICAgICAgPHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBpZD0iYSIvPiAgICA8L2RlZnM+ICAgIDxjbGlwUGF0aCBpZD0iYiI+ICAgICAgICA8dXNlIG92ZXJmbG93PSJ2aXNpYmxlIiB4bGluazpocmVmPSIjYSIvPiAgICA8L2NsaXBQYXRoPiAgICA8cGF0aCBjbGlwLXBhdGg9InVybCgjYikiIGQ9Ik0yMCA5SDR2MmgxNlY5ek00IDE1aDE2di0ySDR2MnoiLz48L3N2Zz4=) !important;\n        cursor: move !important;\n        touch-action: none !important;\n    }\n\n    "+t+" .dotedit-contentlet__edit {\n        background-image: url(data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjNDQ0NDQ0IiBoZWlnaHQ9IjE4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIxOCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4gICAgPHBhdGggZD0iTTMgMTcuMjVWMjFoMy43NUwxNy44MSA5Ljk0bC0zLjc1LTMuNzVMMyAxNy4yNXpNMjAuNzEgNy4wNGMuMzktLjM5LjM5LTEuMDIgMC0xLjQxbC0yLjM0LTIuMzRjLS4zOS0uMzktMS4wMi0uMzktMS40MSAwbC0xLjgzIDEuODMgMy43NSAzLjc1IDEuODMtMS44M3oiLz4gICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPjwvc3ZnPg==) !important;\n    }\n\n    "+t+" .dotedit-contentlet__remove {\n        background-image: url(data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjNDQ0NDQ0IiBoZWlnaHQ9IjE4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIxOCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4gICAgPHBhdGggZD0iTTE5IDYuNDFMMTcuNTkgNSAxMiAxMC41OSA2LjQxIDUgNSA2LjQxIDEwLjU5IDEyIDUgMTcuNTkgNi40MSAxOSAxMiAxMy40MSAxNy41OSAxOSAxOSAxNy41OSAxMy40MSAxMnoiLz4gICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPjwvc3ZnPg==) !important;\n    }\n\n    "+t+" .dotedit-contentlet__code {\n        background-image: url(data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjMDAwMDAwIiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4gICAgPHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+ICAgIDxwYXRoIGQ9Ik05LjQgMTYuNkw0LjggMTJsNC42LTQuNkw4IDZsLTYgNiA2IDYgMS40LTEuNHptNS4yIDBsNC42LTQuNi00LjYtNC42TDE2IDZsNiA2LTYgNi0xLjQtMS40eiIvPjwvc3ZnPg==) !important;\n    }\n\n    "+t+" .dotedit-menu {\n        position: relative !important;\n    }\n\n    "+t+" .dotedit-menu__list {\n        background-color: #ffffff !important;\n        box-shadow: "+G+' !important;\n        font-family: Roboto, "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif !important;\n        font-size: 13px !important;\n        list-style: none !important;\n        margin: 0 !important;\n        min-width: 100px !important;\n        opacity: 0 !important;\n        padding: 8px 0 !important;\n        position: absolute !important;\n        right: 0 !important;\n        transition: all '+Z+" !important;\n        visibility: hidden !important;\n        z-index:1 !important;\n    }\n\n    "+t+" .dotedit-menu__list.active {\n        opacity: 1 !important;\n        visibility: visible !important;\n        z-index: 2147483647 !important;\n    }\n\n    "+t+" .dotedit-menu__item a {\n        cursor: pointer !important;\n        display: block !important;\n        line-height: 16px !important;\n        padding: 8px !important;\n        white-space: nowrap !important;\n    }\n\n    "+t+" .dotedit-menu__item a:hover {\n        background-color: #e7e7e7 !important;\n        text-decoration: none !important;\n    }\n\n    "+t+" .dotedit-menu__item[title]:hover:after {\n        content: attr(title) !important;\n        left: 100% !important;\n        position: absolute !important;\n        top: 100% !important;\n    }\n\n    "+t+" .dotedit-menu__item a,\n    "+t+" .dotedit-menu__item a:visited {\n        color: inherit !important;\n        text-decoration: none !important;\n    }\n\n    "+t+" .dotedit-menu__item--disabled a,\n    "+t+" .dotedit-menu__item--disabled a:hover,\n    "+t+" .dotedit-menu__item--disabled a:active,\n    "+t+" .dotedit-menu__item--disabled a:focus,\n    "+t+" .dotedit-menu__item--disabled a:visited {\n        color: #c5c5c5 !important;\n        cursor: not-allowed !important;\n        pointer-events: none !important;\n    }\n"}("#"+t)),n=this.dotDOMHtmlUtilService.createLinkElement("https://fonts.googleapis.com/css?family=Roboto:400,700"),o=this.getEditPageDocument();o.documentElement.id=t,o.head.appendChild(e),o.head.appendChild(n)},t.prototype.setEditMode=function(){this.addContentToolBars(),this.dotDragDropAPIHtmlService.initDragAndDropContext(this.getEditPageIframe()),this.setEditContentletStyles()},t.prototype.addVtlEditMenu=function(t){var e=t.querySelector(".dotedit-contentlet__content"),n=t.querySelector(".dotedit-contentlet__toolbar"),o=Array.from(e.querySelectorAll('div[data-dot-object="vtl-file"]'));o.length&&(n.innerHTML="\n                "+this.dotEditContentToolbarHtmlService.getEditVtlButtons(o)+"\n                "+n.innerHTML+"\n            ")},t.prototype.removeCurrentContentlet=function(){this.getEditPageDocument().querySelectorAll('div[data-dot-object="contentlet"][data-dot-inode="'+this.currentContentlet.inode+'"]').forEach(function(t){t.remove()})},t.prototype.renderHTMLToContentlet=function(t,e){this.appendNewContentlets(t,e),this.addVtlEditMenu(t)},t.prototype.renderRelocatedContentlet=function(t){var e=this,n=this.getEditPageDocument().querySelector('div[data-dot-object="contentlet"][data-dot-inode="'+t.contentlet.inode+'"]');n.querySelector(".dotedit-contentlet__content").innerHTML+='<div class="loader__overlay"><div class="loader"></div></div>',t.container=t.container||n.parentNode.dataset.dotIdentifier,this.dotContainerContentletService.getContentletToContainer(t.container,t.contentlet).subscribe(function(t){e.appendNewContentlets(n,t)})},t}();Q=U([Object(i.Injectable)(),z("design:paramtypes",["function"==typeof(V="undefined"!=typeof p&&p)&&V||Object,"function"==typeof(F="undefined"!=typeof j&&j)&&F||Object,"function"==typeof(q="undefined"!=typeof H&&H)&&q||Object,"function"==typeof($="undefined"!=typeof g&&g)&&$||Object,"function"==typeof(Y="undefined"!=typeof E.a&&E.a)&&Y||Object,"function"==typeof(J="undefined"!=typeof A.a&&A.a)&&J||Object])],Q);var V,F,q,$,Y,J,K=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},X=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},tt=function(){function t(t){this.coreWebService=t}return t.prototype.save=function(t,e){return this.coreWebService.requestView({method:d.g.Post,body:e,url:"v1/page/"+t+"/content"}).pluck("entity")},t}();tt=K([Object(i.Injectable)(),X("design:paramtypes",["function"==typeof(et="undefined"!=typeof x.e&&x.e)&&et||Object])],tt);var et,nt=n("miw3"),ot=n("gMXx"),it=n("eieV"),at=n("nC0h"),rt=n("p9yO"),ct=n("L8gZ"),dt=n("fCCA"),st=n("CLLy"),lt=n("Ga45"),pt=n("2gal"),ut=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},ft=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},gt=function(){function t(t,e,n,o,i,a,r,c,d,s,l,p,u,f,g,m){this.dotContentletEditorService=t,this.dotDialogService=e,this.dotEditPageDataService=n,this.dotEditPageService=o,this.dotGlobalMessageService=i,this.dotHttpErrorManagerService=a,this.dotMessageService=r,this.dotPageStateService=c,this.dotRouterService=d,this.dotUiColorsService=s,this.ngZone=l,this.route=p,this.siteService=u,this.dotEditContentHtmlService=f,this.dotLoadingIndicatorService=g,this.sanitizer=m,this.showWhatsChanged=!1,this.editForm=!1,this.showIframe=!0,this.destroy$=new O.Subject}return t.prototype.ngOnInit=function(){this.dotLoadingIndicatorService.show(),this.getMessages(),this.setInitalData(),this.subscribeSwitchSite(),this.subscribeIframeCustomEvents(),this.subscribeIframeActions(),this.subscribePageModelChange()},t.prototype.ngOnDestroy=function(){this.destroy$.next(!0),this.destroy$.complete()},t.prototype.onLoad=function(t){this.dotLoadingIndicatorService.hide(),this.shouldSetContainersHeight()&&t.currentTarget.contentDocument.body.innerHTML&&this.dotEditContentHtmlService.setContaintersChangeHeightListener(this.pageState.layout);var e=t.target.contentWindow.document;this.dotUiColorsService.setColors(e.querySelector("html"))},t.prototype.statePageHandler=function(t){var e=this;this.shouldHideWhatsChanged(t.mode)&&(this.showWhatsChanged=!1),this.dotPageStateService.set(this.pageState.page,t).takeUntil(this.destroy$).subscribe(function(t){e.setPageState(t)},function(t){e.handleSetPageStateFailed(t)})},t.prototype.changeViewAsHandler=function(t){this.dotPageStateService.reload({url:this.route.snapshot.queryParams.url,mode:this.pageState.state.mode,viewAs:{persona_id:t.persona?t.persona.identifier:null,language_id:t.language.id,device_inode:t.device?t.device.inode:null}})},t.prototype.reload=function(){var t=this;this.dotPageStateService.get(this.route.snapshot.queryParams.url).catch(function(e){return t.errorHandler(e)}).pipe(Object(M.takeUntil)(this.destroy$)).subscribe(function(e){t.setPageState(e)})},t.prototype.onFormSelected=function(t){var e=this;this.dotEditContentHtmlService.renderAddedForm(t).subscribe(function(t){t&&(e.dotEditPageService.save(e.pageState.page.identifier,t).pipe(Object(M.take)(1)).subscribe(function(){e.dotGlobalMessageService.display(e.dotMessageService.get("dot.common.message.saved"))}),e.reload())}),this.editForm=!1},t.prototype.onCancelToolbar=function(){this.dotRouterService.goToSiteBrowser()},t.prototype.shouldSetContainersHeight=function(){return this.pageState&&this.pageState.layout&&this.pageState.state.mode===dt.a.EDIT},t.prototype.shouldHideWhatsChanged=function(t){return this.showWhatsChanged&&t===dt.a.EDIT||t===dt.a.LIVE},t.prototype.saveContent=function(t){var e=this;this.dotGlobalMessageService.loading(this.dotMessageService.get("dot.common.message.saving")),this.dotEditPageService.save(this.pageState.page.identifier,t).pipe(Object(M.take)(1)).subscribe(function(){e.dotGlobalMessageService.display(e.dotMessageService.get("dot.common.message.saved"))})},t.prototype.addContentlet=function(t){var e=this,n={identifier:t.dataset.dotIdentifier,uuid:t.dataset.dotUuid};this.dotEditContentHtmlService.setContainterToAppendContentlet(n),"form"===t.dataset.dotAdd?this.editForm=!0:this.dotContentletEditorService.add({header:this.dotMessageService.get("dot.common.content.search"),data:{container:t.dataset.dotIdentifier,baseTypes:t.dataset.dotAdd},events:{load:function(t){t.target.contentWindow.ngEditContentletEvents=e.dotEditContentHtmlService.contentletEvents$}}})},t.prototype.editContentlet=function(t){var e=this;this.dotContentletEditorService.edit({data:{inode:t.dataset.dotInode},events:{load:function(t){t.target.contentWindow.ngEditContentletEvents=e.dotEditContentHtmlService.contentletEvents$}}})},t.prototype.errorHandler=function(t){var e=this;return this.dotHttpErrorManagerService.handle(t).pipe(Object(M.takeUntil)(this.destroy$)).subscribe(function(t){t.redirected||e.dotRouterService.goToSiteBrowser()}),w.a.empty()},t.prototype.getMessages=function(){this.dotMessageService.getMessages(["editpage.content.contentlet.remove.confirmation_message.message","editpage.content.contentlet.remove.confirmation_message.header","dot.common.message.saving","dot.common.message.saved","dot.common.content.search","editpage.content.save.changes.confirmation.header","editpage.content.save.changes.confirmation.message"]).pipe(Object(M.take)(1)).subscribe()},t.prototype.iframeActionsHandler=function(t){var e=this;return{edit:this.editContentlet.bind(this),code:this.editContentlet.bind(this),add:this.addContentlet.bind(this),remove:this.removeContentlet.bind(this),select:function(){e.dotContentletEditorService.clear()},save:function(){}}[t]},t.prototype.handleSetPageStateFailed=function(t){var e=this;this.dotHttpErrorManagerService.handle(t).pipe(Object(M.takeUntil)(this.destroy$)).subscribe(function(t){t.forbidden?e.dotRouterService.goToSiteBrowser():e.route.queryParams.pluck("url").concatMap(function(t){return e.dotPageStateService.get({url:t})}).takeUntil(e.destroy$).subscribe(function(t){e.setPageState(t)})})},t.prototype.subscribeIframeCustomEvents=function(){var t=this;w.a.fromEvent(window.document,"ng-event").pipe(Object(M.pluck)("detail"),Object(M.filter)(function(t){return"load-edit-mode-page"===t.name}),Object(M.pluck)("data"),Object(M.takeUntil)(this.destroy$)).subscribe(function(e){var n=new at.a(t.pageState.user,e);t.route.snapshot.queryParams.url===e.page.pageURI?t.setPageState(n):(t.dotEditPageDataService.set(n),t.dotRouterService.goToEditPage(e.page.pageURI))}),w.a.fromEvent(window.document,"ng-event").pipe(Object(M.pluck)("detail"),Object(M.filter)(function(t){return"in-iframe"===t.name}),Object(M.takeUntil)(this.destroy$)).subscribe(function(){t.reload()})},t.prototype.removeContentlet=function(t){var e=this;this.dotDialogService.confirm({accept:function(){var n={identifier:t.container.dotIdentifier,uuid:t.container.dotUuid},o={inode:t.dataset.dotInode,identifier:t.dataset.dotIdentifier};e.dotEditContentHtmlService.removeContentlet(n,o)},header:this.dotMessageService.get("editpage.content.contentlet.remove.confirmation_message.header"),message:this.dotMessageService.get("editpage.content.contentlet.remove.confirmation_message.message")})},t.prototype.renderPage=function(t){this.shouldEditMode(t)?this.dotEditContentHtmlService.initEditMode(t,this.iframe):this.dotEditContentHtmlService.renderPage(t,this.iframe)},t.prototype.subscribeIframeActions=function(){var t=this;this.dotEditContentHtmlService.iframeActions$.pipe(Object(M.takeUntil)(this.destroy$)).subscribe(function(e){t.ngZone.run(function(){t.iframeActionsHandler(e.name)(e)})})},t.prototype.setInitalData=function(){var t=this;this.route.parent.parent.data.pipe(Object(M.pluck)("content"),Object(M.takeUntil)(this.destroy$)).subscribe(function(e){t.setPageState(e)}),this.dotPageStateService.reload$.pipe(Object(M.takeUntil)(this.destroy$)).subscribe(function(e){t.setPageState(e)})},t.prototype.setPageState=function(t){var e=this;this.pageState=t,this.showIframe=!1,setTimeout(function(){e.showIframe=!0},0),setTimeout(function(){e.renderPage(t)},1)},t.prototype.shouldEditMode=function(t){return t.state.mode===dt.a.EDIT&&!t.state.lockedByAnotherUser},t.prototype.subscribePageModelChange=function(){var t=this;this.dotEditContentHtmlService.pageModel$.pipe(Object(M.filter)(function(t){return t.length}),Object(M.takeUntil)(this.destroy$)).subscribe(function(e){t.ngZone.run(function(){t.saveContent(e),t.shouldSetContainersHeight()&&t.dotEditContentHtmlService.setContaintersSameHeight(t.pageState.layout)})})},t.prototype.subscribeSwitchSite=function(){var t=this;this.siteService.switchSite$.pipe(Object(M.takeUntil)(this.destroy$)).subscribe(function(){t.reload()})},t}();ut([Object(i.ViewChild)("iframe"),ft("design:type","function"==typeof(mt="undefined"!=typeof i.ElementRef&&i.ElementRef)&&mt||Object)],gt.prototype,"iframe",void 0),gt=ut([Object(i.Component)({selector:"dot-edit-content",template:n("2K51"),styles:[n("HQcU")]}),ft("design:paramtypes",["function"==typeof(ht="undefined"!=typeof lt.a&&lt.a)&&ht||Object,"function"==typeof(bt="undefined"!=typeof C.a&&C.a)&&bt||Object,"function"==typeof(yt="undefined"!=typeof st.a&&st.a)&&yt||Object,"function"==typeof(vt="undefined"!=typeof tt&&tt)&&vt||Object,"function"==typeof(jt="undefined"!=typeof nt.a&&nt.a)&&jt||Object,"function"==typeof(St="undefined"!=typeof ot.a&&ot.a)&&St||Object,"function"==typeof(_t="undefined"!=typeof A.a&&A.a)&&_t||Object,"function"==typeof(wt="undefined"!=typeof rt.a&&rt.a)&&wt||Object,"function"==typeof(Mt="undefined"!=typeof ct.a&&ct.a)&&Mt||Object,"function"==typeof(Ot="undefined"!=typeof pt.a&&pt.a)&&Ot||Object,"function"==typeof(xt="undefined"!=typeof i.NgZone&&i.NgZone)&&xt||Object,"function"==typeof(Ct="undefined"!=typeof a.ActivatedRoute&&a.ActivatedRoute)&&Ct||Object,"function"==typeof(It="undefined"!=typeof x.H&&x.H)&&It||Object,"function"==typeof(kt="undefined"!=typeof Q&&Q)&&kt||Object,"function"==typeof(Et="undefined"!=typeof it.a&&it.a)&&Et||Object,"function"==typeof(At="undefined"!=typeof _.DomSanitizer&&_.DomSanitizer)&&At||Object])],gt);var mt,ht,bt,yt,vt,jt,St,_t,wt,Mt,Ot,xt,Ct,It,kt,Et,At,Dt=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},Pt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Rt=function(){function t(t){this.dotMessageService=t}return t.prototype.ngOnInit=function(){this.dotMessageService.getMessages(["editpage.toolbar.page.cant.edit","editpage.toolbar.page.locked.by.user"]).subscribe()},t.prototype.blinkLockMessage=function(){var t=this,e="page-info__locked-by-message--blink";this.lockedPageMessage.nativeElement.classList.add(e),setTimeout(function(){t.lockedPageMessage.nativeElement.classList.remove(e)},500)},t}();Dt([Object(i.Input)(),Pt("design:type","function"==typeof(Lt="undefined"!=typeof at.a&&at.a)&&Lt||Object)],Rt.prototype,"pageState",void 0),Dt([Object(i.ViewChild)("lockedPageMessage"),Pt("design:type","function"==typeof(Ht="undefined"!=typeof i.ElementRef&&i.ElementRef)&&Ht||Object)],Rt.prototype,"lockedPageMessage",void 0),Rt=Dt([Object(i.Component)({selector:"dot-edit-page-lock-info",template:n("DGpV"),styles:[n("ry7G")]}),Pt("design:paramtypes",["function"==typeof(Tt="undefined"!=typeof A.a&&A.a)&&Tt||Object])],Rt);var Lt,Ht,Tt,Nt=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},Bt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Wt=function(){function t(t,e){var n=this;this.dotMessageService=t,this.dotDialogService=e,this.changeState=new i.EventEmitter,this.actionFired=new i.EventEmitter,this.cancel=new i.EventEmitter,this.states=[],this.debounceStateSelector=k.debounce(function(t){return n.setSelectorState(t)},500,{leading:!0})}return t.prototype.ngOnInit=function(){var t=this;this.dotMessageService.getMessages(["dot.common.cancel","editpage.content.steal.lock.confirmation.message","editpage.content.steal.lock.confirmation.message.header","editpage.toolbar.edit.page","editpage.toolbar.live.page","editpage.toolbar.preview.page"]).subscribe(function(){t.setFieldsModels(t.pageState)})},t.prototype.ngOnChanges=function(t){t.pageState&&!t.pageState.firstChange&&this.setFieldsModels(t.pageState.currentValue)},t.prototype.handleActionFired=function(){this.actionFired.emit()},t.prototype.onLockerClick=function(t){this.locker.disabled&&this.pageLockInfo.blinkLockMessage()},t.prototype.lockPageHandler=function(t){var e=this;this.shouldConfirmToLock()?this.showLockConfirmDialog(function(){e.setLockerState()}):this.setLockerState()},t.prototype.stateSelectorHandler=function(t){var e=this;this.mode===dt.a.EDIT&&this.shouldConfirmToLock()?this.showLockConfirmDialog(function(){e.setSelectorState(t)}):this.debounceStateSelector(t)},t.prototype.canTakeLock=function(t){return t.page.canLock&&t.state.lockedByAnotherUser},t.prototype.getStateModeOptions=function(t){var e=this;return["edit","preview","live"].map(function(n){return e.getModeOption(n,t)})},t.prototype.getModeOption=function(t,e){return{edit:this.getEditOption.bind(this),preview:this.getPreviewOption.bind(this),live:this.getLiveOption.bind(this)}[t](e)},t.prototype.getEditOption=function(t){return{label:this.dotMessageService.get("editpage.toolbar.edit.page"),value:dt.a.EDIT,styleClass:t.page.canEdit&&t.page.canLock?"":"edit-page-toolbar__state-selector-item--disabled"}},t.prototype.getLiveOption=function(t){return{label:this.dotMessageService.get("editpage.toolbar.live.page"),value:dt.a.LIVE,styleClass:t.page.liveInode?"":"edit-page-toolbar__state-selector-item--disabled"}},t.prototype.getPreviewOption=function(t){return{label:this.dotMessageService.get("editpage.toolbar.preview.page"),value:dt.a.PREVIEW,styleClass:t.page.canRead?"":"edit-page-toolbar__state-selector-item--disabled"}},t.prototype.setFieldsModels=function(t){this.lockerModel=t.state.locked&&!this.canTakeLock(t),this.mode=t.state.mode,this.states=this.getStateModeOptions(t)},t.prototype.setLockerState=function(){this.lockerModel||this.mode!==dt.a.EDIT||(this.mode=dt.a.PREVIEW),this.changeState.emit({locked:this.lockerModel,mode:this.mode})},t.prototype.setSelectorState=function(t){var e={mode:t};t===dt.a.EDIT&&(this.lockerModel=!0,e.locked=!0),this.changeState.emit(e)},t.prototype.shouldConfirmToLock=function(){return this.pageState.page.canLock&&this.pageState.state.lockedByAnotherUser},t.prototype.showLockConfirmDialog=function(t){var e=this;this.dotDialogService.confirm({accept:t,reject:function(){e.lockerModel=!1,e.mode=e.pageState.state.mode},header:this.dotMessageService.get("editpage.content.steal.lock.confirmation.message.header"),message:this.dotMessageService.get("editpage.content.steal.lock.confirmation.message")})},t}();Nt([Object(i.ViewChild)("locker"),Bt("design:type","function"==typeof(Zt="undefined"!=typeof r.InputSwitch&&r.InputSwitch)&&Zt||Object)],Wt.prototype,"locker",void 0),Nt([Object(i.ViewChild)("pageLockInfo"),Bt("design:type","function"==typeof(Gt="undefined"!=typeof Rt&&Rt)&&Gt||Object)],Wt.prototype,"pageLockInfo",void 0),Nt([Object(i.Input)(),Bt("design:type","function"==typeof(Ut="undefined"!=typeof at.a&&at.a)&&Ut||Object)],Wt.prototype,"pageState",void 0),Nt([Object(i.Output)(),Bt("design:type",Object)],Wt.prototype,"changeState",void 0),Nt([Object(i.Output)(),Bt("design:type",Object)],Wt.prototype,"actionFired",void 0),Nt([Object(i.Output)(),Bt("design:type",Object)],Wt.prototype,"cancel",void 0),Wt=Nt([Object(i.Component)({selector:"dot-edit-page-toolbar",template:n("zKBx"),styles:[n("9Y49")]}),Bt("design:paramtypes",["function"==typeof(zt="undefined"!=typeof A.a&&A.a)&&zt||Object,"function"==typeof(Qt="undefined"!=typeof E.a&&E.a)&&Qt||Object])],Wt);var Zt,Gt,Ut,zt,Qt,Vt=n("iqGV"),Ft=n("Ez9/"),qt=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},$t=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Yt=function(){function t(t,e,n,o){this.workflowsService=t,this.dotMessageService=e,this.httpErrorManagerService=n,this.dotGlobalMessageService=o,this.fired=new i.EventEmitter}return t.prototype.ngOnInit=function(){this.dotMessageService.getMessages(["editpage.actions.fire.confirmation"]).subscribe()},t.prototype.ngOnChanges=function(t){t.page&&(this.actions=this.getWorkflowActions(this.page.workingInode))},t.prototype.getWorkflowActions=function(t){var e=this;return this.workflowsService.getContentWorkflowActions(t).pipe(Object(M.tap)(function(t){e.actionsAvailable=!!t.length}),Object(M.map)(function(t){return 0!==t.length?e.getWorkflowOptions(t):[]}))},t.prototype.getWorkflowOptions=function(t){var e=this;return t.map(function(t){return{label:t.name,command:function(){var n=e.actions;e.actions=e.workflowsService.fireWorkflowAction(e.page.workingInode,t.id).pipe(Object(M.pluck)("inode"),Object(M.tap)(function(){e.dotGlobalMessageService.display(e.dotMessageService.get("editpage.actions.fire.confirmation",t.name))}),Object(M.catchError)(function(){return w.a.of(null)}),Object(M.mergeMap)(function(t){var n=t||e.page.workingInode;return e.fired.emit(),e.getWorkflowActions(n)}),Object(M.catchError)(function(t){return e.httpErrorManagerService.handle(t),n}))}}})},t}();qt([Object(i.Input)(),$t("design:type","function"==typeof(Jt="undefined"!=typeof Ft.DotPage&&Ft.DotPage)&&Jt||Object)],Yt.prototype,"page",void 0),qt([Object(i.Output)(),$t("design:type","function"==typeof(Kt="undefined"!=typeof i.EventEmitter&&i.EventEmitter)&&Kt||Object)],Yt.prototype,"fired",void 0),Yt=qt([Object(i.Component)({selector:"dot-edit-page-workflows-actions",template:n("g6gF"),styles:[n("Bl88")]}),$t("design:paramtypes",["function"==typeof(Xt="undefined"!=typeof Vt.a&&Vt.a)&&Xt||Object,"function"==typeof(te="undefined"!=typeof A.a&&A.a)&&te||Object,"function"==typeof(ee="undefined"!=typeof ot.a&&ot.a)&&ee||Object,"function"==typeof(ne="undefined"!=typeof nt.a&&nt.a)&&ne||Object])],Yt);var Jt,Kt,Xt,te,ee,ne,oe=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},ie=function(){return function(){}}();ie=oe([Object(i.NgModule)({imports:[o.CommonModule,r.ButtonModule,r.MenuModule],exports:[Yt],declarations:[Yt]})],ie);var ae=n("bm2B"),re=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},ce=function(){return function(){}}();ce=re([Object(i.NgModule)({imports:[r.ButtonModule,o.CommonModule,ie,ae.FormsModule,r.InputSwitchModule,r.SelectButtonModule,r.ToolbarModule],exports:[Wt],declarations:[Wt,Rt]})],ce);var de=n("eE+q"),se=n("9W7s"),le=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},pe=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ue=function(){function t(t,e){this.dotMessageService=t,this.dotLicenseService=e,this.changeViewAs=new i.EventEmitter,this.whatschange=new i.EventEmitter,this.messages={}}return t.prototype.ngOnInit=function(){var t=this;this.isEnterpriseLicense$=this.dotLicenseService.isEnterprise(),this.dotMessageService.getMessages(["dot.common.whats.changed","editpage.viewas.previewing"]).subscribe(function(e){t.messages=e})},t.prototype.ngOnChanges=function(t){var e=t.pageState.currentValue||{};this.isPreview=e.state.mode===dt.a.PREVIEW},Object.defineProperty(t.prototype,"pageState",{get:function(){return this._pageState},set:function(t){this._pageState=t,this.value=t.viewAs},enumerable:!0,configurable:!0}),t.prototype.changePersonaHandler=function(t){this.value.persona=t,this.changeViewAs.emit(this.value)},t.prototype.changeLanguageHandler=function(t){this.value.language=t,this.changeViewAs.emit(this.value)},t.prototype.changeDeviceHandler=function(t){this.value.device=t,this.changeViewAs.emit(this.value)},t}();le([Object(i.Output)(),pe("design:type",Object)],ue.prototype,"changeViewAs",void 0),le([Object(i.Output)(),pe("design:type",Object)],ue.prototype,"whatschange",void 0),le([Object(i.Input)(),pe("design:type","function"==typeof(fe="undefined"!=typeof at.a&&at.a)&&fe||Object),pe("design:paramtypes",["function"==typeof(ge="undefined"!=typeof at.a&&at.a)&&ge||Object])],ue.prototype,"pageState",null),ue=le([Object(i.Component)({selector:"dot-edit-content-view-as-toolbar",template:n("K3LY"),styles:[n("uH7c")]}),pe("design:paramtypes",["function"==typeof(me="undefined"!=typeof A.a&&A.a)&&me||Object,"function"==typeof(he="undefined"!=typeof D.a&&D.a)&&he||Object])],ue);var fe,ge,me,he,be=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},ye=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ve=function(){function t(t){this.coreWebService=t}return t.prototype.get=function(){return this.coreWebService.requestView({method:d.g.Get,url:"content/respectFrontendRoles/false/render/false/query/+contentType:persona +live:true +deleted:false +working:true"}).pluck("contentlets")},t}();ve=be([Object(i.Injectable)(),ye("design:paramtypes",["function"==typeof(je="undefined"!=typeof x.e&&x.e)&&je||Object])],ve);var je,Se=n("h/Qh"),_e=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},we=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Me=function(){function t(t,e){this.dotPersonasService=t,this.dotMessageService=e,this.selected=new i.EventEmitter}return t.prototype.ngOnInit=function(){var t=this;this.dotMessageService.getMessages(["modes.persona.no.persona"]).pipe(Object(M.take)(1)).subscribe(function(){t.dotPersonasService.get().pipe(Object(M.map)(function(e){return t.setOptions(t.dotMessageService.get("modes.persona.no.persona"),e)})).subscribe(function(e){t.options=e})})},t.prototype.change=function(t){this.selected.emit(t)},t.prototype.setOptions=function(t,e){return[{name:t,identifier:"0"}].concat(e)},t}();_e([Object(i.Input)(),we("design:type","function"==typeof(Oe="undefined"!=typeof Se.DotPersona&&Se.DotPersona)&&Oe||Object)],Me.prototype,"value",void 0),_e([Object(i.Output)(),we("design:type",Object)],Me.prototype,"selected",void 0),Me=_e([Object(i.Component)({selector:"dot-persona-selector",template:n("yY7j"),styles:[n("Zg/J")]}),we("design:paramtypes",["function"==typeof(xe="undefined"!=typeof ve&&ve)&&xe||Object,"function"==typeof(Ce="undefined"!=typeof A.a&&A.a)&&Ce||Object])],Me);var Oe,xe,Ce,Ie=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},ke=function(){return function(){}}();ke=Ie([Object(i.NgModule)({imports:[o.CommonModule,r.DropdownModule,ae.FormsModule],declarations:[Me],exports:[Me]})],ke);var Ee=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},Ae=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},De=function(){function t(t){this.coreWebService=t}return t.prototype.get=function(t){return this.coreWebService.requestView({method:d.g.Get,url:t?"v2/languages?contentInode="+t:"v2/languages"}).pluck("entity")},t}();De=Ee([Object(i.Injectable)(),Ae("design:paramtypes",["function"==typeof(Pe="undefined"!=typeof x.e&&x.e)&&Pe||Object])],De);var Pe,Re=n("bm1c"),Le=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},He=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Te=function(){function t(t){this.dotLanguagesService=t,this.selected=new i.EventEmitter}return t.prototype.ngOnInit=function(){var t=this;this.dotLanguagesService.get(this.contentInode).pipe(Object(M.take)(1)).subscribe(function(e){t.languagesOptions=e})},t.prototype.change=function(t){this.selected.emit(t)},t}();Le([Object(i.Input)(),He("design:type","function"==typeof(Ne="undefined"!=typeof Re.DotLanguage&&Re.DotLanguage)&&Ne||Object)],Te.prototype,"value",void 0),Le([Object(i.Input)(),He("design:type",String)],Te.prototype,"contentInode",void 0),Le([Object(i.Output)(),He("design:type",Object)],Te.prototype,"selected",void 0),Te=Le([Object(i.Component)({selector:"dot-language-selector",template:n("DAe3"),styles:[n("tFqo")]}),He("design:paramtypes",["function"==typeof(Be="undefined"!=typeof De&&De)&&Be||Object])],Te);var Ne,Be,We=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},Ze=function(){return function(){}}();Ze=We([Object(i.NgModule)({imports:[o.CommonModule,r.DropdownModule,ae.FormsModule],declarations:[Te],exports:[Te]})],Ze);var Ge=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},Ue=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ze=function(){function t(t){this.coreWebService=t}return t.prototype.get=function(){return this.coreWebService.requestView({method:d.g.Get,url:"content/respectFrontendRoles/false/render/false/query/+contentType:previewDevice +live:true +deleted:false +working:true"}).pluck("contentlets")},t}();ze=Ge([Object(i.Injectable)(),Ue("design:paramtypes",["function"==typeof(Qe="undefined"!=typeof x.e&&x.e)&&Qe||Object])],ze);var Qe,Ve=n("0bvZ"),Fe=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},qe=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},$e=function(){function t(t,e){this.dotDevicesService=t,this.dotMessageService=e,this.selected=new i.EventEmitter}return t.prototype.ngOnInit=function(){var t=this;this.dotMessageService.getMessages(["editpage.viewas.default.device"]).pipe(Object(M.take)(1)).subscribe(function(){t.dotDevicesService.get().pipe(Object(M.take)(1),Object(M.flatMap)(function(t){return t}),Object(M.filter)(function(t){return+t.cssHeight>0&&+t.cssWidth>0}),Object(M.toArray)(),Object(M.map)(function(e){return t.setOptions(t.dotMessageService.get("editpage.viewas.default.device"),e)})).subscribe(function(e){t.options=e})})},t.prototype.change=function(t){this.selected.emit(t)},t.prototype.setOptions=function(t,e){return[{name:t,cssHeight:"",cssWidth:"",inode:"0"}].concat(e)},t}();Fe([Object(i.Input)(),qe("design:type","function"==typeof(Ye="undefined"!=typeof Ve.DotDevice&&Ve.DotDevice)&&Ye||Object)],$e.prototype,"value",void 0),Fe([Object(i.Output)(),qe("design:type",Object)],$e.prototype,"selected",void 0),$e=Fe([Object(i.Component)({selector:"dot-device-selector",template:n("LPdx"),styles:[n("4j45")]}),qe("design:paramtypes",["function"==typeof(Je="undefined"!=typeof ze&&ze)&&Je||Object,"function"==typeof(Ke="undefined"!=typeof A.a&&A.a)&&Ke||Object])],$e);var Ye,Je,Ke,Xe=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},tn=function(){return function(){}}();tn=Xe([Object(i.NgModule)({imports:[o.CommonModule,r.DropdownModule,ae.FormsModule],declarations:[$e],exports:[$e]})],tn);var en=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},nn=function(){return function(){}}();nn=en([Object(i.NgModule)({imports:[o.CommonModule,r.DropdownModule,ae.FormsModule,ke,Ze,tn,r.CheckboxModule],providers:[ze,De,ve],declarations:[ue],exports:[ue]})],nn);var on=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},an=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},rn=function(){function t(){}return t.prototype.ngOnInit=function(){this.url="/html/portlet/ext/htmlpages/view_live_working_diff.jsp?id="+this.pageId+"&pageLang="+this.languageId},t}();on([Object(i.Input)(),an("design:type",String)],rn.prototype,"languageId",void 0),on([Object(i.Input)(),an("design:type",String)],rn.prototype,"pageId",void 0),rn=on([Object(i.Component)({selector:"dot-whats-changed",template:n("Cxj8"),styles:[n("Wdwh")]}),an("design:paramtypes",[])],rn);var cn=n("kv9j"),dn=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},sn=function(){return function(){}}();sn=dn([Object(i.NgModule)({imports:[o.CommonModule,cn.a],declarations:[rn],exports:[rn]})],sn);var ln=n("a2jI"),pn=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},un=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},fn=function(){function t(t,e){this.paginatorService=t,this.dotMessageService=e,this.show=!1,this.select=new i.EventEmitter,this.close=new i.EventEmitter,this.messages={}}return t.prototype.ngOnInit=function(){var t=this;this.dotMessageService.getMessages(["contenttypes.form.name","Select","modes.Add-Form"]).pipe(Object(M.take)(1)).subscribe(function(e){t.messages=e}),this.paginatorService.url="v1/contenttype?type=FORM"},t.prototype.loadData=function(t){var e=this;this.paginatorService.getWithOffset(t.first).pipe(Object(M.take)(1)).subscribe(function(t){e.items=t})},t}();pn([Object(i.Input)(),un("design:type",Object)],fn.prototype,"show",void 0),pn([Object(i.Output)(),un("design:type",Object)],fn.prototype,"select",void 0),pn([Object(i.Output)(),un("design:type",Object)],fn.prototype,"close",void 0),fn=pn([Object(i.Component)({providers:[ln.b],selector:"dot-form-selector",template:n("wQ3J"),styles:[n("j/5N")]}),un("design:paramtypes",["function"==typeof(gn="undefined"!=typeof ln.b&&ln.b)&&gn||Object,"function"==typeof(mn="undefined"!=typeof A.a&&A.a)&&mn||Object])],fn);var gn,mn,hn=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},bn=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},yn=function(){function t(){this.header="",this.close=new i.EventEmitter}return t.prototype.closeDialog=function(){this.show=!1,this.close.emit()},t}();hn([Object(i.Input)(),bn("design:type",Object)],yn.prototype,"header",void 0),hn([Object(i.Input)(),bn("design:type",Boolean)],yn.prototype,"show",void 0),hn([Object(i.Input)(),bn("design:type",Object)],yn.prototype,"ok",void 0),hn([Object(i.Input)(),bn("design:type",Object)],yn.prototype,"cancel",void 0),hn([Object(i.Output)(),bn("design:type","function"==typeof(vn="undefined"!=typeof i.EventEmitter&&i.EventEmitter)&&vn||Object)],yn.prototype,"close",void 0),yn=hn([Object(i.Component)({selector:"dot-dialog",template:n("kJT6"),styles:[n("+mSH")]}),bn("design:paramtypes",[])],yn);var vn,jn=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},Sn=function(){return function(){}}();Sn=jn([Object(i.NgModule)({imports:[o.CommonModule,r.ButtonModule,o.CommonModule,r.DialogModule],declarations:[yn],exports:[yn]})],Sn);var _n=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},wn=function(){return function(){}}();wn=_n([Object(i.NgModule)({imports:[o.CommonModule,r.DataTableModule,Sn,r.ButtonModule],declarations:[fn],exports:[fn]})],wn);var Mn=n("7n+s"),On=n("gJOy");n.d(e,"DotEditContentModule",function(){return In});var xn=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},Cn=[{component:gt,path:""}],In=function(){return function(){}}();In=xn([Object(i.NgModule)({declarations:[gt],imports:[o.CommonModule,r.DialogModule,a.RouterModule.forChild(Cn),Mn.a,m.a,nn,sn,wn,r.TooltipModule,Mn.a,On.a,ce,de.a],exports:[gt],providers:[p,g,j,Q,H,tt,se.a,Vt.a]})],In)},"9Y49":function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,':root{--color-background:#3a3847;--color-main:#c336e5;--color-main_mod:#d369ec;--color-main_rgb:195,54,229;--color-sec:#54428e;--color-sec_rgb:84,66,142}:host{background-color:#fff;display:block;position:relative;z-index:1}:host ::ng-deep .ui-toolbar{border-bottom:1px solid #ecedee;height:48px;padding-left:0}::ng-deep [secondary] .ui-selectbutton .edit-page-toolbar__state-selector-item--disabled,::ng-deep [secondary] .ui-selectbutton .edit-page-toolbar__state-selector-item--disabled:hover{background:none;pointer-events:none}::ng-deep [secondary] .ui-selectbutton .edit-page-toolbar__state-selector-item--disabled .ui-button-text,::ng-deep [secondary] .ui-selectbutton .edit-page-toolbar__state-selector-item--disabled:hover .ui-button-text{color:#c5c5c5}.edit-page-toolbar__state-selector,.ui-toolbar-group-left{display:-webkit-box;display:-ms-flexbox;display:flex}.edit-page-toolbar__state-selector{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:100%;margin-right:24px}.edit-page-toolbar__state-selector ::ng-deep .ui-button{height:48px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.edit-page-toolbar__locker ::ng-deep{-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center;margin-right:16px}.edit-page-toolbar__locker ::ng-deep .ui-inputswitch-handle{position:relative}.edit-page-toolbar__locker ::ng-deep .ui-inputswitch-handle:after{content:"\\F023";color:#c336e5;color:var(--color-main);display:inline-block;font-size:inherit;font:normal normal normal 14px/1 FontAwesome;left:5px;position:absolute;text-rendering:auto;top:3px}.edit-page-toolbar__locker ::ng-deep.ui-inputswitch-checked .ui-inputswitch-handle:after{color:#fff}.edit-page-toolbar__locker ::ng-deep .ui-state-disabled .ui-inputswitch-handle:after{color:rgba(10,7,37,.2)}.edit-page-toolbar__locker.warn ::ng-deep .ui-inputswitch-handle:after{color:#f3762a}.edit-page-toolbar__locker.warn ::ng-deep.ui-inputswitch-checked .ui-inputswitch-handle:after{color:#fff}.edit-page-toolbar__cancel{margin-right:8px}',""]),t.exports=t.exports.toString()},Bl88:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"",""]),t.exports=t.exports.toString()},Cxj8:function(t,e){t.exports='<dot-iframe [src]="url"></dot-iframe>'},DAe3:function(t,e){t.exports='<p-dropdown\n    tiny\n    [options]="languagesOptions"\n    optionLabel="language"\n    [(ngModel)]="value"\n    [style]="{\'width\': \'100px\'}"\n    (onChange)="change($event.value)">\n</p-dropdown>\n'},DGpV:function(t,e){t.exports='<span #lockedPageMessage class="page-info__locked-by-message" *ngIf="pageState.state.lockedByAnotherUser && pageState.page.canEdit">\n    {{ dotMessageService.get(\'editpage.toolbar.page.locked.by.user\', pageState.page.lockedByName) }}\n</span>\n\n<span #lockedPageMessage class="page-info__cant-edit-message" *ngIf="!pageState.page.canEdit">\n    {{ dotMessageService.get(\'editpage.toolbar.page.cant.edit\') }}\n</span>\n'},"Ez9/":function(t,e){},HQcU:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,':root{--color-background:#3a3847;--color-main:#c336e5;--color-main_mod:#d369ec;--color-main_rgb:195,54,229;--color-sec:#54428e;--color-sec_rgb:84,66,142}:host{background-color:#f1f3f4;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;position:relative;width:100%}.dot-edit__iframe,dot-whats-changed{background:#fff;border-radius:2px;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;overflow:hidden}.dot-edit__toolbar{-ms-flex-negative:0;flex-shrink:0}.dot-edit__page-actions{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding:16px}.dot-edit__page-actions,.dot-edit__page-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex}.dot-edit__page-wrapper{-ms-flex-item-align:center;align-self:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:0 16px 16px;width:100%}.dot-edit__page-wrapper--deviced{padding:24px 0}.dot-edit__device-wrapper{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.dot-edit__page-wrapper--deviced .dot-edit__device-wrapper{-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;border-radius:10px;border:2px solid #ddd;box-shadow:4px 4px 15px rgba(0,0,0,.1);background:#fff;background:linear-gradient(135deg,#fff,#f0f0f0);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#ffffff",endColorstr="#f0f0f0",GradientType=1);margin:0 auto;padding:0 10px}.dot-edit__page-wrapper--deviced .dot-edit__device-wrapper:before{content:"";display:block;height:5px;width:70px;border:1px solid #ddd;background-color:#e6e6e6;border-radius:3px;margin:35px auto}.dot-edit__page-wrapper--deviced .dot-edit__device-wrapper:after{content:"";display:block;height:45px;width:45px;border:1px solid #ddd;background-color:#e6e6e6;border-radius:45px;margin:15px auto 20px auto;background:#f2eff2;background:linear-gradient(135deg,#f2eff2,#f2eff2 9%,#fff 76%,#fff);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#f2eff2",endColorstr="#ffffff",GradientType=1)}::ng-deep .ui-unselectable-text .dot-edit__contentlet-iframe{pointer-events:none}',""]),t.exports=t.exports.toString()},K3LY:function(t,e){t.exports='<ng-template [ngIf]="isEnterpriseLicense$ | async">\n    <div class="device-info" *ngIf="pageState.viewAs.device">\n        <span class="device-info__label">{{ messages[\'editpage.viewas.previewing\'] }}:</span>\n        <span class="device-info__content">\n            {{ pageState.viewAs.device.name }} - {{ pageState.viewAs.device.cssWidth }} x {{ pageState.viewAs.device.cssHeight }}\n        </span>\n    </div>\n</ng-template>\n\n<dot-language-selector (selected)="changeLanguageHandler($event)"  [value]="pageState.viewAs.language" [contentInode]="pageState.page.inode"></dot-language-selector>\n\n<ng-template [ngIf]="isEnterpriseLicense$ | async">\n    <dot-device-selector (selected)="changeDeviceHandler($event)" [value]="pageState.viewAs.device"></dot-device-selector>\n    <dot-persona-selector (selected)="changePersonaHandler($event)" [value]="pageState.viewAs.persona"></dot-persona-selector>\n    <p-checkbox [label]="messages[\'dot.common.whats.changed\']" *ngIf="isPreview" (onChange)="whatschange.emit($event)"></p-checkbox>\n</ng-template>\n'},LPdx:function(t,e){t.exports='<p-dropdown\n    tiny\n    (onChange)="change($event.value)"\n    [(ngModel)]="value"\n    [options]="options"\n    [style]="{\'width\': \'100px\'}"\n    dataKey="inode"\n    optionLabel="name"\n    [disabled]="!options || options.length === 1">\n</p-dropdown>\n'},Wdwh:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,":host,:host dot-iframe{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}:host dot-iframe,:host dot-iframe ::ng-deep iframe{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}",""]),t.exports=t.exports.toString()},"Zg/J":function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"",""]),t.exports=t.exports.toString()},bm1c:function(t,e){},g6gF:function(t,e){t.exports='<button pButton\n    secondary\n    (click)="menu.toggle($event)"\n    icon="fa-ellipsis-v"\n    [disabled]="!actionsAvailable">\n</button>\n\n<p-menu [model]="actions | async" #menu popup="popup" appendTo="body"></p-menu>\n\n'},"h/Qh":function(t,e){},"j/5N":function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,":root{--color-background:#3a3847;--color-main:#c336e5;--color-main_mod:#d369ec;--color-main_rgb:195,54,229;--color-sec:#54428e;--color-sec_rgb:84,66,142}:host dot-dialog ::ng-deep th{text-align:left}:host dot-dialog ::ng-deep .dialog .ui-dialog{width:800px}:host dot-dialog ::ng-deep .dialog .ui-dialog .ui-dialog-content{height:665px!important}",""]),t.exports=t.exports.toString()},kJT6:function(t,e){t.exports='<p-dialog\n    class="dialog"\n    [header]="header"\n    (onHide)="closeDialog($event)"\n    [draggable]="false"\n    [visible]="show"\n    [dismissableMask]="true"\n    [responsive]="true"\n    [modal]="true">\n\n    <ng-content></ng-content>\n\n    <p-footer *ngIf="ok || cancel">\n        <button *ngIf="cancel" pButton class="dot-dialog__cancel" type="button"  [label]="cancel.label" (click)="cancel.action()"></button>\n        <button *ngIf="ok" pButton class="dot-dialog__ok" type="button"  [label]="ok.label" (click)="ok.action()"></button>\n    </p-footer>\n</p-dialog>\n'},ry7G:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,":root{--color-background:#3a3847;--color-main:#c336e5;--color-main_mod:#d369ec;--color-main_rgb:195,54,229;--color-sec:#54428e;--color-sec_rgb:84,66,142}:host{font-size:12px;color:#c5c5c5}.page-info__locked-by-message{color:#cb3927}.page-info__locked-by-message--blink{-webkit-animation:blinker .5s linear 1;animation:blinker .5s linear 1}@-webkit-keyframes blinker{0%{opacity:.25}25%{opacity:0}50%{opacity:.5}75%{opacity:0}to{opacity:1}}@keyframes blinker{0%{opacity:.25}25%{opacity:0}50%{opacity:.5}75%{opacity:0}to{opacity:1}}",""]),t.exports=t.exports.toString()},tFqo:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"",""]),t.exports=t.exports.toString()},uH7c:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,":root{--color-background:#3a3847;--color-main:#c336e5;--color-main_mod:#d369ec;--color-main_rgb:195,54,229;--color-sec:#54428e;--color-sec_rgb:84,66,142}:host{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}:host>*{margin-left:16px}:host>:first-child{margin-left:0}::ng-deep .ui-dropdown:not(.ui-state-disabled) .ui-dropdown-label,::ng-deep .ui-dropdown:not(.ui-state-disabled) .ui-dropdown-trigger{color:#7e7a86}::ng-deep .ui-chkbox:not(.ui-state-disabled) .ui-chkbox-box.ui-state-default{border-color:#7e7a86}::ng-deep .ui-chkbox-label{color:#7e7a86}.device-info{border-right:1px solid #c5c5c5;margin-right:8px;padding-right:16px}.device-info__label{color:#7e7a86;margin-right:2px}.device-info__content{font-size:12px;text-transform:uppercase}",""]),t.exports=t.exports.toString()},wQ3J:function(t,e){t.exports='<dot-dialog [show]="show" (close)="close.emit($event)" [header]="messages[\'modes.Add-Form\']">\n    <p-dataTable\n        (onLazyLoad)="loadData($event)"\n        [lazy]="true"\n        [pageLinks]="paginatorService.maxLinksPage"\n        [paginator]="true"\n        [rows]="paginatorService.paginationPerPage"\n        [totalRecords]="paginatorService.totalRecords"\n        [value]="items">\n        <p-column [header]="messages[\'contenttypes.form.name\']" field="name"></p-column>\n        <p-column [style]="{\'text-align\': \'right\'}">\n            <ng-template let-item="rowData" pTemplate="body">\n                <button\n                    pButton\n                    flat\n                    class="form-selector__button"\n                    [label]="messages[\'Select\']"\n                    (click)="select.emit(item)"></button>\n            </ng-template>\n        </p-column>\n    </p-dataTable>\n</dot-dialog>\n'},yY7j:function(t,e){t.exports='<p-dropdown\n    tiny\n    (onChange)="change($event.value)"\n    [(ngModel)]="value"\n    [options]="options"\n    [style]="{\'width\': \'100px\'}"\n    dataKey="identifier"\n    optionLabel="name"\n    [disabled]="!options || options.length === 1">\n</p-dropdown>\n'},zKBx:function(t,e){t.exports='<p-toolbar>\n    <div class="ui-toolbar-group-left">\n        <p-selectButton secondary class="edit-page-toolbar__state-selector" [(ngModel)]="mode" (onChange)="stateSelectorHandler($event.value)" [options]="states"></p-selectButton>\n        <p-inputSwitch #locker class="edit-page-toolbar__locker" [class.warn]="pageState.page.canLock && pageState.state.lockedByAnotherUser" [disabled]="!pageState.page.canLock" [(ngModel)]="lockerModel" (onChange)="lockPageHandler($event)" (click)="onLockerClick($event)"></p-inputSwitch>\n        <dot-edit-page-lock-info [pageState]="pageState" #pageLockInfo></dot-edit-page-lock-info>\n    </div>\n\n    <div class="ui-toolbar-group-right">\n        <button pButton secondary tiny type="button" class="edit-page-toolbar__cancel" [label]="dotMessageService.get(\'dot.common.cancel\')" (click)="cancel.emit()"></button>\n        <dot-edit-page-workflows-actions [page]="pageState.page" (fired)="handleActionFired()"></dot-edit-page-workflows-actions>\n    </div>\n</p-toolbar>\n'}});